!function(t,e,n,o){"use strict";if(t.console=t.console||{info:function(t){}},n)if(n.fn.fancybox)console.info("fancyBox already initialized");else{var i,a={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},s=n(t),r=n(e),c=0,l=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},d=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(n.style[t]!==o)return i[t];return"transitionend"}(),u=function(t){return t&&t.length&&t[0].offsetHeight},f=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},p=function(t,o,i){var a=this;a.opts=f({index:i},n.fancybox.defaults),n.isPlainObject(o)&&(a.opts=f(a.opts,o)),n.fancybox.isMobile&&(a.opts=f(a.opts,a.opts.mobile)),a.id=a.opts.id||++c,a.currIndex=parseInt(a.opts.index,10)||0,a.prevIndex=null,a.prevPos=null,a.currPos=0,a.firstRun=!0,a.group=[],a.slides={},a.addContent(t),a.group.length&&(a.$lastFocus=n(e.activeElement).trigger("blur"),a.init())};n.extend(p.prototype,{init:function(){var i,a,s,r=this,c=r.group[r.currIndex].opts,l=n.fancybox.scrollbarWidth;n.fancybox.getInstance()||!1===c.hideScrollbar||(n("body").addClass("fancybox-active"),!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(l===o&&(i=n('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),l=n.fancybox.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+l+"px; }</style>"),n("body").addClass("compensate-for-scrollbar"))),s="",n.each(c.buttons,function(t,e){s+=c.btnTpl[e]||""}),a=n(r.translate(r,c.baseTpl.replace("{{buttons}}",s).replace("{{arrows}}",c.btnTpl.arrowLeft+c.btnTpl.arrowRight))).attr("id","fancybox-container-"+r.id).addClass("fancybox-is-hidden").addClass(c.baseClass).data("FancyBox",r).appendTo(c.parentEl),r.$refs={container:a},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){r.$refs[t]=a.find(".fancybox-"+t)}),r.trigger("onInit"),r.activate(),r.jumpTo(r.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=n[e];return i===o?t:i})},addContent:function(t){var e,i=this,a=n.makeArray(t);n.each(a,function(t,e){var a,s,r,c,l,d={},u={};n.isPlainObject(e)?(d=e,u=e.opts||e):"object"===n.type(e)&&n(e).length?(u=(a=n(e)).data()||{},(u=n.extend(!0,{},u,u.options)).$orig=a,d.src=i.opts.src||u.src||a.attr("href"),d.type||d.src||(d.type="inline",d.src=e)):d={type:"html",src:e+""},d.opts=n.extend(!0,{},i.opts,u),n.isArray(u.buttons)&&(d.opts.buttons=u.buttons),s=d.type||d.opts.type,c=d.src||"",!s&&c&&((r=c.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(s="video",d.opts.videoFormat||(d.opts.videoFormat="video/"+("ogv"===r[1]?"ogg":r[1]))):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?s="image":c.match(/\.(pdf)((\?|#).*)?$/i)?s="iframe":"#"===c.charAt(0)&&(s="inline")),s?d.type=s:i.trigger("objectNeedsType",d),d.contentType||(d.contentType=n.inArray(d.type,["html","inline","ajax"])>-1?"html":d.type),d.index=i.group.length,"auto"==d.opts.smallBtn&&(d.opts.smallBtn=n.inArray(d.type,["html","inline","ajax"])>-1),"auto"===d.opts.toolbar&&(d.opts.toolbar=!d.opts.smallBtn),d.opts.$trigger&&d.index===i.opts.index&&(d.opts.$thumb=d.opts.$trigger.find("img:first")),d.opts.$thumb&&d.opts.$thumb.length||!d.opts.$orig||(d.opts.$thumb=d.opts.$orig.find("img:first")),"function"===n.type(d.opts.caption)&&(d.opts.caption=d.opts.caption.apply(e,[i,d])),"function"===n.type(i.opts.caption)&&(d.opts.caption=i.opts.caption.apply(e,[i,d])),d.opts.caption instanceof n||(d.opts.caption=d.opts.caption===o?"":d.opts.caption+""),"ajax"===d.type&&(l=c.split(/\s+/,2)).length>1&&(d.src=l.shift(),d.opts.filter=l.shift()),d.opts.modal&&(d.opts=n.extend(!0,d.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(d)}),Object.keys(i.slides).length&&(i.updateControls(),(e=i.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?l(function(){o.update()}):(o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update()},n.fancybox.isMobile?600:250))}),r.on("focusin.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null;o.isClosing||!o.current||!o.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||o&&"fixed"!==n(t.target).css("position")&&!o.$refs.container.has(t.target).length&&(t.stopPropagation(),o.focus())}),r.on("keydown.fb",function(t){var e=o.current,i=t.keyCode||t.which;if(e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input")||n(t.target).is("textarea")))return 8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=t.setInterval(function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){s.off("orientationchange.fb resize.fb"),r.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(t.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var i,a,s,r,c,l,d,f=this,p=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=p))return!1;if(i=f.firstRun=!Object.keys(f.slides).length,!(p<2&&!i&&f.isDragging)){if(r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),p>1&&((a||s.index>0)&&f.createSlide(t-1),(a||s.index<p-1)&&f.createSlide(t+1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger("beforeShow",i),f.updateControls(),l=n.fancybox.getTranslate(s.$slide),s.isMoved=(0!==l.left||0!==l.top)&&!s.$slide.hasClass("fancybox-animated"),s.forcedDuration=o,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[i?"animationDuration":"transitionDuration"],e=parseInt(e,10),i)return s.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.removeClass("fancybox-is-hidden"),u(f.$refs.container),f.$refs.container.addClass("fancybox-is-open"),u(f.$refs.container),s.$slide.addClass("fancybox-slide--previous"),f.loadSlide(s),s.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void f.preload("image");n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide)}),s.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),s.isMoved?(c=Math.round(s.$slide.width()),n.each(f.slides,function(t,o){var i=o.pos-s.pos;n.fancybox.animate(o.$slide,{top:0,left:i*c+i*o.opts.gutter},e,function(){o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===f.currPos&&(s.isMoved=!1,f.complete())})})):f.$refs.stage.children().removeAttr("style"),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload("image"),r.pos!==s.pos&&(d="fancybox-slide--"+(r.pos>s.pos?"next":"previous"),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),r.isComplete=!1,e&&(s.isMoved||s.opts.transitionEffect)&&(s.isMoved?r.$slide.addClass(d):(d="fancybox-animated "+d+" fancybox-fx-"+s.opts.transitionEffect,n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeAttr("style")}))))}}},createSlide:function(t){var e,o,i=this;return o=(o=t%i.group.length)<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var a,s,r,c,l,d=this,u=d.current,f=u.$content,p=n.fancybox.getTranslate(u.$slide).width,h=n.fancybox.getTranslate(u.$slide).height,g=u.width,b=u.height;!d.isAnimating&&f&&"image"==u.type&&u.isLoaded&&!u.hasError&&(n.fancybox.stop(f),d.isAnimating=!0,t=t===o?.5*p:t,e=e===o?.5*h:e,(a=n.fancybox.getTranslate(f)).top-=n.fancybox.getTranslate(u.$slide).top,a.left-=n.fancybox.getTranslate(u.$slide).left,c=g/a.width,l=b/a.height,s=.5*p-.5*g,r=.5*h-.5*b,g>p&&((s=a.left*c-(t*c-t))>0&&(s=0),s<p-g&&(s=p-g)),b>h&&((r=a.top*l-(e*l-e))>0&&(r=0),r<h-b&&(r=h-b)),d.updateCursor(g,b),n.fancybox.animate(f,{top:r,left:s,scaleX:c,scaleY:l},i||330,function(){d.isAnimating=!1}),d.SlideShow&&d.SlideShow.isActive&&d.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;!o.isAnimating&&a&&"image"==i.type&&i.isLoaded&&!i.hasError&&(n.fancybox.stop(a),o.isAnimating=!0,e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||330,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,n,o,i,a,s=t.$content,r=t.width||t.opts.width,c=t.height||t.opts.height,l={};return!!(t.isLoaded&&s&&s.length)&&(i={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(this.$refs.stage.width(),10)-(i.left+i.right),n=parseInt(this.$refs.stage.height(),10)-(i.top+i.bottom),r&&c||(r=e,c=n),o=Math.min(1,e/r,n/c),r=Math.floor(o*r),c=Math.floor(o*c),"image"===t.type?(l.top=Math.floor(.5*(n-c))+i.top,l.left=Math.floor(.5*(e-r))+i.left):"video"===t.contentType&&(c>r/(a=t.opts.width&&t.opts.height?r/c:t.opts.ratio||16/9)?c=r/a:r>c*a&&(r=c*a)),l.width=r,l.height=c,l)},update:function(){var t=this;n.each(t.slides,function(e,n){t.updateSlide(n)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height;i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),t.$slide.trigger("refresh"),o.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),o.trigger("onUpdate",t)},centerSlide:function(t,e){var i,a;this.current&&(i=Math.round(t.$slide.width()),a=t.pos-this.current.pos,n.fancybox.animate(t.$slide,{top:0,left:a*i+a*t.opts.gutter,opacity:1},e===o?0:e,null,!1))},updateCursor:function(t,e){var o,i=this,a=i.current,s=i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");a&&!i.isClosing&&(o=i.isZoomable(),s.toggleClass("fancybox-is-zoomable",o),n("[data-fancybox-zoom]").prop("disabled",!o),o&&("zoom"===a.opts.clickContent||n.isFunction(a.opts.clickContent)&&"zoom"===a.opts.clickContent(a))?i.isScaledDown(t,e)?s.addClass("fancybox-can-zoomIn"):a.opts.touch?s.addClass("fancybox-can-drag"):s.addClass("fancybox-can-zoomOut"):a.opts.touch&&"video"!==a.contentType&&s.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if(t=this.getFitPos(e),e.width>t.width||e.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=!1,a=this.current,s=a.$content;return t!==o&&e!==o?i=t<a.width&&e<a.height:s&&(i=(i=n.fancybox.getTranslate(s)).width<a.width&&i.height<a.height),i},canPan:function(){var t,e=!1,n=this.current;return"image"===n.type&&(t=n.$content)&&!n.hasError&&(e=this.getFitPos(n),e=Math.abs(t.width()-e.width)>1||Math.abs(t.height()-e.height)>1),e},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,a.trigger("beforeLoad",t),e=t.type,(o=t.$slide).off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(e){var o,i,a,s,r,c=this,l=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout(function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||c.showLoading(e)},350),l){s=t.devicePixelRatio||1,r=t.innerWidth*s,(a=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e})).sort(function(t,e){return t.value-e.value});for(var d=0;d<a.length;d++){var u=a[d];if("w"===u.postfix&&u.value>=r||"x"===u.postfix&&u.value>=s){i=u;break}}!i&&a.length&&(i=a[a.length-1]),i&&(e.src=i.url,e.width&&e.height&&"w"==i.postfix&&(e.height=e.width/e.height*i.value,e.width=i.value),e.opts.srcset=l)}e.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),o=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&o&&(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",function(){n(this).remove(),e.$ghost=null}).one("load",function(){c.afterLoad(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",o)),c.setBigImage(e)},setBigImage:function(t){var e=this,o=n("<img />");t.$image=o.one("error",function(){e.setError(t)}).one("load",function(){var n;t.$ghost||(e.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),e.afterLoad(t)),t.timouts&&(clearTimeout(t.timouts),t.timouts=null),e.isClosing||(t.opts.srcset&&((n=t.opts.sizes)&&"auto"!==n||(n=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",n).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!e.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),e.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(o[0].complete||"complete"==o[0].readyState)&&o[0].naturalWidth&&o[0].naturalHeight?o.trigger("load"):o[0].error&&o.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,i=this,a=t.opts.iframe,s=t.$slide;t.$content=n('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(s),s.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(t.$content),a.preload?(i.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)}),s.on("refresh.fb",function(){var n,i=t.$content,s=a.css.width,r=a.css.height;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&n.children().length&&(i.css({width:"",height:""}),s===o&&(s=Math.ceil(Math.max(n[0].clientWidth,n.outerWidth(!0)))),s&&i.width(s),r===o&&(r=Math.ceil(Math.max(n[0].clientHeight,n.outerHeight(!0)))),r&&i.height(r)),i.removeClass("fancybox-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),s.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1})},setContent:function(t,e){var o;this.isClosing||(this.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),(o=e)&&o.hasOwnProperty&&o instanceof n&&e.parent().length?(e.parent().parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&3===(e=n("<div>").append(n.trim(e)).contents())[0].nodeType&&(e=n("<div>").html(e)),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.pos===e.currPos&&e.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,a,s,r=this,c=t.$slide,l=!1,d=!1;return e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],a=t.opts[r.firstRun?"animationDuration":"transitionDuration"],a=parseInt(t.forcedDuration===o?a:t.forcedDuration,10),t.pos===r.currPos&&(t.isComplete?e=!1:r.isAnimating=!0),!t.isMoved&&t.pos===r.currPos&&a||(e=!1),"zoom"===e&&(t.pos===r.currPos&&a&&"image"===t.type&&!t.hasError&&(d=r.getThumbPos(t))?l=r.getFitPos(t):e="fade"),"zoom"===e?(l.scaleX=l.width/d.width,l.scaleY=l.height/d.height,"auto"==(s=t.opts.zoomOpacity)&&(s=Math.abs(t.width/t.height-d.width/d.height)>.1),s&&(d.opacity=.1,l.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),d),u(t.$content),void n.fancybox.animate(t.$content,l,a,function(){r.isAnimating=!1,r.complete()})):(r.updateSlide(t),e?(n.fancybox.stop(c),i="fancybox-animated fancybox-slide--"+(t.pos>=r.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),u(c),void n.fancybox.animate(c,"fancybox-slide--current",a,function(e){c.removeClass(i).removeAttr("style"),t.pos===r.currPos&&r.complete()},!0)):(u(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(o){var i,a=!1,s=o.opts.$thumb,r=s&&s.length&&s[0].ownerDocument===e?s.offset():0;return r&&function(e){for(var o=e[0],i=o.getBoundingClientRect(),a=[];null!==o.parentElement;)"hidden"!==n(o.parentElement).css("overflow")&&"auto"!==n(o.parentElement).css("overflow")||a.push(o.parentElement.getBoundingClientRect()),o=o.parentElement;return a.every(function(t){var e=Math.min(i.right,t.right)-Math.max(i.left,t.left),n=Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top);return e>0&&n>0})&&i.bottom>0&&i.right>0&&i.left<n(t).width()&&i.top<n(t).height()}(s)&&(i=this.$refs.stage.offset(),a={top:r.top-i.top+parseFloat(s.css("border-top-width")||0),left:r.left-i.left+parseFloat(s.css("border-left-width")||0),width:s.width(),height:s.height(),scaleX:1,scaleY:1}),a},complete:function(){var t=this,o=t.current,i={};!o.isMoved&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),t.preload("inline"),u(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,function(e,o){o.pos>=t.currPos-1&&o.pos<=t.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),t.slides=i),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShow"),o.$slide.find("video,audio").filter(":visible:first").trigger("play"),(n(e.activeElement).is("[disabled]")||o.opts.autoFocus&&"image"!=o.type&&"iframe"!==o.type)&&t.focus())},preload:function(t){var e=this,n=e.slides[e.currPos+1],o=e.slides[e.currPos-1];n&&n.type===t&&e.loadSlide(n),o&&o.type===t&&e.loadSlide(o)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),(t=t&&t.length?t:e.$content).trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,f,p=this,h=p.current,g=function(){p.cleanUp(t)};return!p.isClosing&&(p.isClosing=!0,!1===p.trigger("beforeClose",t)?(p.isClosing=!1,l(function(){p.update()}),!1):(p.removeEvents(),h.timouts&&clearTimeout(h.timouts),a=h.$content,o=h.opts.animationEffect,i=n.isNumeric(e)?e:o?h.opts.animationDuration:0,h.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),h.$slide.siblings().trigger("onReset").remove(),i&&p.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),p.hideLoading(h),p.hideControls(),p.updateCursor(),"zoom"!==o||!0!==t&&a&&i&&"image"===h.type&&!h.hasError&&(f=p.getThumbPos(h))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),c={top:(s=n.fancybox.getTranslate(a)).top,left:s.left,scaleX:s.width/f.width,scaleY:s.height/f.height,width:f.width,height:f.height},"auto"==(r=h.opts.zoomOpacity)&&(r=Math.abs(h.width/h.height-f.width/f.height)>.1),r&&(f.opacity=0),n.fancybox.setTranslate(a,c),u(a),n.fancybox.animate(a,f,i,g),!0):(o&&i?!0===t?setTimeout(g,i):n.fancybox.animate(h.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+o,i,g):g(),!0)))},cleanUp:function(t){var e,o=this,i=n("body");o.current.$slide.trigger("onReset"),o.$refs.container.empty().remove(),o.trigger("afterClose",t),o.$lastFocus&&o.current.opts.backFocus&&o.$lastFocus.trigger("focus"),o.current=null,(e=n.fancybox.getInstance())?e.activate():(i.removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;"afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i)},updateControls:function(t){var e=this,n=e.current,o=n.index,i=n.opts.caption,a=e.$refs.container,s=e.$refs.caption;n.$slide.trigger("refresh"),e.$caption=i&&i.length?s.html(i):null,e.isHiddenControls||e.isIdle||e.showControls(),a.find("[data-fancybox-count]").html(e.group.length),a.find("[data-fancybox-index]").html(o+1),a.find("[data-fancybox-prev]").toggleClass("disabled",!n.opts.loop&&o<=0),a.find("[data-fancybox-next]").toggleClass("disabled",!n.opts.loop&&o>=e.group.length-1),"image"===n.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",n.opts.image.src||n.src).show():n.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?n.addClass("fancybox-show-caption "):n.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.3.5",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof p&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new p(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:e.createTouch!==o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(i=e.createElement("div"),t.getComputedStyle&&t.getComputedStyle(i)&&t.getComputedStyle(i).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var n="",i={};if(t&&e)return e.left===o&&e.top===o||(n=(e.left===o?t.position().left:e.left)+"px, "+(e.top===o?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==o&&e.scaleY!==o&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),e.opacity!==o&&(i.opacity=e.opacity),e.width!==o&&(i.width=e.width),e.height!==o&&(i.height=e.height),t.css(i)},animate:function(t,e,i,a,s){var r=!1;n.isFunction(i)&&(a=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),n.fancybox.stop(t),t.on(d,function(o){(!o||!o.originalEvent||t.is(o.originalEvent.target)&&"z-index"!=o.originalEvent.propertyName)&&(n.fancybox.stop(t),r&&n.fancybox.setTranslate(t,r),n.isPlainObject(e)?!1===s&&t.removeAttr("style"):!0!==s&&t.removeClass(e),n.isFunction(a)&&a(o))}),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?(e.scaleX!==o&&e.scaleY!==o&&(r=n.extend({},e,{width:t.width()*e.scaleX,height:t.height()*e.scaleY,scaleX:1,scaleY:1}),delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},h):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},h),this},r.on("click.fb-start","[data-fancybox]",h),r.on("click.fb-start","[data-trigger]",function(t){h(t,{$target:n('[data-fancybox="'+n(t.currentTarget).attr("data-trigger")+'"]').eq(n(t.currentTarget).attr("data-index")||0),$trigger:n(this)})})}function h(t,e){var o,i,a=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),(i=(o=(e=t&&t.data?t.data.options:e||{}).$target||n(t.currentTarget)).attr("data-fancybox")||"")?(s=(a=(a=e.selector?n(e.selector):t.data?t.data.items:[]).length?a.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]')).index(o))<0&&(s=0):a=[o],n.fancybox.open(a,e,s))}}(window,document,window.jQuery||jQuery),function(t){"use strict";var e=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},n,a.opts.media),t.each(s,function(n,o){if(c=p.match(o.matcher)){if(h=o.type,f=n,u={},o.paramPlace&&c[o.paramPlace]){"?"==(d=c[o.paramPlace])[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s=d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[n],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):e(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):e(o.thumb,c),"youtube"===n?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===n&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)})}(window.jQuery||jQuery),function(t,e,n){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},a=function(e){var n=[];for(var o in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){for(var n,o,i,a,s,r=!1;n=e.get(0),void 0,void 0,void 0,void 0,o=t.getComputedStyle(n)["overflow-y"],i=t.getComputedStyle(n)["overflow-x"],a=("scroll"===o||"auto"===o)&&n.scrollHeight>n.clientHeight,s=("scroll"===i||"auto"===i)&&n.scrollWidth>n.clientWidth,!(r=a||s)&&(e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body"););return r},l=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};l.prototype.destroy=function(){this.$container.off(".fb.touch")},l.prototype.ontouchstart=function(o){var i=this,l=n(o.target),d=i.instance,u=d.current,f=u.$content,p="touchstart"==o.type;if(p&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&l.length&&!r(l)&&!r(l.parent())&&(l.is("img")||!(o.originalEvent.clientX>l[0].clientWidth+l.offset().left))){if(!u||d.isAnimating||d.isClosing)return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=l,i.$content=f,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(u.$slide[0].clientWidth),i.canvasHeight=Math.round(u.$slide[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=i.sliderLastPos||n.fancybox.getTranslate(u.$slide),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(p?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),(i.opts||d.canPan())&&(l.is(i.$stage)||i.$stage.find(l).length)?(n.fancybox.isMobile&&(c(l)||c(l.parent()))||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.instance.canPan()?(n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-controls--isGrabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.$content.css("transition-duration",""),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))):l.is(".fancybox-image")&&o.preventDefault())}},l.prototype.onscroll=function(t){this.isScrolling=!0,e.removeEventListener("scroll",this.onscroll,!0)},l.prototype.ontouchmove=function(t){var e=this,o=n(t.target);void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling||!o.is(e.$stage)&&!e.$stage.find(o).length?e.canTap=!1:(e.newPoints=a(t),(e.opts||e.instance.canPan())&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},l.prototype.onSwipe=function(e){var a,s=this,r=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==r)"x"==r&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:"x"==r?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&n.fancybox.isMobile&&(c(s.$target)||c(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(s.instance.slides,function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left-n.fancybox.getTranslate(s.instance.$refs.stage).left)}),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},l.prototype.onPan=function(){var t=this;s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(i(t.requestId),t.requestId=null),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)}))},l.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},l.prototype.limitPosition=function(t,e,n,o){var i=this.canvasWidth,a=this.canvasHeight;return t=n>i?(t=t>0?0:t)<i-n?i-n:t:Math.max(0,i/2-n/2),{top:e=o>a?(e=e>0?0:e)<a-o?a-o:e:Math.max(0,a/2-o/2),left:t}},l.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,f=Math.floor(r*u),p=Math.floor(c*u),h=(r-f)*e.percentageOfImageAtPinchPointX,g=(c-p)*e.percentageOfImageAtPinchPointY,b=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),m=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=b-e.centerPointStartX,v={top:d+(g+(m-e.centerPointStartY)),left:l+(h+y),scaleX:u,scaleY:u};e.canTap=!1,e.newWidth=f,e.newHeight=p,e.contentLastPos=v,e.requestId&&(i(e.requestId),e.requestId=null),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},l.prototype.ontouchend=function(t){var o=this,s=Math.max((new Date).getTime()-o.startTime,1),r=o.isSwiping,c=o.isPanning,l=o.isZooming,d=o.isScrolling;if(o.endPoints=a(t),o.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return o.onTap(t);o.speed=366,o.velocityX=o.distanceX/s*.5,o.velocityY=o.distanceY/s*.5,o.speedX=Math.max(.5*o.speed,Math.min(1.5*o.speed,1/Math.abs(o.velocityX)*o.speed)),c?o.endPanning():l?o.endZooming():o.endSwiping(r,d)},l.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length;o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,200)):"x"==t&&o.distanceX>50&&a>1?i=o.instance.previous(o.speedX):"x"==t&&o.distanceX<-50&&a>1&&(i=o.instance.next(o.speedX)),!1!==i||"x"!=t&&"y"!=t||(e||a<2?o.instance.centerSlide(o.instance.current,150):o.instance.jumpTo(o.instance.current.index)),o.$container.removeClass("fancybox-is-sliding")},l.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.opts.momentum?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+i.velocityX*i.speed,e=i.contentLastPos.top+i.velocityY*i.speed),(o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,330))},l.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,i={top:e=a.contentLastPos.top,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.setTranslate(a.$content,n.fancybox.getTranslate(a.$content)),n.fancybox.animate(a.$content,o,150)))},l.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls(!0);break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new l(e))})}(window,document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(!0===t||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this.instance.current;t&&(this.isActive=!0,this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,window.jQuery||jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(n){var o={request:function(e){(e=e||t.documentElement)[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t))})}else e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1)}(document,window.jQuery||jQuery),function(t,e){"use strict";var n="fancybox-thumbs",o=n+"-active";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var i=function(t){this.init(t)};e.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,n,o=this;o.instance=t,t.Thumbs=o,o.opts=t.group[t.currIndex].opts.thumbs,e=(e=t.group[0]).opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),t.group.length>1&&(n=(n=t.group[1]).opts.thumb||!(!n.opts.$thumb||!n.opts.$thumb.length)&&n.opts.$thumb.attr("src")),o.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),o.opts&&e&&n&&e&&n?(o.$button.show().on("click",function(){o.toggle()}),o.isActive=!0):o.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on("click","li",function(){i.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e("<ul>").appendTo(o.$grid)),e.each(i.group,function(e,n){(t=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null))||"image"!==n.type||(t=n.src),s.push('<li data-index="'+e+'" tabindex="0" class="fancybox-thumbs-loading"'+(t&&t.length?' style="background-image:url('+t+')" />':"")+"></li>")}),o.$list[0].innerHTML=s.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,i=this,a=i.$list,s=i.$grid;i.instance.current&&(n=(e=a.children().removeClass(o).filter('[data-index="'+i.instance.current.index+'"]').addClass(o)).position(),"y"===i.opts.axis&&(n.top<0||n.top>a.height()-e.outerHeight())?a.stop().animate({scrollTop:a.scrollTop()+n.top},t):"x"===i.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&a.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new i(e)).isActive&&!0===n.opts.autoStart&&n.show()},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,n,o,i,a=e.fancybox.getInstance(),s=a.current||null;s&&("function"===e.type(s.opts.share.url)&&(t=s.opts.share.url.apply(s,[a,s])),n=s.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===s.type?encodeURIComponent(s.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(o=t,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(o).replace(/[&<>"'`=\/]/g,function(t){return i[t]}))).replace(/\{\{descr\}\}/g,a.$caption?encodeURIComponent(a.$caption.text()):""),e.fancybox.open({src:a.translate(a,n),type:"html",opts:{animationEffect:!1,afterLoad:function(t,e){a.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})}}}))})}(document,window.jQuery||jQuery),function(t,e,n){"use strict";function o(){var t=e.location.hash.substr(1),n=t.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return{hash:t,index:o<1?1:o,gallery:n.join("-")}}function i(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start")}function a(t){var e,n;return!!t&&(""!==(n=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(t).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var r;i&&!1!==i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length>1?"-"+(i.index+1):""),e.location.hash!=="#"+o.currentHash&&(o.origHash||(o.origHash=e.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in e.history?(e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):e.location.hash=o.currentHash,o.hashTimer=null},300)))},"beforeClose.fb":function(n,o,i){!1!==i.opts.hash&&(a(o),o.currentHash&&o.hasCreatedHistory?e.history.back():o.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(o.origHash||"")):e.location.hash=o.origHash),o.currentHash=null,clearTimeout(o.hashTimer))}}),n(e).on("hashchange.fb",function(){var t,e=o();n.each(n(".fancybox-container").get().reverse(),function(e,o){var i=n(o).data("FancyBox");if(i.currentHash)return t=i,!1}),t?!t.currentHash||t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&i(e)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||!1===o.opts.wheel||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,window.jQuery||jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5mYW5jeWJveC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsIiQiLCJ1bmRlZmluZWQiLCJjb25zb2xlIiwiaW5mbyIsInN0dWZmIiwiZm4iLCJmYW5jeWJveCIsImRpdiIsImRlZmF1bHRzIiwibG9vcCIsImd1dHRlciIsImtleWJvYXJkIiwiYXJyb3dzIiwiaW5mb2JhciIsInNtYWxsQnRuIiwidG9vbGJhciIsImJ1dHRvbnMiLCJwcm90ZWN0IiwibW9kYWwiLCJpbWFnZSIsImFqYXgiLCJkYXRhIiwiaWZyYW1lIiwidHBsIiwiY3NzIiwic2Nyb2xsaW5nIiwiYXR0ciIsImRlZmF1bHRUeXBlIiwiYW5pbWF0aW9uRWZmZWN0Iiwiem9vbU9wYWNpdHkiLCJ0cmFuc2l0aW9uRWZmZWN0IiwidHJhbnNpdGlvbkR1cmF0aW9uIiwic2xpZGVDbGFzcyIsImJhc2VDbGFzcyIsImJhc2VUcGwiLCJzcGlubmVyVHBsIiwiYXJyb3dSaWdodCIsImJ0blRwbCIsImRvd25sb2FkIiwicGFyZW50RWwiLCJhdXRvRm9jdXMiLCJjbG9zZSIsInRvdWNoIiwidmVydGljYWwiLCJhcnJvd0xlZnQiLCJtZWRpYSIsImhpZGVPbkNsb3NlIiwidHJhcEZvY3VzIiwiZnVsbFNjcmVlbiIsImF1dG9TdGFydCIsIm1vbWVudHVtIiwiaGFzaCIsIm9uRGVhY3RpdmF0ZSIsInNsaWRlU2hvdyIsInNwZWVkIiwidGh1bWJzIiwiYXhpcyIsIndoZWVsIiwiZGJsY2xpY2tTbGlkZSIsImJlZm9yZUxvYWQiLCJub29wIiwiYWZ0ZXJMb2FkIiwiYmVmb3JlU2hvdyIsIm1vYmlsZSIsImNsaWNrQ29udGVudCIsImFmdGVyQ2xvc2UiLCJjdXJyZW50IiwiY2xpY2tTbGlkZSIsIk5FWFQiLCJldmVudCIsIlBSRVYiLCJ0eXBlIiwiRlVMTF9TQ1JFRU4iLCJaT09NIiwiQ0xPU0UiLCJUSFVNQlMiLCJET1dOTE9BRCIsIlNIQVJFIiwiZGJsY2xpY2tDb250ZW50IiwiJFciLCIkRCIsImxhbmciLCJpMThuIiwiZW4iLCJyZXF1ZXN0QUZyYW1lIiwiRVJST1IiLCJQTEFZX1NUQVJUIiwiUExBWV9TVE9QIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwidHJhbnNpdGlvbkVuZCIsImVsIiwidCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIldlYmtpdFRyYW5zaXRpb24iLCJjYWxsZWQiLCJlYWNoIiwicmV6Iiwia2V5Iiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsInNlbGYiLCJtZXJnZU9wdHMiLCJjcmVhdGVFbGVtZW50IiwiaXNNb2JpbGUiLCJjdXJySW5kZXgiLCJwYXJzZUludCIsInByZXZJbmRleCIsImZvcmNlUmVkcmF3IiwiJGVsIiwic2xpZGVzIiwibGVuZ3RoIiwib2Zmc2V0SGVpZ2h0IiwiZ3JvdXAiLCJvcHRzMSIsIm9wdHMyIiwiZXh0ZW5kIiwidmFsdWUiLCJpc0FycmF5IiwiJGxhc3RGb2N1cyIsIkZhbmN5Qm94IiwiY29udGVudCIsIm9wdHMiLCJpbmRleCIsImZpcnN0SXRlbSIsInNjcm9sbGJhcldpZHRoIiwiJGNvbnRhaW5lciIsImJ1dHRvblN0ciIsImlkIiwiJHNjcm9sbERpdiIsImN1cnJQb3MiLCJmaXJzdFJ1biIsImFkZENvbnRlbnQiLCJhY3RpdmVFbGVtZW50IiwidHJpZ2dlciIsImluaXQiLCJwcm90b3R5cGUiLCJ0aGlzIiwianVtcFRvIiwiZmlyc3RJdGVtT3B0cyIsImhpZGVTY3JvbGxiYXIiLCJhZGRDbGFzcyIsImJvZHkiLCJzY3JvbGxIZWlnaHQiLCJpbm5lckhlaWdodCIsImFwcGVuZFRvIiwidHJhbnNsYXRlIiwic3RyIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZSIsImFwcGVuZCIsImZvdW5kIiwicmVwbGFjZSIsImlzUGxhaW5PYmplY3QiLCJvYmoiLCJpdGVtIiwiJHJlZnMiLCIkaXRlbSIsImZvckVhY2giLCIkb3JpZyIsImFjdGl2YXRlIiwibWF0Y2giLCJuIiwiYXJyIiwic3JjIiwiaXRlbXMiLCJtYWtlQXJyYXkiLCJpIiwiY29udGVudFR5cGUiLCJvcHRpb25zIiwiaW5BcnJheSIsIiR0aHVtYiIsImNhcHRpb24iLCJhcHBseSIsInNyY1BhcnRzIiwiZmlsdGVyIiwiY2hhckF0IiwiY2xpY2tPdXRzaWRlIiwiZGJsY2xpY2tPdXRzaWRlIiwiJHRyaWdnZXIiLCJmaW5kIiwiY3JlYXRlIiwic3BsaXQiLCJhZGRFdmVudHMiLCJzaGlmdCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZSIsIm9yaWdpbmFsRXZlbnQiLCJwdXNoIiwiT2JqZWN0Iiwia2V5cyIsInVwZGF0ZUNvbnRyb2xzIiwiVGh1bWJzIiwiaXNBY3RpdmUiLCJpbnN0YW5jZSIsImZvY3VzIiwicmVtb3ZlRXZlbnRzIiwiY29udGFpbmVyIiwib24iLCJwcmV2aW91cyIsImtleWNvZGUiLCJuZXh0IiwiaXNTY2FsZWREb3duIiwidXBkYXRlIiwic3RhZ2UiLCJoaWRlIiwiZ2V0SW5zdGFuY2UiLCJpZGxlSW50ZXJ2YWwiLCJpZGxlU2Vjb25kc0NvdW50ZXIiLCJpc0lkbGUiLCJ0YXJnZXQiLCJoYXMiLCJvZmYiLCJrZXlDb2RlIiwid2hpY2giLCJjbGVhckludGVydmFsIiwiaXMiLCJwb3MiLCJjdXJyZW50UG9zIiwiaWRsZVRpbWUiLCJzaG93Q29udHJvbHMiLCJzZXRJbnRlcnZhbCIsImlzRHJhZ2dpbmciLCJwcmV2UG9zIiwiaGlkZUNvbnRyb2xzIiwiY3JlYXRlU2xpZGUiLCJkdXJhdGlvbiIsImlzTnVtZXJpYyIsInRyYW5zaXRpb25Qcm9wcyIsImdyb3VwTGVuIiwiaXNDbG9zaW5nIiwiaXNBbmltYXRpbmciLCJwcmVsb2FkIiwic2xpZGUiLCJpc01vdmVkIiwiY2FudmFzV2lkdGgiLCJNYXRoIiwiYW5pbWF0ZSIsInRvcCIsImxlZnQiLCJnZXRUcmFuc2xhdGUiLCIkc2xpZGUiLCJpc0xvYWRlZCIsImhhc0NsYXNzIiwibG9hZFNsaWRlIiwiaXNDb21wbGV0ZSIsInJlbW92ZUNsYXNzIiwic3RvcCIsInVwZGF0ZVNsaWRlIiwicmVtb3ZlQXR0ciIsInNjYWxlVG9BY3R1YWwiLCJpbWdQb3MiLCJjaGlsZHJlbiIsInJldmVhbENvbnRlbnQiLCJ4Iiwic2NhbGVZIiwibmV3SW1nSGVpZ2h0IiwicG9zWSIsImNhbnZhc0hlaWdodCIsInBvc1giLCJuZXdJbWdXaWR0aCIsInVwZGF0ZUN1cnNvciIsInNjYWxlWCIsIlNsaWRlU2hvdyIsInkiLCJzY2FsZVRvRml0IiwiJGNvbnRlbnQiLCJ3aWR0aCIsImhlaWdodCIsImhhc0Vycm9yIiwiZW5kIiwibWF4SGVpZ2h0IiwibWluUmF0aW8iLCJhc3BlY3RSYXRpbyIsInJpZ2h0IiwiYm90dG9tIiwiZ2V0Rml0UG9zIiwibWF4V2lkdGgiLCJtYXJnaW4iLCJ0b2dnbGVDbGFzcyIsImNlbnRlclNsaWRlIiwiZmxvb3IiLCJpc1pvb21hYmxlIiwicHJvcCIsInJhdGlvIiwibmV4dFdpZHRoIiwic2V0VHJhbnNsYXRlIiwiZ2V0IiwiY2xpZW50SGVpZ2h0Iiwicm91bmQiLCJuZXh0SGVpZ2h0IiwiaXNGdW5jdGlvbiIsInNldEltYWdlIiwic2V0SWZyYW1lIiwiZml0UG9zIiwiYWpheExvYWQiLCJzaG93TG9hZGluZyIsInNldHRpbmdzIiwidXJsIiwic2V0RXJyb3IiLCJjYW5QYW4iLCJweFJhdGlvIiwiYWJzIiwic3Jjc2V0IiwiaXNMb2FkaW5nIiwidGVtcCIsInNvcnQiLCJzZXRDb250ZW50IiwiaiIsInRodW1iU3JjIiwidGh1bWIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3IiLCJqcVhIUiIsIiRnaG9zdCIsIm9uZSIsInNldEJpZ0ltYWdlIiwiY2xlYXJUaW1lb3V0IiwiJGltZyIsIiRpbWFnZSIsImNvbXBsZXRlIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpbmRvd1dpZHRoIiwiaW5uZXJXaWR0aCIsIm1hcCIsInRyaW0iLCJtaW4iLCJzdWJzdHJpbmciLCJyZXQiLCJwb3N0Zml4IiwiYSIsImIiLCJpbWdIZWlnaHQiLCIkaWZyYW1lIiwiaXNSZWFkeSIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIiRib2R5Iiwic2l6ZXMiLCJyZXNvbHZlSW1hZ2VTbGlkZVNpemUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidGltb3V0cyIsImlnbm9yZSIsIm1heCIsImhpZGVMb2FkaW5nIiwicmVhZHlTdGF0ZSIsInBhcmVudCIsIiRwbGFjZWhvbGRlciIsImltZ1dpZHRoIiwiRGF0ZSIsImdldFRpbWUiLCJjb250ZW50cyIsImNlaWwiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCIkc3Bpbm5lciIsImVtcHR5IiwiaGFzT3duUHJvcGVydHkiLCJpbnNlcnRBZnRlciIsIm5vZGVUeXBlIiwiaHRtbCIsInN0YXJ0IiwiZWZmZWN0IiwiZWZmZWN0Q2xhc3NOYW1lIiwiYWZ0ZXIiLCIkc21hbGxCdG4iLCJ3cmFwIiwib3BhY2l0eSIsImZpcnN0IiwiZXJyb3JUcGwiLCJ0aHVtYlBvcyIsImVsZW1lbnRSZWN0IiwicGFyZW50UmVjdHMiLCJlbGVtZW50IiwidmlzaWJsZUluQWxsUGFyZW50cyIsImV2ZXJ5IiwicGFyZW50UmVjdCIsInByZXBlbmRUbyIsImJ1dHRvbiIsImZvcmNlZER1cmF0aW9uIiwiZ2V0VGh1bWJQb3MiLCJwcmV2Iiwic2xpZGVQb3MiLCJvd25lckRvY3VtZW50Iiwib2Zmc2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50RWxlbWVudCIsImRvbVJlY3QiLCJ2aXNpYmxlUGl4ZWxYIiwiZG9uZSIsInZpc2libGVQaXhlbFkiLCJpc0VsZW1lbnRWaXNpYmxlIiwicGFyc2VGbG9hdCIsInNpYmxpbmdzIiwic2Nyb2xsVG9wIiwibmFtZSIsImFyZ3MiLCJzbGljZSIsInVuc2hpZnQiLCJpc1Zpc2libGUiLCJkIiwiY2xlYW5VcCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiY29tbWFuZCIsImRlc3Ryb3kiLCJiYWNrRm9jdXMiLCJBcnJheSIsImNhbGwiLCJhcmd1bWVudHMiLCJwcm9wcyIsInVzZTNkIiwiJGNhcHRpb24iLCJmaW5hbCIsInNob3ciLCJpc0hpZGRlbkNvbnRyb2xzIiwibGVhdmVBbmltYXRpb25OYW1lIiwidG9nZ2xlQ29udHJvbHMiLCJ2ZXJzaW9uIiwib3BlbiIsImFsbCIsIiR0YXJnZXQiLCJhZGQiLCJjcmVhdGVUb3VjaCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzZWxlY3RvciIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZG9jdW1lbnRNb2RlIiwialF1ZXJ5IiwicGFyYW1QbGFjZSIsInBhcmFtcyIsInBvc2l0aW9uIiwidHJhbnNmb3JtIiwieW91dHViZSIsIm1hdGNoZXIiLCJhdXRvaGlkZSIsImZzIiwid21vZGUiLCJlbmFibGVqc2FwaSIsInZpbWVvIiwidG8iLCJhdXRvcGxheSIsImhkIiwic2hvd190aXRsZSIsImZ1bGxzY3JlZW4iLCJhcGkiLCJpbnN0YWdyYW0iLCJwcm9wZXJ0eU5hbWUiLCJnbWFwX3BsYWNlIiwiZ21hcF9zZWFyY2giLCJwYXJhbU9iaiIsInByb3ZpZGVyIiwicHJvdmlkZXJPcHRzIiwicHJvdmlkZXJOYW1lIiwidXJsUGFyYW1zIiwib3JpZ1NyYyIsIl9ydW4iLCJjYW5jZWxBRnJhbWUiLCJnZXRQb2ludGVyWFkiLCJyZXN1bHQiLCJjdXJyZW50VGFyZ2V0IiwiZXEiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJmb3JtYXQiLCJkaXN0YW5jZSIsInBhcmFtIiwicG9pbnQyIiwicG9pbnQxIiwid2hhdCIsInNxcnQiLCJwb3ciLCJpc0NsaWNrYWJsZSIsInJlbCIsImhhc1Njcm9sbGJhcnMiLCJvdmVyZmxvd1kiLCJob3Jpem9udGFsIiwic2hvd19ieWxpbmUiLCJzaG93X3BvcnRyYWl0IiwiR3Vlc3R1cmVzIiwiaW5kZXhPZiIsImlzVG91Y2hEZXZpY2UiLCJjYW5UYXAiLCJpc1Bhbm5pbmciLCJtIiwiaXNTd2lwaW5nIiwiaXNTY3JvbGxpbmciLCJwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29udGVudFN0YXJ0UG9zIiwic2xpZGVyU3RhcnRQb3MiLCJwMSIsInMiLCJzdGFnZVBvcyIsInBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WCIsInBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WSIsInN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ0b3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsIm5ld1BvaW50cyIsInBhZ2VZIiwiY2xpZW50WCIsIm9uUGFuIiwiaXNab29taW5nIiwib25ab29tIiwiYW5nbGUiLCJvbmNsaWNrIiwic3Vic3RyIiwib3ZlcmZsb3dYIiwiaXNTY3JvbGxhYmxlIiwic2Nyb2xsV2lkdGgiLCJpblRyYW5zaXRpb24iLCIkYmciLCJiZyIsIiRzdGFnZSIsInN3aXBpbmciLCJwcm94eSIsIm9udG91Y2hzdGFydCIsInJlcXVlc3RJZCIsInJlYWxQb2ludHMiLCJzdGFydFBvaW50cyIsInN0YXJ0RXZlbnQiLCJzdGFydFRpbWUiLCJkaXN0YW5jZVgiLCJjdXJyZW50T2Zmc2V0WCIsImN1cnJlbnRPZmZzZXRZIiwic2xpZGVyTGFzdFBvcyIsImN1cnJlbnRXaWR0aCIsIm5ld09mZnNldFgiLCJuZXdPZmZzZXRZIiwibWluVHJhbnNsYXRlWSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbnNjcm9sbCIsIm1heFRyYW5zbGF0ZVgiLCJkaXN0YW5jZVkiLCJtYXhUcmFuc2xhdGVZIiwibmV3V2lkdGgiLCJjZW50ZXJQb2ludFN0YXJ0WCIsInNjcm9sbExlZnQiLCJuZXdIZWlnaHQiLCJjZW50ZXJQb2ludFN0YXJ0WSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0cmFuc2xhdGVGcm9tVHJhbnNsYXRpbmdYIiwiY2VudGVyUG9pbnRFbmRYIiwibmV3UG9zIiwib25Td2lwZSIsInBhbm5pbmciLCJlbmRTd2lwaW5nIiwibGVuIiwic3BlZWRYIiwiem9vbWluZyIsImNvbnRlbnRMYXN0UG9zIiwiYXRhbjIiLCJQSSIsImVuZFBvaW50cyIsImVuZFBhbm5pbmciLCJsaW1pdE1vdmVtZW50IiwibWluVHJhbnNsYXRlWCIsImN1cnJlbnRIZWlnaHQiLCJyZXNldCIsIndoZXJlIiwibGltaXRQb3NpdGlvbiIsImFjdGlvbiIsInBpbmNoUmF0aW8iLCJ0cmFuc2xhdGVGcm9tWm9vbWluZ1giLCJ0cmFuc2xhdGVGcm9tWm9vbWluZ1kiLCJjZW50ZXJQb2ludEVuZFkiLCJ0YXBwZWQiLCJ0YXBYIiwib250b3VjaGVuZCIsInRhcFkiLCJwcm9jZXNzIiwib25UYXAiLCJkTXMiLCJ2ZWxvY2l0eVgiLCJlbmRab29taW5nIiwidGltZXIiLCIkYnV0dG9uIiwidmVsb2NpdHlZIiwic2V0IiwiZm9yY2UiLCJjbGVhciIsInRvZ2dsZSIsImtleXByZXNzIiwicHJlZml4IiwiZm5NYXAiLCJ2YWwiLCJyZXF1ZXN0IiwiZWxlbSIsInJlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdCIsImV4aXRGdWxsc2NyZWVuIiwiaXNGdWxsc2NyZWVuIiwiZW5hYmxlZCIsIkZ1bGxTY3JlZW4iLCJDTEFTU19BQ1RJVkUiLCJDTEFTU19MT0FEIiwiRmFuY3lUaHVtYnMiLCJvbkluaXQuZmIiLCJiZWZvcmVTaG93LmZiIiwibGlzdCIsImlubmVySFRNTCIsImFmdGVyS2V5ZG93bi5mYiIsIiRsaXN0IiwiYmVmb3JlQ2xvc2UuZmIgb25EZWFjdGl2YXRlLmZiIiwiaGlkZGVuIiwidGhhdCIsImRvY3VtZW50RWxlbWVudCIsIkFMTE9XX0tFWUJPQVJEX0lOUFVUIiwic2hhcmUiLCJCb29sZWFuIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJmdWxsc2NyZWVuRW5hYmxlZCIsImVzY2FwZUh0bWwiLCJzaGFyZUluc3RhbmNlIiwiYmVmb3JlQ2xvc2UuZmIiLCJmdWxsc2NyZWVuY2hhbmdlIiwiZXNjYXBlU2VsZWN0b3IiLCJmY3NzZXNjYXBlIiwiQ0xBU1MiLCJsb2NhdGlvbiIsInRyaWdnZXJGcm9tVXJsIiwiZ2V0R2FsbGVyeUlEIiwiJGdyaWQiLCJzZWNvbmQiLCJnYWxsZXJ5IiwicGFyc2VVcmwiLCJhZGRCYWNrIiwiaGFzaFRpbWVyIiwiam9pbiIsImN1cnJlbnRIYXNoIiwidG1wIiwiZmIiLCJwcmV2VGltZSIsImRlbHRhWSIsInN0cmluZyIsImVudGl0eU1hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJgIiwiPSIsIlN0cmluZyIsInRleHQiLCJzaGFyZUN1cnJlbnQiLCJjbGljayIsImhyZWYiLCJwb3AiLCJzZWwiLCJjaCIsImFzQ29kZVBvaW50IiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwib3JpZ0hhc2giLCJoaXN0b3J5IiwidGl0bGUiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc0NyZWF0ZWRIaXN0b3J5IiwiYmFjayIsInJlcGxhY2VTdGF0ZSIsInJldmVyc2UiLCJjdXJyVGltZSIsImRlbHRhWCIsIndoZWVsRGVsdGEiLCJkZXRhaWwiXSwibWFwcGluZ3MiOiJDQVVBLFNBQUNBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0MsYUFTQSxHQVBBSCxFQUFPSSxRQUFVSixFQUFPSSxVQUN0QkMsS0FBTSxTQUFBQyxNQU1ISixFQU9MLEdBQUlBLEVBQUVLLEdBQUdDLFNBQ1BKLFFBQVFDLEtBQUssb0NBRGYsQ0FTQSxJQWt1RlFJLEVBbHVGSkMsR0FFRkMsTUFBTSxFQUdOQyxPQUFRLEdBR1JDLFVBQVUsRUFHVkMsUUFBUSxFQUdSQyxTQUFTLEVBS1RDLFNBQVUsT0FLVkMsUUFBUyxPQUtUQyxTQUVFLE9BSUEsU0FJRixTQUlBQyxTQUFTLEVBR1RDLFNBQU8sRUFHTEEsT0FBQSxFQUVBQyxPQUtGQyxTQUFNLEdBR0ZBLE1BRUFDLFVBSFFBLE1BMURDZixVQUFBLEtBbUViZ0IsUUFNRUMsSUFDQSwrTkFLQUMsU0FaTSxFQWdCSkMsT0FERkMsTUFLRkQs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U1osR0FDdEYsSUFBSTlILEVBQVVzSSxFQUFTdEksUUFDckJtbUIsR0FBVyxJQUFJalUsTUFBT0MsVUFFcEI3SixFQUFTbkYsTUFBTUYsT0FBUyxJQUE0QixJQUF2QmpELEVBQVE0RCxLQUFLckUsT0FBMkMsU0FBdkJTLEVBQVE0RCxLQUFLckUsT0FBcUMsVUFBakJTLEVBQVFLLE9BSTNHeUgsRUFBRUQsaUJBQ0ZDLEVBQUVGLGtCQUVFNUgsRUFBUXFMLE9BQU9FLFNBQVMsdUJBSTVCekQsRUFBSUEsRUFBRUMsZUFBaUJELEVBRW5CcWUsRUFBV2pDLEVBQVcsTUFJMUJBLEVBQVdpQyxFQUVYN2QsSUFBV1IsRUFBRXFjLFNBQVdyYyxFQUFFc2UsUUFBVXRlLEVBQUV1ZSxhQUFldmUsRUFBRXdlLFFBQVUsRUFBSSxPQUFTLHNCQTlCdEYsQ0FrQ0d6cUIsU0FBVUQsT0FBT3ViLFFBQVVBIiwiZmlsZSI6ImpxdWVyeS5mYW5jeWJveC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gZmFuY3lCb3ggdjMuMy41XG4vL1xuLy8gTGljZW5zZWQgR1BMdjMgZm9yIG9wZW4gc291cmNlIHVzZVxuLy8gb3IgZmFuY3lCb3ggQ29tbWVyY2lhbCBMaWNlbnNlIGZvciBjb21tZXJjaWFsIHVzZVxuLy9cbi8vIGh0dHA6Ly9mYW5jeWFwcHMuY29tL2ZhbmN5Ym94L1xuLy8gQ29weXJpZ2h0IDIwMTggZmFuY3lBcHBzXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCAkLCB1bmRlZmluZWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgd2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7XG4gICAgaW5mbzogZnVuY3Rpb24oc3R1ZmYpIHt9XG4gIH07XG5cbiAgLy8gSWYgdGhlcmUncyBubyBqUXVlcnksIGZhbmN5Qm94IGNhbid0IHdvcmtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAoISQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDaGVjayBpZiBmYW5jeUJveCBpcyBhbHJlYWR5IGluaXRpYWxpemVkXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAoJC5mbi5mYW5jeWJveCkge1xuICAgIGNvbnNvbGUuaW5mbyhcImZhbmN5Qm94IGFscmVhZHkgaW5pdGlhbGl6ZWRcIik7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQcml2YXRlIGRlZmF1bHQgc2V0dGluZ3NcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIC8vIEVuYWJsZSBpbmZpbml0ZSBnYWxsZXJ5IG5hdmlnYXRpb25cbiAgICBsb29wOiBmYWxzZSxcblxuICAgIC8vIEhvcml6b250YWwgc3BhY2UgYmV0d2VlbiBzbGlkZXNcbiAgICBndXR0ZXI6IDUwLFxuXG4gICAgLy8gRW5hYmxlIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICBrZXlib2FyZDogdHJ1ZSxcblxuICAgIC8vIFNob3VsZCBkaXNwbGF5IG5hdmlnYXRpb24gYXJyb3dzIGF0IHRoZSBzY3JlZW4gZWRnZXNcbiAgICBhcnJvd3M6IHRydWUsXG5cbiAgICAvLyBTaG91bGQgZGlzcGxheSBjb3VudGVyIGF0IHRoZSB0b3AgbGVmdCBjb3JuZXJcbiAgICBpbmZvYmFyOiB0cnVlLFxuXG4gICAgLy8gU2hvdWxkIGRpc3BsYXkgY2xvc2UgYnV0dG9uICh1c2luZyBgYnRuVHBsLnNtYWxsQnRuYCB0ZW1wbGF0ZSkgb3ZlciB0aGUgY29udGVudFxuICAgIC8vIENhbiBiZSB0cnVlLCBmYWxzZSwgXCJhdXRvXCJcbiAgICAvLyBJZiBcImF1dG9cIiAtIHdpbGwgYmUgYXV0b21hdGljYWxseSBlbmFibGVkIGZvciBcImh0bWxcIiwgXCJpbmxpbmVcIiBvciBcImFqYXhcIiBpdGVtc1xuICAgIHNtYWxsQnRuOiBcImF1dG9cIixcblxuICAgIC8vIFNob3VsZCBkaXNwbGF5IHRvb2xiYXIgKGJ1dHRvbnMgYXQgdGhlIHRvcClcbiAgICAvLyBDYW4gYmUgdHJ1ZSwgZmFsc2UsIFwiYXV0b1wiXG4gICAgLy8gSWYgXCJhdXRvXCIgLSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaGlkZGVuIGlmIFwic21hbGxCdG5cIiBpcyBlbmFibGVkXG4gICAgdG9vbGJhcjogXCJhdXRvXCIsXG5cbiAgICAvLyBXaGF0IGJ1dHRvbnMgc2hvdWxkIGFwcGVhciBpbiB0aGUgdG9wIHJpZ2h0IGNvcm5lci5cbiAgICAvLyBCdXR0b25zIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0ZW1wbGF0ZXMgZnJvbSBgYnRuVHBsYCBvcHRpb25cbiAgICAvLyBhbmQgdGhleSB3aWxsIGJlIHBsYWNlZCBpbnRvIHRvb2xiYXIgKGNsYXNzPVwiZmFuY3lib3gtdG9vbGJhclwiYCBlbGVtZW50KVxuICAgIGJ1dHRvbnM6IFtcbiAgICAgIFwiem9vbVwiLFxuICAgICAgLy9cInNoYXJlXCIsXG4gICAgICAvL1wic2xpZGVTaG93XCIsXG4gICAgICAvL1wiZnVsbFNjcmVlblwiLFxuICAgICAgLy9cImRvd25sb2FkXCIsXG4gICAgICBcInRodW1ic1wiLFxuICAgICAgXCJjbG9zZVwiXG4gICAgXSxcblxuICAgIC8vIERldGVjdCBcImlkbGVcIiB0aW1lIGluIHNlY29uZHNcbiAgICBpZGxlVGltZTogMyxcblxuICAgIC8vIERpc2FibGUgcmlnaHQtY2xpY2sgYW5kIHVzZSBzaW1wbGUgaW1hZ2UgcHJvdGVjdGlvbiBmb3IgaW1hZ2VzXG4gICAgcHJvdGVjdDogZmFsc2UsXG5cbiAgICAvLyBTaG9ydGN1dCB0byBtYWtlIGNvbnRlbnQgXCJtb2RhbFwiIC0gZGlzYWJsZSBrZXlib2FyZCBuYXZpZ3Rpb24sIGhpZGUgYnV0dG9ucywgZXRjXG4gICAgbW9kYWw6IGZhbHNlLFxuXG4gICAgaW1hZ2U6IHtcbiAgICAgIC8vIFdhaXQgZm9yIGltYWdlcyB0byBsb2FkIGJlZm9yZSBkaXNwbGF5aW5nXG4gICAgICAvLyAgIHRydWUgIC0gd2FpdCBmb3IgaW1hZ2UgdG8gbG9hZCBhbmQgdGhlbiBkaXNwbGF5O1xuICAgICAgLy8gICBmYWxzZSAtIGRpc3BsYXkgdGh1bWJuYWlsIGFuZCBsb2FkIHRoZSBmdWxsLXNpemVkIGltYWdlIG92ZXIgdG9wLFxuICAgICAgLy8gICAgICAgICAgIHJlcXVpcmVzIHByZWRlZmluZWQgaW1hZ2UgZGltZW5zaW9ucyAoYGRhdGEtd2lkdGhgIGFuZCBgZGF0YS1oZWlnaHRgIGF0dHJpYnV0ZXMpXG4gICAgICBwcmVsb2FkOiBmYWxzZVxuICAgIH0sXG5cbiAgICBhamF4OiB7XG4gICAgICAvLyBPYmplY3QgY29udGFpbmluZyBzZXR0aW5ncyBmb3IgYWpheCByZXF1ZXN0XG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICAvLyBUaGlzIGhlbHBzIHRvIGluZGljYXRlIHRoYXQgcmVxdWVzdCBjb21lcyBmcm9tIHRoZSBtb2RhbFxuICAgICAgICAvLyBGZWVsIGZyZWUgdG8gY2hhbmdlIG5hbWluZ1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZmFuY3lib3g6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBpZnJhbWU6IHtcbiAgICAgIC8vIElmcmFtZSB0ZW1wbGF0ZVxuICAgICAgdHBsOlxuICAgICAgICAnPGlmcmFtZSBpZD1cImZhbmN5Ym94LWZyYW1le3JuZH1cIiBuYW1lPVwiZmFuY3lib3gtZnJhbWV7cm5kfVwiIGNsYXNzPVwiZmFuY3lib3gtaWZyYW1lXCIgZnJhbWVib3JkZXI9XCIwXCIgdnNwYWNlPVwiMFwiIGhzcGFjZT1cIjBcIiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93RnVsbFNjcmVlbiBhbGxvd3RyYW5zcGFyZW5jeT1cInRydWVcIiBzcmM9XCJcIj48L2lmcmFtZT4nLFxuXG4gICAgICAvLyBQcmVsb2FkIGlmcmFtZSBiZWZvcmUgZGlzcGxheWluZyBpdFxuICAgICAgLy8gVGhpcyBhbGxvd3MgdG8gY2FsY3VsYXRlIGlmcmFtZSBjb250ZW50IHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgIC8vIChub3RlOiBEdWUgdG8gXCJTYW1lIE9yaWdpbiBQb2xpY3lcIiwgeW91IGNhbid0IGdldCBjcm9zcyBkb21haW4gZGF0YSkuXG4gICAgICBwcmVsb2FkOiB0cnVlLFxuXG4gICAgICAvLyBDdXN0b20gQ1NTIHN0eWxpbmcgZm9yIGlmcmFtZSB3cmFwcGluZyBlbGVtZW50XG4gICAgICAvLyBZb3UgY2FuIHVzZSB0aGlzIHRvIHNldCBjdXN0b20gaWZyYW1lIGRpbWVuc2lvbnNcbiAgICAgIGNzczoge30sXG5cbiAgICAgIC8vIElmcmFtZSB0YWcgYXR0cmlidXRlc1xuICAgICAgYXR0cjoge1xuICAgICAgICBzY3JvbGxpbmc6IFwiYXV0b1wiXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIERlZmF1bHQgY29udGVudCB0eXBlIGlmIGNhbm5vdCBiZSBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5XG4gICAgZGVmYXVsdFR5cGU6IFwiaW1hZ2VcIixcblxuICAgIC8vIE9wZW4vY2xvc2UgYW5pbWF0aW9uIHR5cGVcbiAgICAvLyBQb3NzaWJsZSB2YWx1ZXM6XG4gICAgLy8gICBmYWxzZSAgICAgICAgICAgIC0gZGlzYWJsZVxuICAgIC8vICAgXCJ6b29tXCIgICAgICAgICAgIC0gem9vbSBpbWFnZXMgZnJvbS90byB0aHVtYm5haWxcbiAgICAvLyAgIFwiZmFkZVwiXG4gICAgLy8gICBcInpvb20taW4tb3V0XCJcbiAgICAvL1xuICAgIGFuaW1hdGlvbkVmZmVjdDogXCJ6b29tXCIsXG5cbiAgICAvLyBEdXJhdGlvbiBpbiBtcyBmb3Igb3Blbi9jbG9zZSBhbmltYXRpb25cbiAgICBhbmltYXRpb25EdXJhdGlvbjogMzY2LFxuXG4gICAgLy8gU2hvdWxkIGltYWdlIGNoYW5nZSBvcGFjaXR5IHdoaWxlIHpvb21pbmdcbiAgICAvLyBJZiBvcGFjaXR5IGlzIFwiYXV0b1wiLCB0aGVuIG9wYWNpdHkgd2lsbCBiZSBjaGFuZ2VkIGlmIGltYWdlIGFuZCB0aHVtYm5haWwgaGF2ZSBkaWZmZXJlbnQgYXNwZWN0IHJhdGlvc1xuICAgIHpvb21PcGFjaXR5OiBcImF1dG9cIixcblxuICAgIC8vIFRyYW5zaXRpb24gZWZmZWN0IGJldHdlZW4gc2xpZGVzXG4gICAgLy9cbiAgICAvLyBQb3NzaWJsZSB2YWx1ZXM6XG4gICAgLy8gICBmYWxzZSAgICAgICAgICAgIC0gZGlzYWJsZVxuICAgIC8vICAgXCJmYWRlJ1xuICAgIC8vICAgXCJzbGlkZSdcbiAgICAvLyAgIFwiY2lyY3VsYXInXG4gICAgLy8gICBcInR1YmUnXG4gICAgLy8gICBcInpvb20taW4tb3V0J1xuICAgIC8vICAgXCJyb3RhdGUnXG4gICAgLy9cbiAgICB0cmFuc2l0aW9uRWZmZWN0OiBcImZhZGVcIixcblxuICAgIC8vIER1cmF0aW9uIGluIG1zIGZvciB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMzY2LFxuXG4gICAgLy8gQ3VzdG9tIENTUyBjbGFzcyBmb3Igc2xpZGUgZWxlbWVudFxuICAgIHNsaWRlQ2xhc3M6IFwiXCIsXG5cbiAgICAvLyBDdXN0b20gQ1NTIGNsYXNzIGZvciBsYXlvdXRcbiAgICBiYXNlQ2xhc3M6IFwiXCIsXG5cbiAgICAvLyBCYXNlIHRlbXBsYXRlIGZvciBsYXlvdXRcbiAgICBiYXNlVHBsOlxuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250YWluZXJcIiByb2xlPVwiZGlhbG9nXCIgdGFiaW5kZXg9XCItMVwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1iZ1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1pbm5lclwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1pbmZvYmFyXCI+JyArXG4gICAgICBcIjxzcGFuIGRhdGEtZmFuY3lib3gtaW5kZXg+PC9zcGFuPiZuYnNwOy8mbmJzcDs8c3BhbiBkYXRhLWZhbmN5Ym94LWNvdW50Pjwvc3Bhbj5cIiArXG4gICAgICBcIjwvZGl2PlwiICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtdG9vbGJhclwiPnt7YnV0dG9uc319PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LW5hdmlnYXRpb25cIj57e2Fycm93c319PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LXN0YWdlXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNhcHRpb25cIj48L2Rpdj4nICtcbiAgICAgIFwiPC9kaXY+XCIgK1xuICAgICAgXCI8L2Rpdj5cIixcblxuICAgIC8vIExvYWRpbmcgaW5kaWNhdG9yIHRlbXBsYXRlXG4gICAgc3Bpbm5lclRwbDogJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1sb2FkaW5nXCI+PC9kaXY+JyxcblxuICAgIC8vIEVycm9yIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICBlcnJvclRwbDogJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1lcnJvclwiPjxwPnt7RVJST1J9fTwvcD48L2Rpdj4nLFxuXG4gICAgYnRuVHBsOiB7XG4gICAgICBkb3dubG9hZDpcbiAgICAgICAgJzxhIGRvd25sb2FkIGRhdGEtZmFuY3lib3gtZG93bmxvYWQgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1kb3dubG9hZFwiIHRpdGxlPVwie3tET1dOTE9BRH19XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTEzLDE2IEwyMCwyMyBMMjcsMTYgTTIwLDcgTDIwLDIzIE0xMCwyNCBMMTAsMjggTDMwLDI4IEwzMCwyNFwiIC8+JyArXG4gICAgICAgIFwiPC9zdmc+XCIgK1xuICAgICAgICBcIjwvYT5cIixcblxuICAgICAgem9vbTpcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC16b29tIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tem9vbVwiIHRpdGxlPVwie3taT09NfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA0MCA0MFwiPicgK1xuICAgICAgICAnPHBhdGggZD1cIk0xOCwxNyBtLTgsMCBhOCw4IDAgMSwwIDE2LDAgYTgsOCAwIDEsMCAtMTYsMCBNMjQsMjIgTDMxLDI5XCIgLz4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9idXR0b24+XCIsXG5cbiAgICAgIGNsb3NlOlxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LWNsb3NlIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tY2xvc2VcIiB0aXRsZT1cInt7Q0xPU0V9fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTEwLDEwIEwzMCwzMCBNMzAsMTAgTDEwLDMwXCIgLz4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9idXR0b24+XCIsXG5cbiAgICAgIC8vIFRoaXMgc21hbGwgY2xvc2UgYnV0dG9uIHdpbGwgYmUgYXBwZW5kZWQgdG8geW91ciBodG1sL2lubGluZS9hamF4IGNvbnRlbnQgYnkgZGVmYXVsdCxcbiAgICAgIC8vIGlmIFwic21hbGxCdG5cIiBvcHRpb24gaXMgbm90IHNldCB0byBmYWxzZVxuICAgICAgc21hbGxCdG46XG4gICAgICAgICc8YnV0dG9uIGRhdGEtZmFuY3lib3gtY2xvc2UgY2xhc3M9XCJmYW5jeWJveC1jbG9zZS1zbWFsbFwiIHRpdGxlPVwie3tDTE9TRX19XCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDMyIDMyXCI+PHBhdGggZD1cIk0xMCwxMCBMMjIsMjIgTTIyLDEwIEwxMCwyMlwiPjwvcGF0aD48L3N2Zz48L2J1dHRvbj4nLFxuXG4gICAgICAvLyBBcnJvd3NcbiAgICAgIGFycm93TGVmdDpcbiAgICAgICAgJzxhIGRhdGEtZmFuY3lib3gtcHJldiBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWFycm93X2xlZnRcIiB0aXRsZT1cInt7UFJFVn19XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTE4LDEyIEwxMCwyMCBMMTgsMjggTTEwLDIwIEwzMCwyMFwiPjwvcGF0aD4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9hPlwiLFxuXG4gICAgICBhcnJvd1JpZ2h0OlxuICAgICAgICAnPGEgZGF0YS1mYW5jeWJveC1uZXh0IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tYXJyb3dfcmlnaHRcIiB0aXRsZT1cInt7TkVYVH19XCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDQwIDQwXCI+JyArXG4gICAgICAgICc8cGF0aCBkPVwiTTEwLDIwIEwzMCwyMCBNMjIsMTIgTDMwLDIwIEwyMiwyOFwiPjwvcGF0aD4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9hPlwiXG4gICAgfSxcblxuICAgIC8vIENvbnRhaW5lciBpcyBpbmplY3RlZCBpbnRvIHRoaXMgZWxlbWVudFxuICAgIHBhcmVudEVsOiBcImJvZHlcIixcblxuICAgIC8vIEZvY3VzIGhhbmRsaW5nXG4gICAgLy8gPT09PT09PT09PT09PT1cblxuICAgIC8vIFRyeSB0byBmb2N1cyBvbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgYWZ0ZXIgb3BlbmluZ1xuICAgIGF1dG9Gb2N1czogZmFsc2UsXG5cbiAgICAvLyBQdXQgZm9jdXMgYmFjayB0byBhY3RpdmUgZWxlbWVudCBhZnRlciBjbG9zaW5nXG4gICAgYmFja0ZvY3VzOiB0cnVlLFxuXG4gICAgLy8gRG8gbm90IGxldCB1c2VyIHRvIGZvY3VzIG9uIGVsZW1lbnQgb3V0c2lkZSBtb2RhbCBjb250ZW50XG4gICAgdHJhcEZvY3VzOiB0cnVlLFxuXG4gICAgLy8gTW9kdWxlIHNwZWNpZmljIG9wdGlvbnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVsbFNjcmVlbjoge1xuICAgICAgYXV0b1N0YXJ0OiBmYWxzZVxuICAgIH0sXG5cbiAgICAvLyBTZXQgYHRvdWNoOiBmYWxzZWAgdG8gZGlzYWJsZSBkcmFnZ2luZy9zd2lwaW5nXG4gICAgdG91Y2g6IHtcbiAgICAgIHZlcnRpY2FsOiB0cnVlLCAvLyBBbGxvdyB0byBkcmFnIGNvbnRlbnQgdmVydGljYWxseVxuICAgICAgbW9tZW50dW06IHRydWUgLy8gQ29udGludWUgbW92ZW1lbnQgYWZ0ZXIgcmVsZWFzaW5nIG1vdXNlL3RvdWNoIHdoZW4gcGFubmluZ1xuICAgIH0sXG5cbiAgICAvLyBIYXNoIHZhbHVlIHdoZW4gaW5pdGlhbGl6aW5nIG1hbnVhbGx5LFxuICAgIC8vIHNldCBgZmFsc2VgIHRvIGRpc2FibGUgaGFzaCBjaGFuZ2VcbiAgICBoYXNoOiBudWxsLFxuXG4gICAgLy8gQ3VzdG9taXplIG9yIGFkZCBuZXcgbWVkaWEgdHlwZXNcbiAgICAvLyBFeGFtcGxlOlxuICAgIC8qXG4gICAgICAgIG1lZGlhIDoge1xuICAgICAgICAgICAgeW91dHViZSA6IHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgOiB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5IDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgIG1lZGlhOiB7fSxcblxuICAgIHNsaWRlU2hvdzoge1xuICAgICAgYXV0b1N0YXJ0OiBmYWxzZSxcbiAgICAgIHNwZWVkOiA0MDAwXG4gICAgfSxcblxuICAgIHRodW1iczoge1xuICAgICAgYXV0b1N0YXJ0OiBmYWxzZSwgLy8gRGlzcGxheSB0aHVtYm5haWxzIG9uIG9wZW5pbmdcbiAgICAgIGhpZGVPbkNsb3NlOiB0cnVlLCAvLyBIaWRlIHRodW1ibmFpbCBncmlkIHdoZW4gY2xvc2luZyBhbmltYXRpb24gc3RhcnRzXG4gICAgICBwYXJlbnRFbDogXCIuZmFuY3lib3gtY29udGFpbmVyXCIsIC8vIENvbnRhaW5lciBpcyBpbmplY3RlZCBpbnRvIHRoaXMgZWxlbWVudFxuICAgICAgYXhpczogXCJ5XCIgLy8gVmVydGljYWwgKHkpIG9yIGhvcml6b250YWwgKHgpIHNjcm9sbGluZ1xuICAgIH0sXG5cbiAgICAvLyBVc2UgbW91c2V3aGVlbCB0byBuYXZpZ2F0ZSBnYWxsZXJ5XG4gICAgLy8gSWYgJ2F1dG8nIC0gZW5hYmxlZCBmb3IgaW1hZ2VzIG9ubHlcbiAgICB3aGVlbDogXCJhdXRvXCIsXG5cbiAgICAvLyBDYWxsYmFja3NcbiAgICAvLz09PT09PT09PT1cblxuICAgIC8vIFNlZSBEb2N1bWVudGF0aW9uL0FQSS9FdmVudHMgZm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICAvLyBFeGFtcGxlOlxuICAgIC8qXG5cdFx0YWZ0ZXJTaG93OiBmdW5jdGlvbiggaW5zdGFuY2UsIGN1cnJlbnQgKSB7XG5cdFx0XHRjb25zb2xlLmluZm8oICdDbGlja2VkIGVsZW1lbnQ6JyApO1xuXHRcdFx0Y29uc29sZS5pbmZvKCBjdXJyZW50Lm9wdHMuJG9yaWcgKTtcblx0XHR9XG5cdCovXG5cbiAgICBvbkluaXQ6ICQubm9vcCwgLy8gV2hlbiBpbnN0YW5jZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuXG4gICAgYmVmb3JlTG9hZDogJC5ub29wLCAvLyBCZWZvcmUgdGhlIGNvbnRlbnQgb2YgYSBzbGlkZSBpcyBiZWluZyBsb2FkZWRcbiAgICBhZnRlckxvYWQ6ICQubm9vcCwgLy8gV2hlbiB0aGUgY29udGVudCBvZiBhIHNsaWRlIGlzIGRvbmUgbG9hZGluZ1xuXG4gICAgYmVmb3JlU2hvdzogJC5ub29wLCAvLyBCZWZvcmUgb3BlbiBhbmltYXRpb24gc3RhcnRzXG4gICAgYWZ0ZXJTaG93OiAkLm5vb3AsIC8vIFdoZW4gY29udGVudCBpcyBkb25lIGxvYWRpbmcgYW5kIGFuaW1hdGluZ1xuXG4gICAgYmVmb3JlQ2xvc2U6ICQubm9vcCwgLy8gQmVmb3JlIHRoZSBpbnN0YW5jZSBhdHRlbXB0cyB0byBjbG9zZS4gUmV0dXJuIGZhbHNlIHRvIGNhbmNlbCB0aGUgY2xvc2UuXG4gICAgYWZ0ZXJDbG9zZTogJC5ub29wLCAvLyBBZnRlciBpbnN0YW5jZSBoYXMgYmVlbiBjbG9zZWRcblxuICAgIG9uQWN0aXZhdGU6ICQubm9vcCwgLy8gV2hlbiBpbnN0YW5jZSBpcyBicm91Z2h0IHRvIGZyb250XG4gICAgb25EZWFjdGl2YXRlOiAkLm5vb3AsIC8vIFdoZW4gb3RoZXIgaW5zdGFuY2UgaGFzIGJlZW4gYWN0aXZhdGVkXG5cbiAgICAvLyBJbnRlcmFjdGlvblxuICAgIC8vID09PT09PT09PT09XG5cbiAgICAvLyBVc2Ugb3B0aW9ucyBiZWxvdyB0byBjdXN0b21pemUgdGFrZW4gYWN0aW9uIHdoZW4gdXNlciBjbGlja3Mgb3IgZG91YmxlIGNsaWNrcyBvbiB0aGUgZmFuY3lCb3ggYXJlYSxcbiAgICAvLyBlYWNoIG9wdGlvbiBjYW4gYmUgc3RyaW5nIG9yIG1ldGhvZCB0aGF0IHJldHVybnMgdmFsdWUuXG4gICAgLy9cbiAgICAvLyBQb3NzaWJsZSB2YWx1ZXM6XG4gICAgLy8gICBcImNsb3NlXCIgICAgICAgICAgIC0gY2xvc2UgaW5zdGFuY2VcbiAgICAvLyAgIFwibmV4dFwiICAgICAgICAgICAgLSBtb3ZlIHRvIG5leHQgZ2FsbGVyeSBpdGVtXG4gICAgLy8gICBcIm5leHRPckNsb3NlXCIgICAgIC0gbW92ZSB0byBuZXh0IGdhbGxlcnkgaXRlbSBvciBjbG9zZSBpZiBnYWxsZXJ5IGhhcyBvbmx5IG9uZSBpdGVtXG4gICAgLy8gICBcInRvZ2dsZUNvbnRyb2xzXCIgIC0gc2hvdy9oaWRlIGNvbnRyb2xzXG4gICAgLy8gICBcInpvb21cIiAgICAgICAgICAgIC0gem9vbSBpbWFnZSAoaWYgbG9hZGVkKVxuICAgIC8vICAgZmFsc2UgICAgICAgICAgICAgLSBkbyBub3RoaW5nXG5cbiAgICAvLyBDbGlja2VkIG9uIHRoZSBjb250ZW50XG4gICAgY2xpY2tDb250ZW50OiBmdW5jdGlvbihjdXJyZW50LCBldmVudCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gXCJ6b29tXCIgOiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gQ2xpY2tlZCBvbiB0aGUgc2xpZGVcbiAgICBjbGlja1NsaWRlOiBcImNsb3NlXCIsXG5cbiAgICAvLyBDbGlja2VkIG9uIHRoZSBiYWNrZ3JvdW5kIChiYWNrZHJvcCkgZWxlbWVudDtcbiAgICAvLyBpZiB5b3UgaGF2ZSBub3QgY2hhbmdlZCB0aGUgbGF5b3V0LCB0aGVuIG1vc3QgbGlrZWx5IHlvdSBuZWVkIHRvIHVzZSBgY2xpY2tTbGlkZWAgb3B0aW9uXG4gICAgY2xpY2tPdXRzaWRlOiBcImNsb3NlXCIsXG5cbiAgICAvLyBTYW1lIGFzIHByZXZpb3VzIHR3bywgYnV0IGZvciBkb3VibGUgY2xpY2tcbiAgICBkYmxjbGlja0NvbnRlbnQ6IGZhbHNlLFxuICAgIGRibGNsaWNrU2xpZGU6IGZhbHNlLFxuICAgIGRibGNsaWNrT3V0c2lkZTogZmFsc2UsXG5cbiAgICAvLyBDdXN0b20gb3B0aW9ucyB3aGVuIG1vYmlsZSBkZXZpY2UgaXMgZGV0ZWN0ZWRcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIG1vYmlsZToge1xuICAgICAgaWRsZVRpbWU6IGZhbHNlLFxuICAgICAgY2xpY2tDb250ZW50OiBmdW5jdGlvbihjdXJyZW50LCBldmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBcInRvZ2dsZUNvbnRyb2xzXCIgOiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBjbGlja1NsaWRlOiBmdW5jdGlvbihjdXJyZW50LCBldmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBcInRvZ2dsZUNvbnRyb2xzXCIgOiBcImNsb3NlXCI7XG4gICAgICB9LFxuICAgICAgZGJsY2xpY2tDb250ZW50OiBmdW5jdGlvbihjdXJyZW50LCBldmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudC50eXBlID09PSBcImltYWdlXCIgPyBcInpvb21cIiA6IGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGRibGNsaWNrU2xpZGU6IGZ1bmN0aW9uKGN1cnJlbnQsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiem9vbVwiIDogZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEludGVybmF0aW9uYWxpemF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAgIGxhbmc6IFwiZW5cIixcbiAgICBpMThuOiB7XG4gICAgICBlbjoge1xuICAgICAgICBDTE9TRTogXCJDbG9zZVwiLFxuICAgICAgICBORVhUOiBcIk5leHRcIixcbiAgICAgICAgUFJFVjogXCJQcmV2aW91c1wiLFxuICAgICAgICBFUlJPUjogXCJUaGUgcmVxdWVzdGVkIGNvbnRlbnQgY2Fubm90IGJlIGxvYWRlZC4gPGJyLz4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcbiAgICAgICAgUExBWV9TVEFSVDogXCJTdGFydCBzbGlkZXNob3dcIixcbiAgICAgICAgUExBWV9TVE9QOiBcIlBhdXNlIHNsaWRlc2hvd1wiLFxuICAgICAgICBGVUxMX1NDUkVFTjogXCJGdWxsIHNjcmVlblwiLFxuICAgICAgICBUSFVNQlM6IFwiVGh1bWJuYWlsc1wiLFxuICAgICAgICBET1dOTE9BRDogXCJEb3dubG9hZFwiLFxuICAgICAgICBTSEFSRTogXCJTaGFyZVwiLFxuICAgICAgICBaT09NOiBcIlpvb21cIlxuICAgICAgfSxcbiAgICAgIGRlOiB7XG4gICAgICAgIENMT1NFOiBcIlNjaGxpZXNzZW5cIixcbiAgICAgICAgTkVYVDogXCJXZWl0ZXJcIixcbiAgICAgICAgUFJFVjogXCJadXLDvGNrXCIsXG4gICAgICAgIEVSUk9SOiBcIkRpZSBhbmdlZm9yZGVydGVuIERhdGVuIGtvbm50ZW4gbmljaHQgZ2VsYWRlbiB3ZXJkZW4uIDxici8+IEJpdHRlIHZlcnN1Y2hlbiBTaWUgZXMgc3DDpHRlciBub2NobWFsLlwiLFxuICAgICAgICBQTEFZX1NUQVJUOiBcIkRpYXNjaGF1IHN0YXJ0ZW5cIixcbiAgICAgICAgUExBWV9TVE9QOiBcIkRpYXNjaGF1IGJlZW5kZW5cIixcbiAgICAgICAgRlVMTF9TQ1JFRU46IFwiVm9sbGJpbGRcIixcbiAgICAgICAgVEhVTUJTOiBcIlZvcnNjaGF1YmlsZGVyXCIsXG4gICAgICAgIERPV05MT0FEOiBcIkhlcnVudGVybGFkZW5cIixcbiAgICAgICAgU0hBUkU6IFwiVGVpbGVuXCIsXG4gICAgICAgIFpPT006IFwiTWHDn3N0YWJcIlxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBGZXcgdXNlZnVsIHZhcmlhYmxlcyBhbmQgbWV0aG9kc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciAkVyA9ICQod2luZG93KTtcbiAgdmFyICREID0gJChkb2N1bWVudCk7XG5cbiAgdmFyIGNhbGxlZCA9IDA7XG5cbiAgLy8gQ2hlY2sgaWYgYW4gb2JqZWN0IGlzIGEgalF1ZXJ5IG9iamVjdCBhbmQgbm90IGEgbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB2YXIgaXNRdWVyeSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLmhhc093blByb3BlcnR5ICYmIG9iaiBpbnN0YW5jZW9mICQ7XG4gIH07XG5cbiAgLy8gSGFuZGxlIG11bHRpcGxlIGJyb3dzZXJzIGZvciBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiIGFuZCBcImNhbmNlbEFuaW1hdGlvbkZyYW1lXCJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB2YXIgcmVxdWVzdEFGcmFtZSA9IChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIC8vIGlmIGFsbCBlbHNlIGZhaWxzLCB1c2Ugc2V0VGltZW91dFxuICAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgICAgfVxuICAgICk7XG4gIH0pKCk7XG5cbiAgLy8gRGV0ZWN0IHRoZSBzdXBwb3J0ZWQgdHJhbnNpdGlvbi1lbmQgZXZlbnQgcHJvcGVydHkgbmFtZVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIHZhciB0cmFuc2l0aW9uRW5kID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKSxcbiAgICAgIHQ7XG5cbiAgICB2YXIgdHJhbnNpdGlvbnMgPSB7XG4gICAgICB0cmFuc2l0aW9uOiBcInRyYW5zaXRpb25lbmRcIixcbiAgICAgIE9UcmFuc2l0aW9uOiBcIm9UcmFuc2l0aW9uRW5kXCIsXG4gICAgICBNb3pUcmFuc2l0aW9uOiBcInRyYW5zaXRpb25lbmRcIixcbiAgICAgIFdlYmtpdFRyYW5zaXRpb246IFwid2Via2l0VHJhbnNpdGlvbkVuZFwiXG4gICAgfTtcblxuICAgIGZvciAodCBpbiB0cmFuc2l0aW9ucykge1xuICAgICAgaWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25zW3RdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcInRyYW5zaXRpb25lbmRcIjtcbiAgfSkoKTtcblxuICAvLyBGb3JjZSByZWRyYXcgb24gYW4gZWxlbWVudC5cbiAgLy8gVGhpcyBoZWxwcyBpbiBjYXNlcyB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0IHJlZHJhdyBhbiB1cGRhdGVkIGVsZW1lbnQgcHJvcGVybHlcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgdmFyIGZvcmNlUmVkcmF3ID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgcmV0dXJuICRlbCAmJiAkZWwubGVuZ3RoICYmICRlbFswXS5vZmZzZXRIZWlnaHQ7XG4gIH07XG5cbiAgLy8gRXhjbHVkZSBhcnJheSAoYGJ1dHRvbnNgKSBvcHRpb25zIGZyb20gZGVlcCBtZXJnaW5nXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB2YXIgbWVyZ2VPcHRzID0gZnVuY3Rpb24ob3B0czEsIG9wdHMyKSB7XG4gICAgdmFyIHJleiA9ICQuZXh0ZW5kKHRydWUsIHt9LCBvcHRzMSwgb3B0czIpO1xuXG4gICAgJC5lYWNoKG9wdHMyLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoJC5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXpba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlejtcbiAgfTtcblxuICAvLyBDbGFzcyBkZWZpbml0aW9uXG4gIC8vID09PT09PT09PT09PT09PT1cblxuICB2YXIgRmFuY3lCb3ggPSBmdW5jdGlvbihjb250ZW50LCBvcHRzLCBpbmRleCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYub3B0cyA9IG1lcmdlT3B0cyh7aW5kZXg6IGluZGV4fSwgJC5mYW5jeWJveC5kZWZhdWx0cyk7XG5cbiAgICBpZiAoJC5pc1BsYWluT2JqZWN0KG9wdHMpKSB7XG4gICAgICBzZWxmLm9wdHMgPSBtZXJnZU9wdHMoc2VsZi5vcHRzLCBvcHRzKTtcbiAgICB9XG5cbiAgICBpZiAoJC5mYW5jeWJveC5pc01vYmlsZSkge1xuICAgICAgc2VsZi5vcHRzID0gbWVyZ2VPcHRzKHNlbGYub3B0cywgc2VsZi5vcHRzLm1vYmlsZSk7XG4gICAgfVxuXG4gICAgc2VsZi5pZCA9IHNlbGYub3B0cy5pZCB8fCArK2NhbGxlZDtcblxuICAgIHNlbGYuY3VyckluZGV4ID0gcGFyc2VJbnQoc2VsZi5vcHRzLmluZGV4LCAxMCkgfHwgMDtcbiAgICBzZWxmLnByZXZJbmRleCA9IG51bGw7XG5cbiAgICBzZWxmLnByZXZQb3MgPSBudWxsO1xuICAgIHNlbGYuY3VyclBvcyA9IDA7XG5cbiAgICBzZWxmLmZpcnN0UnVuID0gdHJ1ZTtcblxuICAgIC8vIEFsbCBncm91cCBpdGVtc1xuICAgIHNlbGYuZ3JvdXAgPSBbXTtcblxuICAgIC8vIEV4aXN0aW5nIHNsaWRlcyAoZm9yIGN1cnJlbnQsIG5leHQgYW5kIHByZXZpb3VzIGdhbGxlcnkgaXRlbXMpXG4gICAgc2VsZi5zbGlkZXMgPSB7fTtcblxuICAgIC8vIENyZWF0ZSBncm91cCBlbGVtZW50c1xuICAgIHNlbGYuYWRkQ29udGVudChjb250ZW50KTtcblxuICAgIGlmICghc2VsZi5ncm91cC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTYXZlIGxhc3QgYWN0aXZlIGVsZW1lbnRcbiAgICBzZWxmLiRsYXN0Rm9jdXMgPSAkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRyaWdnZXIoXCJibHVyXCIpO1xuXG4gICAgc2VsZi5pbml0KCk7XG4gIH07XG5cbiAgJC5leHRlbmQoRmFuY3lCb3gucHJvdG90eXBlLCB7XG4gICAgLy8gQ3JlYXRlIERPTSBzdHJ1Y3R1cmVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGZpcnN0SXRlbSA9IHNlbGYuZ3JvdXBbc2VsZi5jdXJySW5kZXhdLFxuICAgICAgICBmaXJzdEl0ZW1PcHRzID0gZmlyc3RJdGVtLm9wdHMsXG4gICAgICAgIHNjcm9sbGJhcldpZHRoID0gJC5mYW5jeWJveC5zY3JvbGxiYXJXaWR0aCxcbiAgICAgICAgJHNjcm9sbERpdixcbiAgICAgICAgJGNvbnRhaW5lcixcbiAgICAgICAgYnV0dG9uU3RyO1xuXG4gICAgICAvLyBIaWRlIHNjcm9sbGJhcnNcbiAgICAgIC8vID09PT09PT09PT09PT09PVxuXG4gICAgICBpZiAoISQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSAmJiBmaXJzdEl0ZW1PcHRzLmhpZGVTY3JvbGxiYXIgIT09IGZhbHNlKSB7XG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiZmFuY3lib3gtYWN0aXZlXCIpO1xuXG4gICAgICAgIGlmICghJC5mYW5jeWJveC5pc01vYmlsZSAmJiBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgIGlmIChzY3JvbGxiYXJXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2Nyb2xsRGl2ID0gJCgnPGRpdiBzdHlsZT1cIndpZHRoOjEwMHB4O2hlaWdodDoxMDBweDtvdmVyZmxvdzpzY3JvbGw7XCIgLz4nKS5hcHBlbmRUbyhcImJvZHlcIik7XG5cbiAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoID0gJC5mYW5jeWJveC5zY3JvbGxiYXJXaWR0aCA9ICRzY3JvbGxEaXZbMF0ub2Zmc2V0V2lkdGggLSAkc2Nyb2xsRGl2WzBdLmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAkc2Nyb2xsRGl2LnJlbW92ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQoXCJoZWFkXCIpLmFwcGVuZChcbiAgICAgICAgICAgICc8c3R5bGUgaWQ9XCJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXIgeyBtYXJnaW4tcmlnaHQ6ICcgK1xuICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aCArXG4gICAgICAgICAgICAgIFwicHg7IH08L3N0eWxlPlwiXG4gICAgICAgICAgKTtcblxuICAgICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEJ1aWxkIGh0bWwgbWFya3VwIGFuZCBzZXQgcmVmZXJlbmNlc1xuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgIC8vIEJ1aWxkIGh0bWwgY29kZSBmb3IgYnV0dG9ucyBhbmQgaW5zZXJ0IGludG8gbWFpbiB0ZW1wbGF0ZVxuICAgICAgYnV0dG9uU3RyID0gXCJcIjtcblxuICAgICAgJC5lYWNoKGZpcnN0SXRlbU9wdHMuYnV0dG9ucywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIGJ1dHRvblN0ciArPSBmaXJzdEl0ZW1PcHRzLmJ0blRwbFt2YWx1ZV0gfHwgXCJcIjtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgbWFya3VwIGZyb20gYmFzZSB0ZW1wbGF0ZSwgaXQgd2lsbCBiZSBpbml0aWFsbHkgaGlkZGVuIHRvXG4gICAgICAvLyBhdm9pZCB1bm5lY2Vzc2FyeSB3b3JrIGxpa2UgcGFpbnRpbmcgd2hpbGUgaW5pdGlhbGl6aW5nIGlzIG5vdCBjb21wbGV0ZVxuICAgICAgJGNvbnRhaW5lciA9ICQoXG4gICAgICAgIHNlbGYudHJhbnNsYXRlKFxuICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgZmlyc3RJdGVtT3B0cy5iYXNlVHBsXG4gICAgICAgICAgICAucmVwbGFjZShcInt7YnV0dG9uc319XCIsIGJ1dHRvblN0cilcbiAgICAgICAgICAgIC5yZXBsYWNlKFwie3thcnJvd3N9fVwiLCBmaXJzdEl0ZW1PcHRzLmJ0blRwbC5hcnJvd0xlZnQgKyBmaXJzdEl0ZW1PcHRzLmJ0blRwbC5hcnJvd1JpZ2h0KVxuICAgICAgICApXG4gICAgICApXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJmYW5jeWJveC1jb250YWluZXItXCIgKyBzZWxmLmlkKVxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIilcbiAgICAgICAgLmFkZENsYXNzKGZpcnN0SXRlbU9wdHMuYmFzZUNsYXNzKVxuICAgICAgICAuZGF0YShcIkZhbmN5Qm94XCIsIHNlbGYpXG4gICAgICAgIC5hcHBlbmRUbyhmaXJzdEl0ZW1PcHRzLnBhcmVudEVsKTtcblxuICAgICAgLy8gQ3JlYXRlIG9iamVjdCBob2xkaW5nIHJlZmVyZW5jZXMgdG8galF1ZXJ5IHdyYXBwZWQgbm9kZXNcbiAgICAgIHNlbGYuJHJlZnMgPSB7XG4gICAgICAgIGNvbnRhaW5lcjogJGNvbnRhaW5lclxuICAgICAgfTtcblxuICAgICAgW1wiYmdcIiwgXCJpbm5lclwiLCBcImluZm9iYXJcIiwgXCJ0b29sYmFyXCIsIFwic3RhZ2VcIiwgXCJjYXB0aW9uXCIsIFwibmF2aWdhdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgc2VsZi4kcmVmc1tpdGVtXSA9ICRjb250YWluZXIuZmluZChcIi5mYW5jeWJveC1cIiArIGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcIm9uSW5pdFwiKTtcblxuICAgICAgLy8gRW5hYmxlIGV2ZW50cywgZGVhY3RpdmUgcHJldmlvdXMgaW5zdGFuY2VzXG4gICAgICBzZWxmLmFjdGl2YXRlKCk7XG5cbiAgICAgIC8vIEJ1aWxkIHNsaWRlcywgbG9hZCBhbmQgcmV2ZWFsIGNvbnRlbnRcbiAgICAgIHNlbGYuanVtcFRvKHNlbGYuY3VyckluZGV4KTtcbiAgICB9LFxuXG4gICAgLy8gU2ltcGxlIGkxOG4gc3VwcG9ydCAtIHJlcGxhY2VzIG9iamVjdCBrZXlzIGZvdW5kIGluIHRlbXBsYXRlXG4gICAgLy8gd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdHJhbnNsYXRlOiBmdW5jdGlvbihvYmosIHN0cikge1xuICAgICAgdmFyIGFyciA9IG9iai5vcHRzLmkxOG5bb2JqLm9wdHMubGFuZ107XG5cbiAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFx7XFx7KFxcdyspXFx9XFx9L2csIGZ1bmN0aW9uKG1hdGNoLCBuKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycltuXTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBQb3B1bGF0ZSBjdXJyZW50IGdyb3VwIHdpdGggZnJlc2ggY29udGVudFxuICAgIC8vIENoZWNrIGlmIGVhY2ggb2JqZWN0IGhhcyB2YWxpZCB0eXBlIGFuZCBjb250ZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGFkZENvbnRlbnQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgaXRlbXMgPSAkLm1ha2VBcnJheShjb250ZW50KSxcbiAgICAgICAgdGh1bWJzO1xuXG4gICAgICAkLmVhY2goaXRlbXMsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9LFxuICAgICAgICAgIG9wdHMgPSB7fSxcbiAgICAgICAgICAkaXRlbSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGZvdW5kLFxuICAgICAgICAgIHNyYyxcbiAgICAgICAgICBzcmNQYXJ0cztcblxuICAgICAgICAvLyBTdGVwIDEgLSBNYWtlIHN1cmUgd2UgaGF2ZSBhbiBvYmplY3RcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdChpdGVtKSkge1xuICAgICAgICAgIC8vIFdlIHByb2JhYmx5IGhhdmUgbWFudWFsIHVzYWdlIGhlcmUsIHNvbWV0aGluZyBsaWtlXG4gICAgICAgICAgLy8gJC5mYW5jeWJveC5vcGVuKCBbIHsgc3JjIDogXCJpbWFnZS5qcGdcIiwgdHlwZSA6IFwiaW1hZ2VcIiB9IF0gKVxuXG4gICAgICAgICAgb2JqID0gaXRlbTtcbiAgICAgICAgICBvcHRzID0gaXRlbS5vcHRzIHx8IGl0ZW07XG4gICAgICAgIH0gZWxzZSBpZiAoJC50eXBlKGl0ZW0pID09PSBcIm9iamVjdFwiICYmICQoaXRlbSkubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gSGVyZSB3ZSBwcm9iYWJseSBoYXZlIGpRdWVyeSBjb2xsZWN0aW9uIHJldHVybmVkIGJ5IHNvbWUgc2VsZWN0b3JcbiAgICAgICAgICAkaXRlbSA9ICQoaXRlbSk7XG5cbiAgICAgICAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZXMgbGlrZSBgZGF0YS1vcHRpb25zPSd7XCJ0b3VjaFwiIDogZmFsc2V9J2AgYW5kIGBkYXRhLXRvdWNoPSdmYWxzZSdgXG4gICAgICAgICAgb3B0cyA9ICRpdGVtLmRhdGEoKSB8fCB7fTtcbiAgICAgICAgICBvcHRzID0gJC5leHRlbmQodHJ1ZSwge30sIG9wdHMsIG9wdHMub3B0aW9ucyk7XG5cbiAgICAgICAgICAvLyBIZXJlIHdlIHN0b3JlIGNsaWNrZWQgZWxlbWVudFxuICAgICAgICAgIG9wdHMuJG9yaWcgPSAkaXRlbTtcblxuICAgICAgICAgIG9iai5zcmMgPSBzZWxmLm9wdHMuc3JjIHx8IG9wdHMuc3JjIHx8ICRpdGVtLmF0dHIoXCJocmVmXCIpO1xuXG4gICAgICAgICAgLy8gQXNzdW1lIHRoYXQgc2ltcGxlIHN5bnRheCBpcyB1c2VkLCBmb3IgZXhhbXBsZTpcbiAgICAgICAgICAvLyAgIGAkLmZhbmN5Ym94Lm9wZW4oICQoXCIjdGVzdFwiKSwge30gKTtgXG4gICAgICAgICAgaWYgKCFvYmoudHlwZSAmJiAhb2JqLnNyYykge1xuICAgICAgICAgICAgb2JqLnR5cGUgPSBcImlubGluZVwiO1xuICAgICAgICAgICAgb2JqLnNyYyA9IGl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFzc3VtZSB3ZSBoYXZlIGEgc2ltcGxlIGh0bWwgY29kZSwgZm9yIGV4YW1wbGU6XG4gICAgICAgICAgLy8gICAkLmZhbmN5Ym94Lm9wZW4oICc8ZGl2PjxoMT5IaSE8L2gxPjwvZGl2PicgKTtcbiAgICAgICAgICBvYmogPSB7XG4gICAgICAgICAgICB0eXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIHNyYzogaXRlbSArIFwiXCJcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWFjaCBnYWxsZXJ5IG9iamVjdCBoYXMgZnVsbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAgICAgICAgb2JqLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc2VsZi5vcHRzLCBvcHRzKTtcblxuICAgICAgICAvLyBEbyBub3QgbWVyZ2UgYnV0dG9ucyBhcnJheVxuICAgICAgICBpZiAoJC5pc0FycmF5KG9wdHMuYnV0dG9ucykpIHtcbiAgICAgICAgICBvYmoub3B0cy5idXR0b25zID0gb3B0cy5idXR0b25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RlcCAyIC0gTWFrZSBzdXJlIHdlIGhhdmUgY29udGVudCB0eXBlLCBpZiBub3QgLSB0cnkgdG8gZ3Vlc3NcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICB0eXBlID0gb2JqLnR5cGUgfHwgb2JqLm9wdHMudHlwZTtcbiAgICAgICAgc3JjID0gb2JqLnNyYyB8fCBcIlwiO1xuXG4gICAgICAgIGlmICghdHlwZSAmJiBzcmMpIHtcbiAgICAgICAgICBpZiAoKGZvdW5kID0gc3JjLm1hdGNoKC9cXC4obXA0fG1vdnxvZ3YpKChcXD98IykuKik/JC9pKSkpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcInZpZGVvXCI7XG5cbiAgICAgICAgICAgIGlmICghb2JqLm9wdHMudmlkZW9Gb3JtYXQpIHtcbiAgICAgICAgICAgICAgb2JqLm9wdHMudmlkZW9Gb3JtYXQgPSBcInZpZGVvL1wiICsgKGZvdW5kWzFdID09PSBcIm9ndlwiID8gXCJvZ2dcIiA6IGZvdW5kWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHNyYy5tYXRjaCgvKF5kYXRhOmltYWdlXFwvW2EtejAtOStcXC89XSosKXwoXFwuKGpwKGV8Z3xlZyl8Z2lmfHBuZ3xibXB8d2VicHxzdmd8aWNvKSgoXFw/fCMpLiopPyQpL2kpKSB7XG4gICAgICAgICAgICB0eXBlID0gXCJpbWFnZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3JjLm1hdGNoKC9cXC4ocGRmKSgoXFw/fCMpLiopPyQvaSkpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcImlmcmFtZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3JjLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcImlubGluZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgb2JqLnR5cGUgPSB0eXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYudHJpZ2dlcihcIm9iamVjdE5lZWRzVHlwZVwiLCBvYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvYmouY29udGVudFR5cGUpIHtcbiAgICAgICAgICBvYmouY29udGVudFR5cGUgPSAkLmluQXJyYXkob2JqLnR5cGUsIFtcImh0bWxcIiwgXCJpbmxpbmVcIiwgXCJhamF4XCJdKSA+IC0xID8gXCJodG1sXCIgOiBvYmoudHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0ZXAgMyAtIFNvbWUgYWRqdXN0bWVudHNcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICAgIG9iai5pbmRleCA9IHNlbGYuZ3JvdXAubGVuZ3RoO1xuXG4gICAgICAgIGlmIChvYmoub3B0cy5zbWFsbEJ0biA9PSBcImF1dG9cIikge1xuICAgICAgICAgIG9iai5vcHRzLnNtYWxsQnRuID0gJC5pbkFycmF5KG9iai50eXBlLCBbXCJodG1sXCIsIFwiaW5saW5lXCIsIFwiYWpheFwiXSkgPiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmoub3B0cy50b29sYmFyID09PSBcImF1dG9cIikge1xuICAgICAgICAgIG9iai5vcHRzLnRvb2xiYXIgPSAhb2JqLm9wdHMuc21hbGxCdG47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5kIHRodW1ibmFpbCBpbWFnZVxuICAgICAgICBpZiAob2JqLm9wdHMuJHRyaWdnZXIgJiYgb2JqLmluZGV4ID09PSBzZWxmLm9wdHMuaW5kZXgpIHtcbiAgICAgICAgICBvYmoub3B0cy4kdGh1bWIgPSBvYmoub3B0cy4kdHJpZ2dlci5maW5kKFwiaW1nOmZpcnN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCghb2JqLm9wdHMuJHRodW1iIHx8ICFvYmoub3B0cy4kdGh1bWIubGVuZ3RoKSAmJiBvYmoub3B0cy4kb3JpZykge1xuICAgICAgICAgIG9iai5vcHRzLiR0aHVtYiA9IG9iai5vcHRzLiRvcmlnLmZpbmQoXCJpbWc6Zmlyc3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBcImNhcHRpb25cIiBpcyBhIFwic3BlY2lhbFwiIG9wdGlvbiwgaXQgY2FuIGJlIHVzZWQgdG8gY3VzdG9taXplIGNhcHRpb24gcGVyIGdhbGxlcnkgaXRlbSAuLlxuICAgICAgICBpZiAoJC50eXBlKG9iai5vcHRzLmNhcHRpb24pID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBvYmoub3B0cy5jYXB0aW9uID0gb2JqLm9wdHMuY2FwdGlvbi5hcHBseShpdGVtLCBbc2VsZiwgb2JqXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC50eXBlKHNlbGYub3B0cy5jYXB0aW9uKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgb2JqLm9wdHMuY2FwdGlvbiA9IHNlbGYub3B0cy5jYXB0aW9uLmFwcGx5KGl0ZW0sIFtzZWxmLCBvYmpdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGNhcHRpb24gYXMgYSBzdHJpbmcgb3IgalF1ZXJ5IG9iamVjdFxuICAgICAgICBpZiAoIShvYmoub3B0cy5jYXB0aW9uIGluc3RhbmNlb2YgJCkpIHtcbiAgICAgICAgICBvYmoub3B0cy5jYXB0aW9uID0gb2JqLm9wdHMuY2FwdGlvbiA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IG9iai5vcHRzLmNhcHRpb24gKyBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdXJsIGNvbnRhaW5zIFwiZmlsdGVyXCIgdXNlZCB0byBmaWx0ZXIgdGhlIGNvbnRlbnRcbiAgICAgICAgLy8gRXhhbXBsZTogXCJhamF4Lmh0bWwgI3NvbWV0aGluZ1wiXG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gXCJhamF4XCIpIHtcbiAgICAgICAgICBzcmNQYXJ0cyA9IHNyYy5zcGxpdCgvXFxzKy8sIDIpO1xuXG4gICAgICAgICAgaWYgKHNyY1BhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIG9iai5zcmMgPSBzcmNQYXJ0cy5zaGlmdCgpO1xuXG4gICAgICAgICAgICBvYmoub3B0cy5maWx0ZXIgPSBzcmNQYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhpZGUgYWxsIGJ1dHRvbnMgYW5kIGRpc2FibGUgaW50ZXJhY3Rpdml0eSBmb3IgbW9kYWwgaXRlbXNcbiAgICAgICAgaWYgKG9iai5vcHRzLm1vZGFsKSB7XG4gICAgICAgICAgb2JqLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCBvYmoub3B0cywge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGJ1dHRvbnNcbiAgICAgICAgICAgIGluZm9iYXI6IDAsXG4gICAgICAgICAgICB0b29sYmFyOiAwLFxuXG4gICAgICAgICAgICBzbWFsbEJ0bjogMCxcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICBrZXlib2FyZDogMCxcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBzb21lIG1vZHVsZXNcbiAgICAgICAgICAgIHNsaWRlU2hvdzogMCxcbiAgICAgICAgICAgIGZ1bGxTY3JlZW46IDAsXG4gICAgICAgICAgICB0aHVtYnM6IDAsXG4gICAgICAgICAgICB0b3VjaDogMCxcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBjbGljayBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgY2xpY2tDb250ZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGNsaWNrU2xpZGU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpY2tPdXRzaWRlOiBmYWxzZSxcbiAgICAgICAgICAgIGRibGNsaWNrQ29udGVudDogZmFsc2UsXG4gICAgICAgICAgICBkYmxjbGlja1NsaWRlOiBmYWxzZSxcbiAgICAgICAgICAgIGRibGNsaWNrT3V0c2lkZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0ZXAgNCAtIEFkZCBwcm9jZXNzZWQgb2JqZWN0IHRvIGdyb3VwXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgc2VsZi5ncm91cC5wdXNoKG9iaik7XG4gICAgICB9KTtcblxuICAgICAgLy8gVXBkYXRlIGNvbnRyb2xzIGlmIGdhbGxlcnkgaXMgYWxyZWFkeSBvcGVuZWRcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzZWxmLnNsaWRlcykubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYudXBkYXRlQ29udHJvbHMoKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGh1bWJuYWlscywgaWYgbmVlZGVkXG4gICAgICAgIHRodW1icyA9IHNlbGYuVGh1bWJzO1xuXG4gICAgICAgIGlmICh0aHVtYnMgJiYgdGh1bWJzLmlzQWN0aXZlKSB7XG4gICAgICAgICAgdGh1bWJzLmNyZWF0ZSgpO1xuXG4gICAgICAgICAgdGh1bWJzLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQXR0YWNoIGFuIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zIGZvcjpcbiAgICAvLyAgIC0gbmF2aWdhdGlvbiBidXR0b25zXG4gICAgLy8gICAtIGJyb3dzZXIgc2Nyb2xsaW5nLCByZXNpemluZztcbiAgICAvLyAgIC0gZm9jdXNpbmdcbiAgICAvLyAgIC0ga2V5Ym9hcmRcbiAgICAvLyAgIC0gZGV0ZWN0IGlkbGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYWRkRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgLy8gTWFrZSBuYXZpZ2F0aW9uIGVsZW1lbnRzIGNsaWNrYWJsZVxuICAgICAgc2VsZi4kcmVmcy5jb250YWluZXJcbiAgICAgICAgLm9uKFwiY2xpY2suZmItY2xvc2VcIiwgXCJbZGF0YS1mYW5jeWJveC1jbG9zZV1cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgc2VsZi5jbG9zZShlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwidG91Y2hzdGFydC5mYi1wcmV2IGNsaWNrLmZiLXByZXZcIiwgXCJbZGF0YS1mYW5jeWJveC1wcmV2XVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLnByZXZpb3VzKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcInRvdWNoc3RhcnQuZmItbmV4dCBjbGljay5mYi1uZXh0XCIsIFwiW2RhdGEtZmFuY3lib3gtbmV4dF1cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgc2VsZi5uZXh0KCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrLmZiXCIsIFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIC8vIENsaWNrIGhhbmRsZXIgZm9yIHpvb20gYnV0dG9uXG4gICAgICAgICAgc2VsZltzZWxmLmlzU2NhbGVkRG93bigpID8gXCJzY2FsZVRvQWN0dWFsXCIgOiBcInNjYWxlVG9GaXRcIl0oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIEhhbmRsZSBwYWdlIHNjcm9sbGluZyBhbmQgYnJvd3NlciByZXNpemluZ1xuICAgICAgJFcub24oXCJvcmllbnRhdGlvbmNoYW5nZS5mYiByZXNpemUuZmJcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZSAmJiBlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LnR5cGUgPT09IFwicmVzaXplXCIpIHtcbiAgICAgICAgICByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLiRyZWZzLnN0YWdlLmhpZGUoKTtcblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLiRyZWZzLnN0YWdlLnNob3coKTtcblxuICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgICB9LCAkLmZhbmN5Ym94LmlzTW9iaWxlID8gNjAwIDogMjUwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyYXAga2V5Ym9hcmQgZm9jdXMgaW5zaWRlIG9mIHRoZSBtb2RhbCwgc28gdGhlIHVzZXIgZG9lcyBub3QgYWNjaWRlbnRhbGx5IHRhYiBvdXRzaWRlIG9mIHRoZSBtb2RhbFxuICAgICAgLy8gKGEuay5hLiBcImVzY2FwaW5nIHRoZSBtb2RhbFwiKVxuICAgICAgJEQub24oXCJmb2N1c2luLmZiXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gJC5mYW5jeWJveCA/ICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSA6IG51bGw7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGluc3RhbmNlLmlzQ2xvc2luZyB8fFxuICAgICAgICAgICFpbnN0YW5jZS5jdXJyZW50IHx8XG4gICAgICAgICAgIWluc3RhbmNlLmN1cnJlbnQub3B0cy50cmFwRm9jdXMgfHxcbiAgICAgICAgICAkKGUudGFyZ2V0KS5oYXNDbGFzcyhcImZhbmN5Ym94LWNvbnRhaW5lclwiKSB8fFxuICAgICAgICAgICQoZS50YXJnZXQpLmlzKGRvY3VtZW50KVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgJChlLnRhcmdldCkuY3NzKFwicG9zaXRpb25cIikgIT09IFwiZml4ZWRcIiAmJiAhaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGluc3RhbmNlLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBFbmFibGUga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgICAgJEQub24oXCJrZXlkb3duLmZiXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXG4gICAgICAgICAga2V5Y29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoO1xuXG4gICAgICAgIGlmICghY3VycmVudCB8fCAhY3VycmVudC5vcHRzLmtleWJvYXJkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLnNoaWZ0S2V5IHx8ICQoZS50YXJnZXQpLmlzKFwiaW5wdXRcIikgfHwgJChlLnRhcmdldCkuaXMoXCJ0ZXh0YXJlYVwiKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJhY2tzcGFjZSBhbmQgRXNjIGtleXNcbiAgICAgICAgaWYgKGtleWNvZGUgPT09IDggfHwga2V5Y29kZSA9PT0gMjcpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLmNsb3NlKGUpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGVmdCBhcnJvdyBhbmQgVXAgYXJyb3dcbiAgICAgICAgaWYgKGtleWNvZGUgPT09IDM3IHx8IGtleWNvZGUgPT09IDM4KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgc2VsZi5wcmV2aW91cygpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmlnaCBhcnJvdyBhbmQgRG93biBhcnJvd1xuICAgICAgICBpZiAoa2V5Y29kZSA9PT0gMzkgfHwga2V5Y29kZSA9PT0gNDApIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBzZWxmLm5leHQoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYudHJpZ2dlcihcImFmdGVyS2V5ZG93blwiLCBlLCBrZXljb2RlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIaWRlIGNvbnRyb2xzIGFmdGVyIHNvbWUgaW5hY3Rpdml0eSBwZXJpb2RcbiAgICAgIGlmIChzZWxmLmdyb3VwW3NlbGYuY3VyckluZGV4XS5vcHRzLmlkbGVUaW1lKSB7XG4gICAgICAgIHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID0gMDtcblxuICAgICAgICAkRC5vbihcbiAgICAgICAgICBcIm1vdXNlbW92ZS5mYi1pZGxlIG1vdXNlbGVhdmUuZmItaWRsZSBtb3VzZWRvd24uZmItaWRsZSB0b3VjaHN0YXJ0LmZiLWlkbGUgdG91Y2htb3ZlLmZiLWlkbGUgc2Nyb2xsLmZiLWlkbGUga2V5ZG93bi5mYi1pZGxlXCIsXG4gICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgICBpZiAoc2VsZi5pc0lkbGUpIHtcbiAgICAgICAgICAgICAgc2VsZi5zaG93Q29udHJvbHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5pc0lkbGUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgc2VsZi5pZGxlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIrKztcblxuICAgICAgICAgIGlmIChzZWxmLmlkbGVTZWNvbmRzQ291bnRlciA+PSBzZWxmLmdyb3VwW3NlbGYuY3VyckluZGV4XS5vcHRzLmlkbGVUaW1lICYmICFzZWxmLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHNlbGYuaXNJZGxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYuaWRsZVNlY29uZHNDb3VudGVyID0gMDtcblxuICAgICAgICAgICAgc2VsZi5oaWRlQ29udHJvbHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgZXZlbnRzIGFkZGVkIGJ5IHRoZSBjb3JlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcmVtb3ZlRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgJFcub2ZmKFwib3JpZW50YXRpb25jaGFuZ2UuZmIgcmVzaXplLmZiXCIpO1xuICAgICAgJEQub2ZmKFwiZm9jdXNpbi5mYiBrZXlkb3duLmZiIC5mYi1pZGxlXCIpO1xuXG4gICAgICB0aGlzLiRyZWZzLmNvbnRhaW5lci5vZmYoXCIuZmItY2xvc2UgLmZiLXByZXYgLmZiLW5leHRcIik7XG5cbiAgICAgIGlmIChzZWxmLmlkbGVJbnRlcnZhbCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChzZWxmLmlkbGVJbnRlcnZhbCk7XG5cbiAgICAgICAgc2VsZi5pZGxlSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDaGFuZ2UgdG8gcHJldmlvdXMgZ2FsbGVyeSBpdGVtXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHJldmlvdXM6IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zIC0gMSwgZHVyYXRpb24pO1xuICAgIH0sXG5cbiAgICAvLyBDaGFuZ2UgdG8gbmV4dCBnYWxsZXJ5IGl0ZW1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIG5leHQ6IGZ1bmN0aW9uKGR1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zICsgMSwgZHVyYXRpb24pO1xuICAgIH0sXG5cbiAgICAvLyBTd2l0Y2ggdG8gc2VsZWN0ZWQgZ2FsbGVyeSBpdGVtXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAganVtcFRvOiBmdW5jdGlvbihwb3MsIGR1cmF0aW9uKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGdyb3VwTGVuID0gc2VsZi5ncm91cC5sZW5ndGgsXG4gICAgICAgIGZpcnN0UnVuLFxuICAgICAgICBsb29wLFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICBwcmV2aW91cyxcbiAgICAgICAgY2FudmFzV2lkdGgsXG4gICAgICAgIGN1cnJlbnRQb3MsXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wcztcblxuICAgICAgaWYgKHNlbGYuaXNEcmFnZ2luZyB8fCBzZWxmLmlzQ2xvc2luZyB8fCAoc2VsZi5pc0FuaW1hdGluZyAmJiBzZWxmLmZpcnN0UnVuKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBvcyA9IHBhcnNlSW50KHBvcywgMTApO1xuXG4gICAgICAvLyBTaG91bGQgbG9vcD9cbiAgICAgIGxvb3AgPSBzZWxmLmN1cnJlbnQgPyBzZWxmLmN1cnJlbnQub3B0cy5sb29wIDogc2VsZi5vcHRzLmxvb3A7XG5cbiAgICAgIGlmICghbG9vcCAmJiAocG9zIDwgMCB8fCBwb3MgPj0gZ3JvdXBMZW4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZmlyc3RSdW4gPSBzZWxmLmZpcnN0UnVuID0gIU9iamVjdC5rZXlzKHNlbGYuc2xpZGVzKS5sZW5ndGg7XG5cbiAgICAgIGlmIChncm91cExlbiA8IDIgJiYgIWZpcnN0UnVuICYmICEhc2VsZi5pc0RyYWdnaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcHJldmlvdXMgPSBzZWxmLmN1cnJlbnQ7XG5cbiAgICAgIHNlbGYucHJldkluZGV4ID0gc2VsZi5jdXJySW5kZXg7XG4gICAgICBzZWxmLnByZXZQb3MgPSBzZWxmLmN1cnJQb3M7XG5cbiAgICAgIC8vIENyZWF0ZSBzbGlkZXNcbiAgICAgIGN1cnJlbnQgPSBzZWxmLmNyZWF0ZVNsaWRlKHBvcyk7XG5cbiAgICAgIGlmIChncm91cExlbiA+IDEpIHtcbiAgICAgICAgaWYgKGxvb3AgfHwgY3VycmVudC5pbmRleCA+IDApIHtcbiAgICAgICAgICBzZWxmLmNyZWF0ZVNsaWRlKHBvcyAtIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvb3AgfHwgY3VycmVudC5pbmRleCA8IGdyb3VwTGVuIC0gMSkge1xuICAgICAgICAgIHNlbGYuY3JlYXRlU2xpZGUocG9zICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZi5jdXJyZW50ID0gY3VycmVudDtcbiAgICAgIHNlbGYuY3VyckluZGV4ID0gY3VycmVudC5pbmRleDtcbiAgICAgIHNlbGYuY3VyclBvcyA9IGN1cnJlbnQucG9zO1xuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJiZWZvcmVTaG93XCIsIGZpcnN0UnVuKTtcblxuICAgICAgc2VsZi51cGRhdGVDb250cm9scygpO1xuXG4gICAgICBjdXJyZW50UG9zID0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpO1xuXG4gICAgICBjdXJyZW50LmlzTW92ZWQgPSAoY3VycmVudFBvcy5sZWZ0ICE9PSAwIHx8IGN1cnJlbnRQb3MudG9wICE9PSAwKSAmJiAhY3VycmVudC4kc2xpZGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1hbmltYXRlZFwiKTtcblxuICAgICAgLy8gVmFsaWRhdGUgZHVyYXRpb24gbGVuZ3RoXG4gICAgICBjdXJyZW50LmZvcmNlZER1cmF0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoJC5pc051bWVyaWMoZHVyYXRpb24pKSB7XG4gICAgICAgIGN1cnJlbnQuZm9yY2VkRHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR1cmF0aW9uID0gY3VycmVudC5vcHRzW2ZpcnN0UnVuID8gXCJhbmltYXRpb25EdXJhdGlvblwiIDogXCJ0cmFuc2l0aW9uRHVyYXRpb25cIl07XG4gICAgICB9XG5cbiAgICAgIGR1cmF0aW9uID0gcGFyc2VJbnQoZHVyYXRpb24sIDEwKTtcblxuICAgICAgLy8gRnJlc2ggc3RhcnQgLSByZXZlYWwgY29udGFpbmVyLCBjdXJyZW50IHNsaWRlIGFuZCBzdGFydCBsb2FkaW5nIGNvbnRlbnRcbiAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICBpZiAoY3VycmVudC5vcHRzLmFuaW1hdGlvbkVmZmVjdCAmJiBkdXJhdGlvbikge1xuICAgICAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgZHVyYXRpb24gKyBcIm1zXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi4kcmVmcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIik7XG5cbiAgICAgICAgZm9yY2VSZWRyYXcoc2VsZi4kcmVmcy5jb250YWluZXIpO1xuXG4gICAgICAgIHNlbGYuJHJlZnMuY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtb3BlblwiKTtcblxuICAgICAgICBmb3JjZVJlZHJhdyhzZWxmLiRyZWZzLmNvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gTWFrZSBjdXJyZW50IHNsaWRlIHZpc2libGVcbiAgICAgICAgY3VycmVudC4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIik7XG5cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBsb2FkIGNvbnRlbnQgaW50byBzbGlkZTtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBpbWFnZSB3b3VsZCBzdGFydCBsb2FkaW5nLCBidXQgaW5saW5lL2h0bWwgY29udGVudCB3b3VsZCBsb2FkIGltbWVkaWF0ZWx5XG4gICAgICAgIHNlbGYubG9hZFNsaWRlKGN1cnJlbnQpO1xuXG4gICAgICAgIGN1cnJlbnQuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzXCIpLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIik7XG5cbiAgICAgICAgc2VsZi5wcmVsb2FkKFwiaW1hZ2VcIik7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgJC5lYWNoKHNlbGYuc2xpZGVzLCBmdW5jdGlvbihpbmRleCwgc2xpZGUpIHtcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKHNsaWRlLiRzbGlkZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTWFrZSBjdXJyZW50IHRoYXQgc2xpZGUgaXMgdmlzaWJsZSBldmVuIGlmIGNvbnRlbnQgaXMgc3RpbGwgbG9hZGluZ1xuICAgICAgY3VycmVudC4kc2xpZGUucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKTtcblxuICAgICAgLy8gSWYgc2xpZGVzIGhhdmUgYmVlbiBkcmFnZ2VkLCBhbmltYXRlIHRoZW0gdG8gY29ycmVjdCBwb3NpdGlvblxuICAgICAgaWYgKGN1cnJlbnQuaXNNb3ZlZCkge1xuICAgICAgICBjYW52YXNXaWR0aCA9IE1hdGgucm91bmQoY3VycmVudC4kc2xpZGUud2lkdGgoKSk7XG5cbiAgICAgICAgJC5lYWNoKHNlbGYuc2xpZGVzLCBmdW5jdGlvbihpbmRleCwgc2xpZGUpIHtcbiAgICAgICAgICB2YXIgcG9zID0gc2xpZGUucG9zIC0gY3VycmVudC5wb3M7XG5cbiAgICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXG4gICAgICAgICAgICBzbGlkZS4kc2xpZGUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgbGVmdDogcG9zICogY2FudmFzV2lkdGggKyBwb3MgKiBzbGlkZS5vcHRzLmd1dHRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNsaWRlLiRzbGlkZS5yZW1vdmVBdHRyKFwic3R5bGVcIikucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIik7XG5cbiAgICAgICAgICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5pc01vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuJHJlZnMuc3RhZ2UuY2hpbGRyZW4oKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0IHRyYW5zaXRpb24gdGhhdCByZXZlYWxzIGN1cnJlbnQgY29udGVudFxuICAgICAgLy8gb3Igd2FpdCB3aGVuIGl0IHdpbGwgYmUgbG9hZGVkXG5cbiAgICAgIGlmIChjdXJyZW50LmlzTG9hZGVkKSB7XG4gICAgICAgIHNlbGYucmV2ZWFsQ29udGVudChjdXJyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYubG9hZFNsaWRlKGN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnByZWxvYWQoXCJpbWFnZVwiKTtcblxuICAgICAgaWYgKHByZXZpb3VzLnBvcyA9PT0gY3VycmVudC5wb3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgcHJldmlvdXMgc2xpZGVcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgICB0cmFuc2l0aW9uUHJvcHMgPSBcImZhbmN5Ym94LXNsaWRlLS1cIiArIChwcmV2aW91cy5wb3MgPiBjdXJyZW50LnBvcyA/IFwibmV4dFwiIDogXCJwcmV2aW91c1wiKTtcblxuICAgICAgcHJldmlvdXMuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWNvbXBsZXRlIGZhbmN5Ym94LXNsaWRlLS1jdXJyZW50IGZhbmN5Ym94LXNsaWRlLS1uZXh0IGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91c1wiKTtcblxuICAgICAgcHJldmlvdXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICBpZiAoIWR1cmF0aW9uIHx8ICghY3VycmVudC5pc01vdmVkICYmICFjdXJyZW50Lm9wdHMudHJhbnNpdGlvbkVmZmVjdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudC5pc01vdmVkKSB7XG4gICAgICAgIHByZXZpb3VzLiRzbGlkZS5hZGRDbGFzcyh0cmFuc2l0aW9uUHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvblByb3BzID0gXCJmYW5jeWJveC1hbmltYXRlZCBcIiArIHRyYW5zaXRpb25Qcm9wcyArIFwiIGZhbmN5Ym94LWZ4LVwiICsgY3VycmVudC5vcHRzLnRyYW5zaXRpb25FZmZlY3Q7XG5cbiAgICAgICAgJC5mYW5jeWJveC5hbmltYXRlKHByZXZpb3VzLiRzbGlkZSwgdHJhbnNpdGlvblByb3BzLCBkdXJhdGlvbiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcHJldmlvdXMuJHNsaWRlLnJlbW92ZUNsYXNzKHRyYW5zaXRpb25Qcm9wcykucmVtb3ZlQXR0cihcInN0eWxlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIG5ldyBcInNsaWRlXCIgZWxlbWVudFxuICAgIC8vIFRoZXNlIGFyZSBnYWxsZXJ5IGl0ZW1zICB0aGF0IGFyZSBhY3R1YWxseSBhZGRlZCB0byBET01cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjcmVhdGVTbGlkZTogZnVuY3Rpb24ocG9zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRzbGlkZSxcbiAgICAgICAgaW5kZXg7XG5cbiAgICAgIGluZGV4ID0gcG9zICUgc2VsZi5ncm91cC5sZW5ndGg7XG4gICAgICBpbmRleCA9IGluZGV4IDwgMCA/IHNlbGYuZ3JvdXAubGVuZ3RoICsgaW5kZXggOiBpbmRleDtcblxuICAgICAgaWYgKCFzZWxmLnNsaWRlc1twb3NdICYmIHNlbGYuZ3JvdXBbaW5kZXhdKSB7XG4gICAgICAgICRzbGlkZSA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1zbGlkZVwiPjwvZGl2PicpLmFwcGVuZFRvKHNlbGYuJHJlZnMuc3RhZ2UpO1xuXG4gICAgICAgIHNlbGYuc2xpZGVzW3Bvc10gPSAkLmV4dGVuZCh0cnVlLCB7fSwgc2VsZi5ncm91cFtpbmRleF0sIHtcbiAgICAgICAgICBwb3M6IHBvcyxcbiAgICAgICAgICAkc2xpZGU6ICRzbGlkZSxcbiAgICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi51cGRhdGVTbGlkZShzZWxmLnNsaWRlc1twb3NdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuc2xpZGVzW3Bvc107XG4gICAgfSxcblxuICAgIC8vIFNjYWxlIGltYWdlIHRvIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGUgaW1hZ2U7XG4gICAgLy8geCBhbmQgeSB2YWx1ZXMgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBzbGlkZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNjYWxlVG9BY3R1YWw6IGZ1bmN0aW9uKHgsIHksIGR1cmF0aW9uKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXG4gICAgICAgICRjb250ZW50ID0gY3VycmVudC4kY29udGVudCxcbiAgICAgICAgY2FudmFzV2lkdGggPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShjdXJyZW50LiRzbGlkZSkud2lkdGgsXG4gICAgICAgIGNhbnZhc0hlaWdodCA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKS5oZWlnaHQsXG4gICAgICAgIG5ld0ltZ1dpZHRoID0gY3VycmVudC53aWR0aCxcbiAgICAgICAgbmV3SW1nSGVpZ2h0ID0gY3VycmVudC5oZWlnaHQsXG4gICAgICAgIGltZ1BvcyxcbiAgICAgICAgcG9zWCxcbiAgICAgICAgcG9zWSxcbiAgICAgICAgc2NhbGVYLFxuICAgICAgICBzY2FsZVk7XG5cbiAgICAgIGlmIChzZWxmLmlzQW5pbWF0aW5nIHx8ICEkY29udGVudCB8fCAhKGN1cnJlbnQudHlwZSA9PSBcImltYWdlXCIgJiYgY3VycmVudC5pc0xvYWRlZCAmJiAhY3VycmVudC5oYXNFcnJvcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmZhbmN5Ym94LnN0b3AoJGNvbnRlbnQpO1xuXG4gICAgICBzZWxmLmlzQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IGNhbnZhc1dpZHRoICogMC41IDogeDtcbiAgICAgIHkgPSB5ID09PSB1bmRlZmluZWQgPyBjYW52YXNIZWlnaHQgKiAwLjUgOiB5O1xuXG4gICAgICBpbWdQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkY29udGVudCk7XG5cbiAgICAgIGltZ1Bvcy50b3AgLT0gJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoY3VycmVudC4kc2xpZGUpLnRvcDtcbiAgICAgIGltZ1Bvcy5sZWZ0IC09ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKS5sZWZ0O1xuXG4gICAgICBzY2FsZVggPSBuZXdJbWdXaWR0aCAvIGltZ1Bvcy53aWR0aDtcbiAgICAgIHNjYWxlWSA9IG5ld0ltZ0hlaWdodCAvIGltZ1Bvcy5oZWlnaHQ7XG5cbiAgICAgIC8vIEdldCBjZW50ZXIgcG9zaXRpb24gZm9yIG9yaWdpbmFsIGltYWdlXG4gICAgICBwb3NYID0gY2FudmFzV2lkdGggKiAwLjUgLSBuZXdJbWdXaWR0aCAqIDAuNTtcbiAgICAgIHBvc1kgPSBjYW52YXNIZWlnaHQgKiAwLjUgLSBuZXdJbWdIZWlnaHQgKiAwLjU7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSBpbWFnZSBkb2VzIG5vdCBtb3ZlIGF3YXkgZnJvbSBlZGdlc1xuICAgICAgaWYgKG5ld0ltZ1dpZHRoID4gY2FudmFzV2lkdGgpIHtcbiAgICAgICAgcG9zWCA9IGltZ1Bvcy5sZWZ0ICogc2NhbGVYIC0gKHggKiBzY2FsZVggLSB4KTtcblxuICAgICAgICBpZiAocG9zWCA+IDApIHtcbiAgICAgICAgICBwb3NYID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NYIDwgY2FudmFzV2lkdGggLSBuZXdJbWdXaWR0aCkge1xuICAgICAgICAgIHBvc1ggPSBjYW52YXNXaWR0aCAtIG5ld0ltZ1dpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdJbWdIZWlnaHQgPiBjYW52YXNIZWlnaHQpIHtcbiAgICAgICAgcG9zWSA9IGltZ1Bvcy50b3AgKiBzY2FsZVkgLSAoeSAqIHNjYWxlWSAtIHkpO1xuXG4gICAgICAgIGlmIChwb3NZID4gMCkge1xuICAgICAgICAgIHBvc1kgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc1kgPCBjYW52YXNIZWlnaHQgLSBuZXdJbWdIZWlnaHQpIHtcbiAgICAgICAgICBwb3NZID0gY2FudmFzSGVpZ2h0IC0gbmV3SW1nSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKG5ld0ltZ1dpZHRoLCBuZXdJbWdIZWlnaHQpO1xuXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXG4gICAgICAgICRjb250ZW50LFxuICAgICAgICB7XG4gICAgICAgICAgdG9wOiBwb3NZLFxuICAgICAgICAgIGxlZnQ6IHBvc1gsXG4gICAgICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICAgICAgc2NhbGVZOiBzY2FsZVlcbiAgICAgICAgfSxcbiAgICAgICAgZHVyYXRpb24gfHwgMzMwLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIFN0b3Agc2xpZGVzaG93XG4gICAgICBpZiAoc2VsZi5TbGlkZVNob3cgJiYgc2VsZi5TbGlkZVNob3cuaXNBY3RpdmUpIHtcbiAgICAgICAgc2VsZi5TbGlkZVNob3cuc3RvcCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBTY2FsZSBpbWFnZSB0byBmaXQgaW5zaWRlIHBhcmVudCBlbGVtZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2NhbGVUb0ZpdDogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50LFxuICAgICAgICBlbmQ7XG5cbiAgICAgIGlmIChzZWxmLmlzQW5pbWF0aW5nIHx8ICEkY29udGVudCB8fCAhKGN1cnJlbnQudHlwZSA9PSBcImltYWdlXCIgJiYgY3VycmVudC5pc0xvYWRlZCAmJiAhY3VycmVudC5oYXNFcnJvcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmZhbmN5Ym94LnN0b3AoJGNvbnRlbnQpO1xuXG4gICAgICBzZWxmLmlzQW5pbWF0aW5nID0gdHJ1ZTtcblxuICAgICAgZW5kID0gc2VsZi5nZXRGaXRQb3MoY3VycmVudCk7XG5cbiAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKGVuZC53aWR0aCwgZW5kLmhlaWdodCk7XG5cbiAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgJGNvbnRlbnQsXG4gICAgICAgIHtcbiAgICAgICAgICB0b3A6IGVuZC50b3AsXG4gICAgICAgICAgbGVmdDogZW5kLmxlZnQsXG4gICAgICAgICAgc2NhbGVYOiBlbmQud2lkdGggLyAkY29udGVudC53aWR0aCgpLFxuICAgICAgICAgIHNjYWxlWTogZW5kLmhlaWdodCAvICRjb250ZW50LmhlaWdodCgpXG4gICAgICAgIH0sXG4gICAgICAgIGR1cmF0aW9uIHx8IDMzMCxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBDYWxjdWxhdGUgaW1hZ2Ugc2l6ZSB0byBmaXQgaW5zaWRlIHZpZXdwb3J0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZ2V0Rml0UG9zOiBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAkY29udGVudCA9IHNsaWRlLiRjb250ZW50LFxuICAgICAgICB3aWR0aCA9IHNsaWRlLndpZHRoIHx8IHNsaWRlLm9wdHMud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IHNsaWRlLmhlaWdodCB8fCBzbGlkZS5vcHRzLmhlaWdodCxcbiAgICAgICAgbWF4V2lkdGgsXG4gICAgICAgIG1heEhlaWdodCxcbiAgICAgICAgbWluUmF0aW8sXG4gICAgICAgIG1hcmdpbixcbiAgICAgICAgYXNwZWN0UmF0aW8sXG4gICAgICAgIHJleiA9IHt9O1xuXG4gICAgICBpZiAoIXNsaWRlLmlzTG9hZGVkIHx8ICEkY29udGVudCB8fCAhJGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbWFyZ2luID0ge1xuICAgICAgICB0b3A6IHBhcnNlSW50KHNsaWRlLiRzbGlkZS5jc3MoXCJwYWRkaW5nVG9wXCIpLCAxMCksXG4gICAgICAgIHJpZ2h0OiBwYXJzZUludChzbGlkZS4kc2xpZGUuY3NzKFwicGFkZGluZ1JpZ2h0XCIpLCAxMCksXG4gICAgICAgIGJvdHRvbTogcGFyc2VJbnQoc2xpZGUuJHNsaWRlLmNzcyhcInBhZGRpbmdCb3R0b21cIiksIDEwKSxcbiAgICAgICAgbGVmdDogcGFyc2VJbnQoc2xpZGUuJHNsaWRlLmNzcyhcInBhZGRpbmdMZWZ0XCIpLCAxMClcbiAgICAgIH07XG5cbiAgICAgIC8vIFdlIGNhbiBub3QgdXNlICRzbGlkZSB3aWR0aCBoZXJlLCBiZWNhdXNlIGl0IGNhbiBoYXZlIGRpZmZlcmVudCBkaWVtZW5zaW9ucyB3aGlsZSBpbiB0cmFuc2l0b25cbiAgICAgIG1heFdpZHRoID0gcGFyc2VJbnQoc2VsZi4kcmVmcy5zdGFnZS53aWR0aCgpLCAxMCkgLSAobWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpO1xuICAgICAgbWF4SGVpZ2h0ID0gcGFyc2VJbnQoc2VsZi4kcmVmcy5zdGFnZS5oZWlnaHQoKSwgMTApIC0gKG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKTtcblxuICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgbWluUmF0aW8gPSBNYXRoLm1pbigxLCBtYXhXaWR0aCAvIHdpZHRoLCBtYXhIZWlnaHQgLyBoZWlnaHQpO1xuXG4gICAgICAvLyBVc2UgZmxvb3Igcm91bmRpbmcgdG8gbWFrZSBzdXJlIGl0IHJlYWxseSBmaXRzXG4gICAgICB3aWR0aCA9IE1hdGguZmxvb3IobWluUmF0aW8gKiB3aWR0aCk7XG4gICAgICBoZWlnaHQgPSBNYXRoLmZsb29yKG1pblJhdGlvICogaGVpZ2h0KTtcblxuICAgICAgaWYgKHNsaWRlLnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICByZXoudG9wID0gTWF0aC5mbG9vcigobWF4SGVpZ2h0IC0gaGVpZ2h0KSAqIDAuNSkgKyBtYXJnaW4udG9wO1xuICAgICAgICByZXoubGVmdCA9IE1hdGguZmxvb3IoKG1heFdpZHRoIC0gd2lkdGgpICogMC41KSArIG1hcmdpbi5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChzbGlkZS5jb250ZW50VHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG4gICAgICAgIC8vIEZvcmNlIGFzcGVjdCByYXRpbyBmb3IgdGhlIHZpZGVvXG4gICAgICAgIC8vIFwiSSBzYXkgdGhlIHdob2xlIHdvcmxkIG11c3QgbGVhcm4gb2Ygb3VyIHBlYWNlZnVsIHdheXPigKYgYnkgZm9yY2UhXCJcbiAgICAgICAgYXNwZWN0UmF0aW8gPSBzbGlkZS5vcHRzLndpZHRoICYmIHNsaWRlLm9wdHMuaGVpZ2h0ID8gd2lkdGggLyBoZWlnaHQgOiBzbGlkZS5vcHRzLnJhdGlvIHx8IDE2IC8gOTtcblxuICAgICAgICBpZiAoaGVpZ2h0ID4gd2lkdGggLyBhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPiBoZWlnaHQgKiBhc3BlY3RSYXRpbykge1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV6LndpZHRoID0gd2lkdGg7XG4gICAgICByZXouaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICByZXR1cm4gcmV6O1xuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgY29udGVudCBzaXplIGFuZCBwb3NpdGlvbiBmb3IgYWxsIHNsaWRlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICQuZWFjaChzZWxmLnNsaWRlcywgZnVuY3Rpb24oa2V5LCBzbGlkZSkge1xuICAgICAgICBzZWxmLnVwZGF0ZVNsaWRlKHNsaWRlKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgc2xpZGUgY29udGVudCBwb3NpdGlvbiBhbmQgc2l6ZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB1cGRhdGVTbGlkZTogZnVuY3Rpb24oc2xpZGUsIGR1cmF0aW9uKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRjb250ZW50ID0gc2xpZGUgJiYgc2xpZGUuJGNvbnRlbnQsXG4gICAgICAgIHdpZHRoID0gc2xpZGUud2lkdGggfHwgc2xpZGUub3B0cy53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gc2xpZGUuaGVpZ2h0IHx8IHNsaWRlLm9wdHMuaGVpZ2h0O1xuXG4gICAgICBpZiAoJGNvbnRlbnQgJiYgKHdpZHRoIHx8IGhlaWdodCB8fCBzbGlkZS5jb250ZW50VHlwZSA9PT0gXCJ2aWRlb1wiKSAmJiAhc2xpZGUuaGFzRXJyb3IpIHtcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKCRjb250ZW50KTtcblxuICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSgkY29udGVudCwgc2VsZi5nZXRGaXRQb3Moc2xpZGUpKTtcblxuICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmN1cnJQb3MpIHtcbiAgICAgICAgICBzZWxmLmlzQW5pbWF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBzZWxmLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLiRzbGlkZS50cmlnZ2VyKFwicmVmcmVzaFwiKTtcblxuICAgICAgc2VsZi4kcmVmcy50b29sYmFyLnRvZ2dsZUNsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIsIHNsaWRlLiRzbGlkZS5nZXQoMCkuc2Nyb2xsSGVpZ2h0ID4gc2xpZGUuJHNsaWRlLmdldCgwKS5jbGllbnRIZWlnaHQpO1xuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJvblVwZGF0ZVwiLCBzbGlkZSk7XG4gICAgfSxcblxuICAgIC8vIEhvcml6b250YWxseSBjZW50ZXIgc2xpZGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjZW50ZXJTbGlkZTogZnVuY3Rpb24oc2xpZGUsIGR1cmF0aW9uKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGNhbnZhc1dpZHRoLFxuICAgICAgICBwb3M7XG5cbiAgICAgIGlmIChzZWxmLmN1cnJlbnQpIHtcbiAgICAgICAgY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKHNsaWRlLiRzbGlkZS53aWR0aCgpKTtcbiAgICAgICAgcG9zID0gc2xpZGUucG9zIC0gc2VsZi5jdXJyZW50LnBvcztcblxuICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXG4gICAgICAgICAgc2xpZGUuJHNsaWRlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IHBvcyAqIGNhbnZhc1dpZHRoICsgcG9zICogc2xpZGUub3B0cy5ndXR0ZXIsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkID8gMCA6IGR1cmF0aW9uLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIGN1cnNvciBzdHlsZSBkZXBlbmRpbmcgaWYgY29udGVudCBjYW4gYmUgem9vbWVkXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB1cGRhdGVDdXJzb3I6IGZ1bmN0aW9uKG5leHRXaWR0aCwgbmV4dEhlaWdodCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50LFxuICAgICAgICAkY29udGFpbmVyID0gc2VsZi4kcmVmcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy16b29tYWJsZSBmYW5jeWJveC1jYW4tem9vbUluIGZhbmN5Ym94LWNhbi1kcmFnIGZhbmN5Ym94LWNhbi16b29tT3V0XCIpLFxuICAgICAgICBpc1pvb21hYmxlO1xuXG4gICAgICBpZiAoIWN1cnJlbnQgfHwgc2VsZi5pc0Nsb3NpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpc1pvb21hYmxlID0gc2VsZi5pc1pvb21hYmxlKCk7XG5cbiAgICAgICRjb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy16b29tYWJsZVwiLCBpc1pvb21hYmxlKTtcblxuICAgICAgJChcIltkYXRhLWZhbmN5Ym94LXpvb21dXCIpLnByb3AoXCJkaXNhYmxlZFwiLCAhaXNab29tYWJsZSk7XG5cbiAgICAgIC8vIFNldCBjdXJzb3IgdG8gem9vbSBpbi9vdXQgaWYgY2xpY2sgZXZlbnQgaXMgJ3pvb20nXG4gICAgICBpZiAoXG4gICAgICAgIGlzWm9vbWFibGUgJiZcbiAgICAgICAgKGN1cnJlbnQub3B0cy5jbGlja0NvbnRlbnQgPT09IFwiem9vbVwiIHx8ICgkLmlzRnVuY3Rpb24oY3VycmVudC5vcHRzLmNsaWNrQ29udGVudCkgJiYgY3VycmVudC5vcHRzLmNsaWNrQ29udGVudChjdXJyZW50KSA9PT0gXCJ6b29tXCIpKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChzZWxmLmlzU2NhbGVkRG93bihuZXh0V2lkdGgsIG5leHRIZWlnaHQpKSB7XG4gICAgICAgICAgLy8gSWYgaW1hZ2UgaXMgc2NhbGVkIGRvd24sIHRoZW4sIG9idmlvdXNseSwgaXQgY2FuIGJlIHpvb21lZCB0byBmdWxsIHNpemVcbiAgICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXpvb21JblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3VycmVudC5vcHRzLnRvdWNoKSB7XG4gICAgICAgICAgICAvLyBJZiBpbWFnZSBzaXplIGlyIGxhcmdlbiB0aGFuIGF2YWlsYWJsZSBhdmFpbGFibGUgYW5kIHRvdWNoIG1vZHVsZSBpcyBub3QgZGlzYWJsZSxcbiAgICAgICAgICAgIC8vIHRoZW4gdXNlciBjYW4gZG8gcGFubmluZ1xuICAgICAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi1kcmFnXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtY2FuLXpvb21PdXRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQub3B0cy50b3VjaCAmJiBjdXJyZW50LmNvbnRlbnRUeXBlICE9PSBcInZpZGVvXCIpIHtcbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi1kcmFnXCIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHNsaWRlIGlzIHpvb21hYmxlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaXNab29tYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXG4gICAgICAgIGZpdFBvcztcblxuICAgICAgLy8gQXNzdW1lIHRoYXQgc2xpZGUgaXMgem9vbWFibGUgaWY6XG4gICAgICAvLyAgIC0gaW1hZ2UgaXMgc3RpbGwgbG9hZGluZ1xuICAgICAgLy8gICAtIGFjdHVhbCBzaXplIG9mIHRoZSBpbWFnZSBpcyBzbWFsbGVyIHRoYW4gYXZhaWxhYmxlIGFyZWFcbiAgICAgIGlmIChjdXJyZW50ICYmICFzZWxmLmlzQ2xvc2luZyAmJiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAhY3VycmVudC5oYXNFcnJvcikge1xuICAgICAgICBpZiAoIWN1cnJlbnQuaXNMb2FkZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpdFBvcyA9IHNlbGYuZ2V0Rml0UG9zKGN1cnJlbnQpO1xuXG4gICAgICAgIGlmIChjdXJyZW50LndpZHRoID4gZml0UG9zLndpZHRoIHx8IGN1cnJlbnQuaGVpZ2h0ID4gZml0UG9zLmhlaWdodCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLy8gQ2hlY2sgaWYgY3VycmVudCBpbWFnZSBkaW1lbnNpb25zIGFyZSBzbWFsbGVyIHRoYW4gYWN0dWFsXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpc1NjYWxlZERvd246IGZ1bmN0aW9uKG5leHRXaWR0aCwgbmV4dEhlaWdodCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICByZXogPSBmYWxzZSxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50O1xuXG4gICAgICBpZiAobmV4dFdpZHRoICE9PSB1bmRlZmluZWQgJiYgbmV4dEhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJleiA9IG5leHRXaWR0aCA8IGN1cnJlbnQud2lkdGggJiYgbmV4dEhlaWdodCA8IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmICgkY29udGVudCkge1xuICAgICAgICByZXogPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkY29udGVudCk7XG4gICAgICAgIHJleiA9IHJlei53aWR0aCA8IGN1cnJlbnQud2lkdGggJiYgcmV6LmhlaWdodCA8IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV6O1xuICAgIH0sXG5cbiAgICAvLyBDaGVjayBpZiBpbWFnZSBkaW1lbnNpb25zIGV4Y2VlZCBwYXJlbnQgZWxlbWVudFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjYW5QYW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICByZXogPSBmYWxzZSxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgJGNvbnRlbnQ7XG5cbiAgICAgIGlmIChjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAoJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50KSAmJiAhY3VycmVudC5oYXNFcnJvcikge1xuICAgICAgICByZXogPSBzZWxmLmdldEZpdFBvcyhjdXJyZW50KTtcbiAgICAgICAgcmV6ID0gTWF0aC5hYnMoJGNvbnRlbnQud2lkdGgoKSAtIHJlei53aWR0aCkgPiAxIHx8IE1hdGguYWJzKCRjb250ZW50LmhlaWdodCgpIC0gcmV6LmhlaWdodCkgPiAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV6O1xuICAgIH0sXG5cbiAgICAvLyBMb2FkIGNvbnRlbnQgaW50byB0aGUgc2xpZGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGxvYWRTbGlkZTogZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgJHNsaWRlLFxuICAgICAgICBhamF4TG9hZDtcblxuICAgICAgaWYgKHNsaWRlLmlzTG9hZGluZyB8fCBzbGlkZS5pc0xvYWRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgIHNlbGYudHJpZ2dlcihcImJlZm9yZUxvYWRcIiwgc2xpZGUpO1xuXG4gICAgICB0eXBlID0gc2xpZGUudHlwZTtcbiAgICAgICRzbGlkZSA9IHNsaWRlLiRzbGlkZTtcblxuICAgICAgJHNsaWRlXG4gICAgICAgIC5vZmYoXCJyZWZyZXNoXCIpXG4gICAgICAgIC50cmlnZ2VyKFwib25SZXNldFwiKVxuICAgICAgICAuYWRkQ2xhc3Moc2xpZGUub3B0cy5zbGlkZUNsYXNzKTtcblxuICAgICAgLy8gQ3JlYXRlIGNvbnRlbnQgZGVwZW5kaW5nIG9uIHRoZSB0eXBlXG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgc2VsZi5zZXRJbWFnZShzbGlkZSk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiaWZyYW1lXCI6XG4gICAgICAgICAgc2VsZi5zZXRJZnJhbWUoc2xpZGUpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICBzZWxmLnNldENvbnRlbnQoc2xpZGUsIHNsaWRlLnNyYyB8fCBzbGlkZS5jb250ZW50KTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgIHNlbGYuc2V0Q29udGVudChcbiAgICAgICAgICAgIHNsaWRlLFxuICAgICAgICAgICAgJzx2aWRlbyBjbGFzcz1cImZhbmN5Ym94LXZpZGVvXCIgY29udHJvbHMgY29udHJvbHNMaXN0PVwibm9kb3dubG9hZFwiPicgK1xuICAgICAgICAgICAgICAnPHNvdXJjZSBzcmM9XCInICtcbiAgICAgICAgICAgICAgc2xpZGUuc3JjICtcbiAgICAgICAgICAgICAgJ1wiIHR5cGU9XCInICtcbiAgICAgICAgICAgICAgc2xpZGUub3B0cy52aWRlb0Zvcm1hdCArXG4gICAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgICAgXCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IEhUTUw1IHZpZGVvXCIgK1xuICAgICAgICAgICAgICBcIjwvdmlkZW9cIlxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgICAgICAgaWYgKCQoc2xpZGUuc3JjKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNlbGYuc2V0Q29udGVudChzbGlkZSwgJChzbGlkZS5zcmMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zZXRFcnJvcihzbGlkZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImFqYXhcIjpcbiAgICAgICAgICBzZWxmLnNob3dMb2FkaW5nKHNsaWRlKTtcblxuICAgICAgICAgIGFqYXhMb2FkID0gJC5hamF4KFxuICAgICAgICAgICAgJC5leHRlbmQoe30sIHNsaWRlLm9wdHMuYWpheC5zZXR0aW5ncywge1xuICAgICAgICAgICAgICB1cmw6IHNsaWRlLnNyYyxcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhdHVzID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgc2VsZi5zZXRDb250ZW50KHNsaWRlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChqcVhIUiAmJiB0ZXh0U3RhdHVzICE9PSBcImFib3J0XCIpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuc2V0RXJyb3Ioc2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgJHNsaWRlLm9uZShcIm9uUmVzZXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhamF4TG9hZC5hYm9ydCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzZWxmLnNldEVycm9yKHNsaWRlKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gVXNlIHRodW1ibmFpbCBpbWFnZSwgaWYgcG9zc2libGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2V0SW1hZ2U6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHNyY3NldCA9IHNsaWRlLm9wdHMuc3Jjc2V0IHx8IHNsaWRlLm9wdHMuaW1hZ2Uuc3Jjc2V0LFxuICAgICAgICB0aHVtYlNyYyxcbiAgICAgICAgZm91bmQsXG4gICAgICAgIHRlbXAsXG4gICAgICAgIHB4UmF0aW8sXG4gICAgICAgIHdpbmRvd1dpZHRoO1xuXG4gICAgICAvLyBDaGVjayBpZiBuZWVkIHRvIHNob3cgbG9hZGluZyBpY29uXG4gICAgICBzbGlkZS50aW1vdXRzID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICRpbWcgPSBzbGlkZS4kaW1hZ2U7XG5cbiAgICAgICAgaWYgKHNsaWRlLmlzTG9hZGluZyAmJiAoISRpbWcgfHwgISRpbWdbMF0uY29tcGxldGUpICYmICFzbGlkZS5oYXNFcnJvcikge1xuICAgICAgICAgIHNlbGYuc2hvd0xvYWRpbmcoc2xpZGUpO1xuICAgICAgICB9XG4gICAgICB9LCAzNTApO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIFwic3Jjc2V0XCIsIHRoZW4gd2UgbmVlZCB0byBmaW5kIGZpcnN0IG1hdGNoaW5nIFwic3JjXCIgdmFsdWUuXG4gICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSwgYmVjYXVzZSB3aGVuIHlvdSBzZXQgYW4gc3JjIGF0dHJpYnV0ZSwgdGhlIGJyb3dzZXIgd2lsbCBwcmVsb2FkIHRoZSBpbWFnZVxuICAgICAgLy8gYmVmb3JlIGFueSBqYXZhc2NyaXB0IG9yIGV2ZW4gQ1NTIGlzIGFwcGxpZWQuXG4gICAgICBpZiAoc3Jjc2V0KSB7XG4gICAgICAgIHB4UmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICogcHhSYXRpbztcblxuICAgICAgICB0ZW1wID0gc3Jjc2V0LnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICB2YXIgcmV0ID0ge307XG5cbiAgICAgICAgICBlbFxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGVsLCBpKSB7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KGVsLnN1YnN0cmluZygwLCBlbC5sZW5ndGggLSAxKSwgMTApO1xuXG4gICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChyZXQudXJsID0gZWwpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0LnBvc3RmaXggPSBlbFtlbC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTb3J0IGJ5IHZhbHVlXG4gICAgICAgIHRlbXAuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGEudmFsdWUgLSBiLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPaywgbm93IHdlIGhhdmUgYW4gYXJyYXkgb2YgYWxsIHNyY3NldCB2YWx1ZXNcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGVsID0gdGVtcFtqXTtcblxuICAgICAgICAgIGlmICgoZWwucG9zdGZpeCA9PT0gXCJ3XCIgJiYgZWwudmFsdWUgPj0gd2luZG93V2lkdGgpIHx8IChlbC5wb3N0Zml4ID09PSBcInhcIiAmJiBlbC52YWx1ZSA+PSBweFJhdGlvKSkge1xuICAgICAgICAgICAgZm91bmQgPSBlbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCwgdGFrZSB0aGUgbGFzdCBvbmVcbiAgICAgICAgaWYgKCFmb3VuZCAmJiB0ZW1wLmxlbmd0aCkge1xuICAgICAgICAgIGZvdW5kID0gdGVtcFt0ZW1wLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgc2xpZGUuc3JjID0gZm91bmQudXJsO1xuXG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBkZWZhdWx0IHdpZHRoL2hlaWdodCB2YWx1ZXMsIHdlIGNhbiBjYWxjdWxhdGUgaGVpZ2h0IGZvciBtYXRjaGluZyBzb3VyY2VcbiAgICAgICAgICBpZiAoc2xpZGUud2lkdGggJiYgc2xpZGUuaGVpZ2h0ICYmIGZvdW5kLnBvc3RmaXggPT0gXCJ3XCIpIHtcbiAgICAgICAgICAgIHNsaWRlLmhlaWdodCA9IHNsaWRlLndpZHRoIC8gc2xpZGUuaGVpZ2h0ICogZm91bmQudmFsdWU7XG4gICAgICAgICAgICBzbGlkZS53aWR0aCA9IGZvdW5kLnZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNsaWRlLm9wdHMuc3Jjc2V0ID0gc3Jjc2V0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgd2lsbCBiZSB3cmFwcGVyIGNvbnRhaW5pbmcgYm90aCBnaG9zdCBhbmQgYWN0dWFsIGltYWdlXG4gICAgICBzbGlkZS4kY29udGVudCA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250ZW50XCI+PC9kaXY+JylcbiAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpXG4gICAgICAgIC5hcHBlbmRUbyhzbGlkZS4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0taW1hZ2VcIikpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgdGh1bWJuYWlsLCB3ZSBjYW4gZGlzcGxheSBpdCB3aGlsZSBhY3R1YWwgaW1hZ2UgaXMgbG9hZGluZ1xuICAgICAgLy8gVXNlcnMgd2lsbCBub3Qgc3RhcmUgYXQgYmxhY2sgc2NyZWVuIGFuZCBhY3R1YWwgaW1hZ2Ugd2lsbCBhcHBlYXIgZ3JhZHVhbGx5XG4gICAgICB0aHVtYlNyYyA9IHNsaWRlLm9wdHMudGh1bWIgfHwgKHNsaWRlLm9wdHMuJHRodW1iICYmIHNsaWRlLm9wdHMuJHRodW1iLmxlbmd0aCA/IHNsaWRlLm9wdHMuJHRodW1iLmF0dHIoXCJzcmNcIikgOiBmYWxzZSk7XG5cbiAgICAgIGlmIChzbGlkZS5vcHRzLnByZWxvYWQgIT09IGZhbHNlICYmIHNsaWRlLm9wdHMud2lkdGggJiYgc2xpZGUub3B0cy5oZWlnaHQgJiYgdGh1bWJTcmMpIHtcbiAgICAgICAgc2xpZGUud2lkdGggPSBzbGlkZS5vcHRzLndpZHRoO1xuICAgICAgICBzbGlkZS5oZWlnaHQgPSBzbGlkZS5vcHRzLmhlaWdodDtcblxuICAgICAgICBzbGlkZS4kZ2hvc3QgPSAkKFwiPGltZyAvPlwiKVxuICAgICAgICAgIC5vbmUoXCJlcnJvclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHNsaWRlLiRnaG9zdCA9IG51bGw7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAub25lKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LWltYWdlXCIpXG4gICAgICAgICAgLmFwcGVuZFRvKHNsaWRlLiRjb250ZW50KVxuICAgICAgICAgIC5hdHRyKFwic3JjXCIsIHRodW1iU3JjKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgbG9hZGluZyBhY3R1YWwgaW1hZ2VcbiAgICAgIHNlbGYuc2V0QmlnSW1hZ2Uoc2xpZGUpO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgZnVsbC1zaXplIGltYWdlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc2V0QmlnSW1hZ2U6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRpbWcgPSAkKFwiPGltZyAvPlwiKTtcblxuICAgICAgc2xpZGUuJGltYWdlID0gJGltZ1xuICAgICAgICAub25lKFwiZXJyb3JcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zZXRFcnJvcihzbGlkZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbmUoXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBzaXplcztcblxuICAgICAgICAgIGlmICghc2xpZGUuJGdob3N0KSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmVJbWFnZVNsaWRlU2l6ZShzbGlkZSwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCk7XG5cbiAgICAgICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDbGVhciB0aW1lb3V0IHRoYXQgY2hlY2tzIGlmIGxvYWRpbmcgaWNvbiBuZWVkcyB0byBiZSBkaXNwbGF5ZWRcbiAgICAgICAgICBpZiAoc2xpZGUudGltb3V0cykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNsaWRlLnRpbW91dHMpO1xuICAgICAgICAgICAgc2xpZGUudGltb3V0cyA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNsaWRlLm9wdHMuc3Jjc2V0KSB7XG4gICAgICAgICAgICBzaXplcyA9IHNsaWRlLm9wdHMuc2l6ZXM7XG5cbiAgICAgICAgICAgIGlmICghc2l6ZXMgfHwgc2l6ZXMgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgIHNpemVzID1cbiAgICAgICAgICAgICAgICAoc2xpZGUud2lkdGggLyBzbGlkZS5oZWlnaHQgPiAxICYmICRXLndpZHRoKCkgLyAkVy5oZWlnaHQoKSA+IDEgPyBcIjEwMFwiIDogTWF0aC5yb3VuZChzbGlkZS53aWR0aCAvIHNsaWRlLmhlaWdodCAqIDEwMCkpICtcbiAgICAgICAgICAgICAgICBcInZ3XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRpbWcuYXR0cihcInNpemVzXCIsIHNpemVzKS5hdHRyKFwic3Jjc2V0XCIsIHNsaWRlLm9wdHMuc3Jjc2V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIaWRlIHRlbXBvcmFyeSBpbWFnZSBhZnRlciBzb21lIGRlbGF5XG4gICAgICAgICAgaWYgKHNsaWRlLiRnaG9zdCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHNsaWRlLiRnaG9zdCAmJiAhc2VsZi5pc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICBzbGlkZS4kZ2hvc3QuaGlkZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBNYXRoLm1pbigzMDAsIE1hdGgubWF4KDEwMDAsIHNsaWRlLmhlaWdodCAvIDE2MDApKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5oaWRlTG9hZGluZyhzbGlkZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LWltYWdlXCIpXG4gICAgICAgIC5hdHRyKFwic3JjXCIsIHNsaWRlLnNyYylcbiAgICAgICAgLmFwcGVuZFRvKHNsaWRlLiRjb250ZW50KTtcblxuICAgICAgaWYgKCgkaW1nWzBdLmNvbXBsZXRlIHx8ICRpbWdbMF0ucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpICYmICRpbWdbMF0ubmF0dXJhbFdpZHRoICYmICRpbWdbMF0ubmF0dXJhbEhlaWdodCkge1xuICAgICAgICAkaW1nLnRyaWdnZXIoXCJsb2FkXCIpO1xuICAgICAgfSBlbHNlIGlmICgkaW1nWzBdLmVycm9yKSB7XG4gICAgICAgICRpbWcudHJpZ2dlcihcImVycm9yXCIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDb21wdXRlcyB0aGUgc2xpZGUgc2l6ZSBmcm9tIGltYWdlIHNpemUgYW5kIG1heFdpZHRoL21heEhlaWdodFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZXNvbHZlSW1hZ2VTbGlkZVNpemU6IGZ1bmN0aW9uKHNsaWRlLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KSB7XG4gICAgICB2YXIgbWF4V2lkdGggPSBwYXJzZUludChzbGlkZS5vcHRzLndpZHRoLCAxMCksXG4gICAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KHNsaWRlLm9wdHMuaGVpZ2h0LCAxMCk7XG5cbiAgICAgIC8vIFNldHMgdGhlIGRlZmF1bHQgdmFsdWVzIGZyb20gdGhlIGltYWdlXG4gICAgICBzbGlkZS53aWR0aCA9IGltZ1dpZHRoO1xuICAgICAgc2xpZGUuaGVpZ2h0ID0gaW1nSGVpZ2h0O1xuXG4gICAgICBpZiAobWF4V2lkdGggPiAwKSB7XG4gICAgICAgIHNsaWRlLndpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIHNsaWRlLmhlaWdodCA9IE1hdGguZmxvb3IobWF4V2lkdGggKiBpbWdIZWlnaHQgLyBpbWdXaWR0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXhIZWlnaHQgPiAwKSB7XG4gICAgICAgIHNsaWRlLndpZHRoID0gTWF0aC5mbG9vcihtYXhIZWlnaHQgKiBpbWdXaWR0aCAvIGltZ0hlaWdodCk7XG4gICAgICAgIHNsaWRlLmhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ3JlYXRlIGlmcmFtZSB3cmFwcGVyLCBpZnJhbWUgYW5kIGJpbmRpbmdzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzZXRJZnJhbWU6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9wdHMgPSBzbGlkZS5vcHRzLmlmcmFtZSxcbiAgICAgICAgJHNsaWRlID0gc2xpZGUuJHNsaWRlLFxuICAgICAgICAkaWZyYW1lO1xuXG4gICAgICBzbGlkZS4kY29udGVudCA9ICQoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1jb250ZW50JyArIChvcHRzLnByZWxvYWQgPyBcIiBmYW5jeWJveC1pcy1oaWRkZW5cIiA6IFwiXCIpICsgJ1wiPjwvZGl2PicpXG4gICAgICAgIC5jc3Mob3B0cy5jc3MpXG4gICAgICAgIC5hcHBlbmRUbygkc2xpZGUpO1xuXG4gICAgICAkc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIgKyBzbGlkZS5jb250ZW50VHlwZSk7XG5cbiAgICAgIHNsaWRlLiRpZnJhbWUgPSAkaWZyYW1lID0gJChvcHRzLnRwbC5yZXBsYWNlKC9cXHtybmRcXH0vZywgbmV3IERhdGUoKS5nZXRUaW1lKCkpKVxuICAgICAgICAuYXR0cihvcHRzLmF0dHIpXG4gICAgICAgIC5hcHBlbmRUbyhzbGlkZS4kY29udGVudCk7XG5cbiAgICAgIGlmIChvcHRzLnByZWxvYWQpIHtcbiAgICAgICAgc2VsZi5zaG93TG9hZGluZyhzbGlkZSk7XG5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgaXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBkZXRlcm1pbmUgaWYgaWZyYW1lIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWRcbiAgICAgICAgLy8gKGR1ZSB0byBicm93c2VyIHNlY3VyaXR5IHBvbGljeSlcblxuICAgICAgICAkaWZyYW1lLm9uKFwibG9hZC5mYiBlcnJvci5mYlwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgdGhpcy5pc1JlYWR5ID0gMTtcblxuICAgICAgICAgIHNsaWRlLiRzbGlkZS50cmlnZ2VyKFwicmVmcmVzaFwiKTtcblxuICAgICAgICAgIHNlbGYuYWZ0ZXJMb2FkKHNsaWRlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVjYWxjdWxhdGUgaWZyYW1lIGNvbnRlbnQgc2l6ZVxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAgICAgJHNsaWRlLm9uKFwicmVmcmVzaC5mYlwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgJGNvbnRlbnQgPSBzbGlkZS4kY29udGVudCxcbiAgICAgICAgICAgIGZyYW1lV2lkdGggPSBvcHRzLmNzcy53aWR0aCxcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gb3B0cy5jc3MuaGVpZ2h0LFxuICAgICAgICAgICAgJGNvbnRlbnRzLFxuICAgICAgICAgICAgJGJvZHk7XG5cbiAgICAgICAgICBpZiAoJGlmcmFtZVswXS5pc1JlYWR5ICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICRjb250ZW50cyA9ICRpZnJhbWUuY29udGVudHMoKTtcbiAgICAgICAgICAgICRib2R5ID0gJGNvbnRlbnRzLmZpbmQoXCJib2R5XCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBjb250bmV0IGRpbWVuc2lvbnMgaWYgaXQgaXMgYWNjZXNzaWJsZVxuICAgICAgICAgIGlmICgkYm9keSAmJiAkYm9keS5sZW5ndGggJiYgJGJvZHkuY2hpbGRyZW4oKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRjb250ZW50LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIlwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZnJhbWVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGZyYW1lV2lkdGggPSBNYXRoLmNlaWwoTWF0aC5tYXgoJGJvZHlbMF0uY2xpZW50V2lkdGgsICRib2R5Lm91dGVyV2lkdGgodHJ1ZSkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lV2lkdGgpIHtcbiAgICAgICAgICAgICAgJGNvbnRlbnQud2lkdGgoZnJhbWVXaWR0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZUhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGZyYW1lSGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGgubWF4KCRib2R5WzBdLmNsaWVudEhlaWdodCwgJGJvZHkub3V0ZXJIZWlnaHQodHJ1ZSkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICRjb250ZW50LmhlaWdodChmcmFtZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZnRlckxvYWQoc2xpZGUpO1xuICAgICAgfVxuXG4gICAgICAkaWZyYW1lLmF0dHIoXCJzcmNcIiwgc2xpZGUuc3JjKTtcblxuICAgICAgLy8gUmVtb3ZlIGlmcmFtZSBpZiBjbG9zaW5nIG9yIGNoYW5naW5nIGdhbGxlcnkgaXRlbVxuICAgICAgJHNsaWRlLm9uZShcIm9uUmVzZXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRoaXMgaGVscHMgSUUgbm90IHRvIHRocm93IGVycm9ycyB3aGVuIGNsb3NpbmdcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAuZmluZChcImlmcmFtZVwiKVxuICAgICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgICAgLnVuYmluZCgpXG4gICAgICAgICAgICAuYXR0cihcInNyY1wiLCBcIi8vYWJvdXQ6YmxhbmtcIik7XG4gICAgICAgIH0gY2F0Y2ggKGlnbm9yZSkge31cblxuICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgLm9mZihcInJlZnJlc2guZmJcIilcbiAgICAgICAgICAuZW1wdHkoKTtcblxuICAgICAgICBzbGlkZS5pc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIFdyYXAgYW5kIGFwcGVuZCBjb250ZW50IHRvIHRoZSBzbGlkZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzZXRDb250ZW50OiBmdW5jdGlvbihzbGlkZSwgY29udGVudCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoc2VsZi5pc0Nsb3NpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmhpZGVMb2FkaW5nKHNsaWRlKTtcblxuICAgICAgaWYgKHNsaWRlLiRjb250ZW50KSB7XG4gICAgICAgICQuZmFuY3lib3guc3RvcChzbGlkZS4kY29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLiRzbGlkZS5lbXB0eSgpO1xuXG4gICAgICAvLyBJZiBjb250ZW50IGlzIGEgalF1ZXJ5IG9iamVjdCwgdGhlbiBpdCB3aWxsIGJlIG1vdmVkIHRvIHRoZSBzbGlkZS5cbiAgICAgIC8vIFRoZSBwbGFjZWhvbGRlciBpcyBjcmVhdGVkIHNvIHdlIHdpbGwga25vdyB3aGVyZSB0byBwdXQgaXQgYmFjay5cbiAgICAgIGlmIChpc1F1ZXJ5KGNvbnRlbnQpICYmIGNvbnRlbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBjb250ZW50IGlzIG5vdCBhbHJlYWR5IG1vdmVkIHRvIGZhbmN5Qm94XG4gICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAucGFyZW50KFwiLmZhbmN5Ym94LXNsaWRlLS1pbmxpbmVcIilcbiAgICAgICAgICAudHJpZ2dlcihcIm9uUmVzZXRcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSBlbGVtZW50IG1hcmtpbmcgb3JpZ2luYWwgcGxhY2Ugb2YgdGhlIGNvbnRlbnRcbiAgICAgICAgc2xpZGUuJHBsYWNlaG9sZGVyID0gJChcIjxkaXY+XCIpXG4gICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcihjb250ZW50KTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgY29udGVudCBpcyB2aXNpYmxlXG4gICAgICAgIGNvbnRlbnQuY3NzKFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNsaWRlLmhhc0Vycm9yKSB7XG4gICAgICAgIC8vIElmIGNvbnRlbnQgaXMganVzdCBhIHBsYWluIHRleHQsIHRyeSB0byBjb252ZXJ0IGl0IHRvIGh0bWxcbiAgICAgICAgaWYgKCQudHlwZShjb250ZW50KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnRlbnQgPSAkKFwiPGRpdj5cIilcbiAgICAgICAgICAgIC5hcHBlbmQoJC50cmltKGNvbnRlbnQpKVxuICAgICAgICAgICAgLmNvbnRlbnRzKCk7XG5cbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHRleHQgbm9kZSwgdGhlbiBhZGQgd3JhcHBpbmcgZWxlbWVudCB0byBtYWtlIHZlcnRpY2FsIGFsaWdubWVudCB3b3JrXG4gICAgICAgICAgaWYgKGNvbnRlbnRbMF0ubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkKFwiPGRpdj5cIikuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBcImZpbHRlclwiIG9wdGlvbiBpcyBwcm92aWRlZCwgdGhlbiBmaWx0ZXIgY29udGVudFxuICAgICAgICBpZiAoc2xpZGUub3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBjb250ZW50ID0gJChcIjxkaXY+XCIpXG4gICAgICAgICAgICAuaHRtbChjb250ZW50KVxuICAgICAgICAgICAgLmZpbmQoc2xpZGUub3B0cy5maWx0ZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLiRzbGlkZS5vbmUoXCJvblJlc2V0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBQYXVzZSBhbGwgaHRtbDUgdmlkZW8vYXVkaW9cbiAgICAgICAgJCh0aGlzKVxuICAgICAgICAgIC5maW5kKFwidmlkZW8sYXVkaW9cIilcbiAgICAgICAgICAudHJpZ2dlcihcInBhdXNlXCIpO1xuXG4gICAgICAgIC8vIFB1dCBjb250ZW50IGJhY2tcbiAgICAgICAgaWYgKHNsaWRlLiRwbGFjZWhvbGRlcikge1xuICAgICAgICAgIHNsaWRlLiRwbGFjZWhvbGRlci5hZnRlcihjb250ZW50LmhpZGUoKSkucmVtb3ZlKCk7XG5cbiAgICAgICAgICBzbGlkZS4kcGxhY2Vob2xkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGN1c3RvbSBjbG9zZSBidXR0b25cbiAgICAgICAgaWYgKHNsaWRlLiRzbWFsbEJ0bikge1xuICAgICAgICAgIHNsaWRlLiRzbWFsbEJ0bi5yZW1vdmUoKTtcblxuICAgICAgICAgIHNsaWRlLiRzbWFsbEJ0biA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgY29udGVudCBhbmQgbWFyayBzbGlkZSBhcyBub3QgbG9hZGVkXG4gICAgICAgIGlmICghc2xpZGUuaGFzRXJyb3IpIHtcbiAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7XG5cbiAgICAgICAgICBzbGlkZS5pc0xvYWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJChjb250ZW50KS5hcHBlbmRUbyhzbGlkZS4kc2xpZGUpO1xuXG4gICAgICBpZiAoJChjb250ZW50KS5pcyhcInZpZGVvLGF1ZGlvXCIpKSB7XG4gICAgICAgICQoY29udGVudCkuYWRkQ2xhc3MoXCJmYW5jeWJveC12aWRlb1wiKTtcblxuICAgICAgICAkKGNvbnRlbnQpLndyYXAoXCI8ZGl2PjwvZGl2PlwiKTtcblxuICAgICAgICBzbGlkZS5jb250ZW50VHlwZSA9IFwidmlkZW9cIjtcblxuICAgICAgICBzbGlkZS5vcHRzLndpZHRoID0gc2xpZGUub3B0cy53aWR0aCB8fCAkKGNvbnRlbnQpLmF0dHIoXCJ3aWR0aFwiKTtcbiAgICAgICAgc2xpZGUub3B0cy5oZWlnaHQgPSBzbGlkZS5vcHRzLmhlaWdodCB8fCAkKGNvbnRlbnQpLmF0dHIoXCJoZWlnaHRcIik7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLiRjb250ZW50ID0gc2xpZGUuJHNsaWRlXG4gICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgIC5maWx0ZXIoXCJkaXYsZm9ybSxtYWluLHZpZGVvLGF1ZGlvXCIpXG4gICAgICAgIC5maXJzdCgpXG4gICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LWNvbnRlbnRcIik7XG5cbiAgICAgIHNsaWRlLiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIiArIHNsaWRlLmNvbnRlbnRUeXBlKTtcblxuICAgICAgdGhpcy5hZnRlckxvYWQoc2xpZGUpO1xuICAgIH0sXG5cbiAgICAvLyBEaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNldEVycm9yOiBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgc2xpZGUuaGFzRXJyb3IgPSB0cnVlO1xuXG4gICAgICBzbGlkZS4kc2xpZGVcbiAgICAgICAgLnRyaWdnZXIoXCJvblJlc2V0XCIpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIiArIHNsaWRlLmNvbnRlbnRUeXBlKVxuICAgICAgICAuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tZXJyb3JcIik7XG5cbiAgICAgIHNsaWRlLmNvbnRlbnRUeXBlID0gXCJodG1sXCI7XG5cbiAgICAgIHRoaXMuc2V0Q29udGVudChzbGlkZSwgdGhpcy50cmFuc2xhdGUoc2xpZGUsIHNsaWRlLm9wdHMuZXJyb3JUcGwpKTtcblxuICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gdGhpcy5jdXJyUG9zKSB7XG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gU2hvdyBsb2FkaW5nIGljb24gaW5zaWRlIHRoZSBzbGlkZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzbGlkZSA9IHNsaWRlIHx8IHNlbGYuY3VycmVudDtcblxuICAgICAgaWYgKHNsaWRlICYmICFzbGlkZS4kc3Bpbm5lcikge1xuICAgICAgICBzbGlkZS4kc3Bpbm5lciA9ICQoc2VsZi50cmFuc2xhdGUoc2VsZiwgc2VsZi5vcHRzLnNwaW5uZXJUcGwpKS5hcHBlbmRUbyhzbGlkZS4kc2xpZGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBSZW1vdmUgbG9hZGluZyBpY29uIGZyb20gdGhlIHNsaWRlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNsaWRlID0gc2xpZGUgfHwgc2VsZi5jdXJyZW50O1xuXG4gICAgICBpZiAoc2xpZGUgJiYgc2xpZGUuJHNwaW5uZXIpIHtcbiAgICAgICAgc2xpZGUuJHNwaW5uZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgZGVsZXRlIHNsaWRlLiRzcGlubmVyO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBBZGp1c3RtZW50cyBhZnRlciBzbGlkZSBjb250ZW50IGhhcyBiZWVuIGxvYWRlZFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgc2xpZGUuaXNMb2FkZWQgPSB0cnVlO1xuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlckxvYWRcIiwgc2xpZGUpO1xuXG4gICAgICBzZWxmLmhpZGVMb2FkaW5nKHNsaWRlKTtcblxuICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XG4gICAgICAgIHNlbGYudXBkYXRlQ3Vyc29yKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzbGlkZS5vcHRzLnNtYWxsQnRuICYmICghc2xpZGUuJHNtYWxsQnRuIHx8ICFzbGlkZS4kc21hbGxCdG4ubGVuZ3RoKSkge1xuICAgICAgICBzbGlkZS4kc21hbGxCdG4gPSAkKHNlbGYudHJhbnNsYXRlKHNsaWRlLCBzbGlkZS5vcHRzLmJ0blRwbC5zbWFsbEJ0bikpLnByZXBlbmRUbyhzbGlkZS4kY29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzbGlkZS5vcHRzLnByb3RlY3QgJiYgc2xpZGUuJGNvbnRlbnQgJiYgIXNsaWRlLmhhc0Vycm9yKSB7XG4gICAgICAgIC8vIERpc2FibGUgcmlnaHQgY2xpY2tcbiAgICAgICAgc2xpZGUuJGNvbnRlbnQub24oXCJjb250ZXh0bWVudS5mYlwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgaWYgKGUuYnV0dG9uID09IDIpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGZha2UgZWxlbWVudCBvbiB0b3Agb2YgdGhlIGltYWdlXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgYSBiaXQgaGFyZGVyIGZvciB1c2VyIHRvIHNlbGVjdCBpbWFnZVxuICAgICAgICBpZiAoc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgJCgnPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNwYWNlYmFsbFwiPjwvZGl2PicpLmFwcGVuZFRvKHNsaWRlLiRjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLnJldmVhbENvbnRlbnQoc2xpZGUpO1xuICAgIH0sXG5cbiAgICAvLyBNYWtlIGNvbnRlbnQgdmlzaWJsZVxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCByaWdodCBhZnRlciBjb250ZW50IGhhcyBiZWVuIGxvYWRlZCBvclxuICAgIC8vIHVzZXIgbmF2aWdhdGVzIGdhbGxlcnkgYW5kIHRyYW5zaXRpb24gc2hvdWxkIHN0YXJ0XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICByZXZlYWxDb250ZW50OiBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAkc2xpZGUgPSBzbGlkZS4kc2xpZGUsXG4gICAgICAgIGVuZCA9IGZhbHNlLFxuICAgICAgICBzdGFydCA9IGZhbHNlLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIGVmZmVjdENsYXNzTmFtZSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIG9wYWNpdHk7XG5cbiAgICAgIGVmZmVjdCA9IHNsaWRlLm9wdHNbc2VsZi5maXJzdFJ1biA/IFwiYW5pbWF0aW9uRWZmZWN0XCIgOiBcInRyYW5zaXRpb25FZmZlY3RcIl07XG4gICAgICBkdXJhdGlvbiA9IHNsaWRlLm9wdHNbc2VsZi5maXJzdFJ1biA/IFwiYW5pbWF0aW9uRHVyYXRpb25cIiA6IFwidHJhbnNpdGlvbkR1cmF0aW9uXCJdO1xuXG4gICAgICBkdXJhdGlvbiA9IHBhcnNlSW50KHNsaWRlLmZvcmNlZER1cmF0aW9uID09PSB1bmRlZmluZWQgPyBkdXJhdGlvbiA6IHNsaWRlLmZvcmNlZER1cmF0aW9uLCAxMCk7XG5cbiAgICAgIC8vIERvIG5vdCBhbmltYXRlIGlmIHJldmVhbGluZyB0aGUgc2FtZSBzbGlkZVxuICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zKSB7XG4gICAgICAgIGlmIChzbGlkZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgZWZmZWN0ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5pc0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNsaWRlLmlzTW92ZWQgfHwgc2xpZGUucG9zICE9PSBzZWxmLmN1cnJQb3MgfHwgIWR1cmF0aW9uKSB7XG4gICAgICAgIGVmZmVjdCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBjYW4gem9vbVxuICAgICAgaWYgKGVmZmVjdCA9PT0gXCJ6b29tXCIpIHtcbiAgICAgICAgaWYgKHNsaWRlLnBvcyA9PT0gc2VsZi5jdXJyUG9zICYmIGR1cmF0aW9uICYmIHNsaWRlLnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAhc2xpZGUuaGFzRXJyb3IgJiYgKHN0YXJ0ID0gc2VsZi5nZXRUaHVtYlBvcyhzbGlkZSkpKSB7XG4gICAgICAgICAgZW5kID0gc2VsZi5nZXRGaXRQb3Moc2xpZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVmZmVjdCA9IFwiZmFkZVwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFpvb20gYW5pbWF0aW9uXG4gICAgICAvLyA9PT09PT09PT09PT09PVxuICAgICAgaWYgKGVmZmVjdCA9PT0gXCJ6b29tXCIpIHtcbiAgICAgICAgZW5kLnNjYWxlWCA9IGVuZC53aWR0aCAvIHN0YXJ0LndpZHRoO1xuICAgICAgICBlbmQuc2NhbGVZID0gZW5kLmhlaWdodCAvIHN0YXJ0LmhlaWdodDtcblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGFuaW1hdGUgb3BhY2l0eVxuICAgICAgICBvcGFjaXR5ID0gc2xpZGUub3B0cy56b29tT3BhY2l0eTtcblxuICAgICAgICBpZiAob3BhY2l0eSA9PSBcImF1dG9cIikge1xuICAgICAgICAgIG9wYWNpdHkgPSBNYXRoLmFicyhzbGlkZS53aWR0aCAvIHNsaWRlLmhlaWdodCAtIHN0YXJ0LndpZHRoIC8gc3RhcnQuaGVpZ2h0KSA+IDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGFjaXR5KSB7XG4gICAgICAgICAgc3RhcnQub3BhY2l0eSA9IDAuMTtcbiAgICAgICAgICBlbmQub3BhY2l0eSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEcmF3IGltYWdlIGF0IHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKHNsaWRlLiRjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpLCBzdGFydCk7XG5cbiAgICAgICAgZm9yY2VSZWRyYXcoc2xpZGUuJGNvbnRlbnQpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvblxuICAgICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoc2xpZGUuJGNvbnRlbnQsIGVuZCwgZHVyYXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnVwZGF0ZVNsaWRlKHNsaWRlKTtcblxuICAgICAgLy8gU2ltcGx5IHNob3cgY29udGVudFxuICAgICAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICAgICBpZiAoIWVmZmVjdCkge1xuICAgICAgICBmb3JjZVJlZHJhdygkc2xpZGUpO1xuXG4gICAgICAgIHNsaWRlLiRjb250ZW50LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpO1xuXG4gICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xuICAgICAgICAgIHNlbGYuY29tcGxldGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJC5mYW5jeWJveC5zdG9wKCRzbGlkZSk7XG5cbiAgICAgIGVmZmVjdENsYXNzTmFtZSA9IFwiZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtc2xpZGUtLVwiICsgKHNsaWRlLnBvcyA+PSBzZWxmLnByZXZQb3MgPyBcIm5leHRcIiA6IFwicHJldmlvdXNcIikgKyBcIiBmYW5jeWJveC1meC1cIiArIGVmZmVjdDtcblxuICAgICAgJHNsaWRlXG4gICAgICAgIC5yZW1vdmVBdHRyKFwic3R5bGVcIilcbiAgICAgICAgLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnQgZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzXCIpXG4gICAgICAgIC5hZGRDbGFzcyhlZmZlY3RDbGFzc05hbWUpO1xuXG4gICAgICBzbGlkZS4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKTtcblxuICAgICAgLy8gRm9yY2UgcmVmbG93IGZvciBDU1MzIHRyYW5zaXRpb25zXG4gICAgICBmb3JjZVJlZHJhdygkc2xpZGUpO1xuXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoXG4gICAgICAgICRzbGlkZSxcbiAgICAgICAgXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICRzbGlkZS5yZW1vdmVDbGFzcyhlZmZlY3RDbGFzc05hbWUpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcblxuICAgICAgICAgIGlmIChzbGlkZS5wb3MgPT09IHNlbGYuY3VyclBvcykge1xuICAgICAgICAgICAgc2VsZi5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGFuZCBoYXZlIHRvIHpvb20gZnJvbSB0aHVtYm5haWxcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZ2V0VGh1bWJQb3M6IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHJleiA9IGZhbHNlLFxuICAgICAgICAkdGh1bWIgPSBzbGlkZS5vcHRzLiR0aHVtYixcbiAgICAgICAgdGh1bWJQb3MgPSAkdGh1bWIgJiYgJHRodW1iLmxlbmd0aCAmJiAkdGh1bWJbMF0ub3duZXJEb2N1bWVudCA9PT0gZG9jdW1lbnQgPyAkdGh1bWIub2Zmc2V0KCkgOiAwLFxuICAgICAgICBzbGlkZVBvcztcblxuICAgICAgLy8gQ2hlY2sgaWYgZWxlbWVudCBpcyBpbnNpZGUgdGhlIHZpZXdwb3J0IGJ5IGF0IGxlYXN0IDEgcGl4ZWxcbiAgICAgIHZhciBpc0VsZW1lbnRWaXNpYmxlID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gJGVsWzBdLFxuICAgICAgICAgIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBwYXJlbnRSZWN0cyA9IFtdLFxuICAgICAgICAgIHZpc2libGVJbkFsbFBhcmVudHM7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQucGFyZW50RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICgkKGVsZW1lbnQucGFyZW50RWxlbWVudCkuY3NzKFwib3ZlcmZsb3dcIikgPT09IFwiaGlkZGVuXCIgfHwgJChlbGVtZW50LnBhcmVudEVsZW1lbnQpLmNzcyhcIm92ZXJmbG93XCIpID09PSBcImF1dG9cIikge1xuICAgICAgICAgICAgcGFyZW50UmVjdHMucHVzaChlbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2aXNpYmxlSW5BbGxQYXJlbnRzID0gcGFyZW50UmVjdHMuZXZlcnkoZnVuY3Rpb24ocGFyZW50UmVjdCkge1xuICAgICAgICAgIHZhciB2aXNpYmxlUGl4ZWxYID0gTWF0aC5taW4oZWxlbWVudFJlY3QucmlnaHQsIHBhcmVudFJlY3QucmlnaHQpIC0gTWF0aC5tYXgoZWxlbWVudFJlY3QubGVmdCwgcGFyZW50UmVjdC5sZWZ0KTtcbiAgICAgICAgICB2YXIgdmlzaWJsZVBpeGVsWSA9IE1hdGgubWluKGVsZW1lbnRSZWN0LmJvdHRvbSwgcGFyZW50UmVjdC5ib3R0b20pIC0gTWF0aC5tYXgoZWxlbWVudFJlY3QudG9wLCBwYXJlbnRSZWN0LnRvcCk7XG5cbiAgICAgICAgICByZXR1cm4gdmlzaWJsZVBpeGVsWCA+IDAgJiYgdmlzaWJsZVBpeGVsWSA+IDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdmlzaWJsZUluQWxsUGFyZW50cyAmJlxuICAgICAgICAgIGVsZW1lbnRSZWN0LmJvdHRvbSA+IDAgJiZcbiAgICAgICAgICBlbGVtZW50UmVjdC5yaWdodCA+IDAgJiZcbiAgICAgICAgICBlbGVtZW50UmVjdC5sZWZ0IDwgJCh3aW5kb3cpLndpZHRoKCkgJiZcbiAgICAgICAgICBlbGVtZW50UmVjdC50b3AgPCAkKHdpbmRvdykuaGVpZ2h0KClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aHVtYlBvcyAmJiBpc0VsZW1lbnRWaXNpYmxlKCR0aHVtYikpIHtcbiAgICAgICAgc2xpZGVQb3MgPSBzZWxmLiRyZWZzLnN0YWdlLm9mZnNldCgpO1xuXG4gICAgICAgIHJleiA9IHtcbiAgICAgICAgICB0b3A6IHRodW1iUG9zLnRvcCAtIHNsaWRlUG9zLnRvcCArIHBhcnNlRmxvYXQoJHRodW1iLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIikgfHwgMCksXG4gICAgICAgICAgbGVmdDogdGh1bWJQb3MubGVmdCAtIHNsaWRlUG9zLmxlZnQgKyBwYXJzZUZsb2F0KCR0aHVtYi5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSB8fCAwKSxcbiAgICAgICAgICB3aWR0aDogJHRodW1iLndpZHRoKCksXG4gICAgICAgICAgaGVpZ2h0OiAkdGh1bWIuaGVpZ2h0KCksXG4gICAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICAgIHNjYWxlWTogMVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV6O1xuICAgIH0sXG5cbiAgICAvLyBGaW5hbCBhZGp1c3RtZW50cyBhZnRlciBjdXJyZW50IGdhbGxlcnkgaXRlbSBpcyBtb3ZlZCB0byBwb3NpdGlvblxuICAgIC8vIGFuZCBpdGBzIGNvbnRlbnQgaXMgbG9hZGVkXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGN1cnJlbnQgPSBzZWxmLmN1cnJlbnQsXG4gICAgICAgIHNsaWRlcyA9IHt9O1xuXG4gICAgICBpZiAoY3VycmVudC5pc01vdmVkIHx8ICFjdXJyZW50LmlzTG9hZGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjdXJyZW50LmlzQ29tcGxldGUpIHtcbiAgICAgICAgY3VycmVudC5pc0NvbXBsZXRlID0gdHJ1ZTtcblxuICAgICAgICBjdXJyZW50LiRzbGlkZS5zaWJsaW5ncygpLnRyaWdnZXIoXCJvblJlc2V0XCIpO1xuXG4gICAgICAgIHNlbGYucHJlbG9hZChcImlubGluZVwiKTtcblxuICAgICAgICAvLyBUcmlnZ2VyIGFueSBDU1MzIHRyYW5zaXRvbiBpbnNpZGUgdGhlIHNsaWRlXG4gICAgICAgIGZvcmNlUmVkcmF3KGN1cnJlbnQuJHNsaWRlKTtcblxuICAgICAgICBjdXJyZW50LiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZVwiKTtcblxuICAgICAgICAvLyBSZW1vdmUgdW5uZWNlc3Nhcnkgc2xpZGVzXG4gICAgICAgICQuZWFjaChzZWxmLnNsaWRlcywgZnVuY3Rpb24oa2V5LCBzbGlkZSkge1xuICAgICAgICAgIGlmIChzbGlkZS5wb3MgPj0gc2VsZi5jdXJyUG9zIC0gMSAmJiBzbGlkZS5wb3MgPD0gc2VsZi5jdXJyUG9zICsgMSkge1xuICAgICAgICAgICAgc2xpZGVzW3NsaWRlLnBvc10gPSBzbGlkZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNsaWRlKSB7XG4gICAgICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlKTtcblxuICAgICAgICAgICAgc2xpZGUuJHNsaWRlLm9mZigpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5zbGlkZXMgPSBzbGlkZXM7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuaXNBbmltYXRpbmcgPSBmYWxzZTtcblxuICAgICAgc2VsZi51cGRhdGVDdXJzb3IoKTtcblxuICAgICAgc2VsZi50cmlnZ2VyKFwiYWZ0ZXJTaG93XCIpO1xuXG4gICAgICAvLyBQbGF5IGZpcnN0IGh0bWw1IHZpZGVvL2F1ZGlvXG4gICAgICBjdXJyZW50LiRzbGlkZVxuICAgICAgICAuZmluZChcInZpZGVvLGF1ZGlvXCIpXG4gICAgICAgIC5maWx0ZXIoXCI6dmlzaWJsZTpmaXJzdFwiKVxuICAgICAgICAudHJpZ2dlcihcInBsYXlcIik7XG5cbiAgICAgIC8vIFRyeSB0byBmb2N1cyBvbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnRcbiAgICAgIGlmIChcbiAgICAgICAgJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhcIltkaXNhYmxlZF1cIikgfHxcbiAgICAgICAgKGN1cnJlbnQub3B0cy5hdXRvRm9jdXMgJiYgIShjdXJyZW50LnR5cGUgPT0gXCJpbWFnZVwiIHx8IGN1cnJlbnQudHlwZSA9PT0gXCJpZnJhbWVcIikpXG4gICAgICApIHtcbiAgICAgICAgc2VsZi5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBQcmVsb2FkIG5leHQgYW5kIHByZXZpb3VzIHNsaWRlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcmVsb2FkOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG5leHQgPSBzZWxmLnNsaWRlc1tzZWxmLmN1cnJQb3MgKyAxXSxcbiAgICAgICAgcHJldiA9IHNlbGYuc2xpZGVzW3NlbGYuY3VyclBvcyAtIDFdO1xuXG4gICAgICBpZiAobmV4dCAmJiBuZXh0LnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgc2VsZi5sb2FkU2xpZGUobmV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2ICYmIHByZXYudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICBzZWxmLmxvYWRTbGlkZShwcmV2KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVHJ5IHRvIGZpbmQgYW5kIGZvY3VzIG9uIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50LFxuICAgICAgICAkZWw7XG5cbiAgICAgIGlmICh0aGlzLmlzQ2xvc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuaXNDb21wbGV0ZSAmJiBjdXJyZW50LiRjb250ZW50KSB7XG4gICAgICAgIC8vIExvb2sgZm9yIGZpcnN0IGlucHV0IHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZVxuICAgICAgICAkZWwgPSBjdXJyZW50LiRjb250ZW50LmZpbmQoXCJpbnB1dFthdXRvZm9jdXNdOmVuYWJsZWQ6dmlzaWJsZTpmaXJzdFwiKTtcblxuICAgICAgICBpZiAoISRlbC5sZW5ndGgpIHtcbiAgICAgICAgICAkZWwgPSBjdXJyZW50LiRjb250ZW50LmZpbmQoXCJidXR0b24sOmlucHV0LFt0YWJpbmRleF0sYVwiKS5maWx0ZXIoXCI6ZW5hYmxlZDp2aXNpYmxlOmZpcnN0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGVsID0gJGVsICYmICRlbC5sZW5ndGggPyAkZWwgOiBjdXJyZW50LiRjb250ZW50O1xuXG4gICAgICAgICRlbC50cmlnZ2VyKFwiZm9jdXNcIik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEFjdGl2YXRlcyBjdXJyZW50IGluc3RhbmNlIC0gYnJpbmdzIGNvbnRhaW5lciB0byB0aGUgZnJvbnQgYW5kIGVuYWJsZXMga2V5Ym9hcmQsXG4gICAgLy8gbm90aWZpZXMgb3RoZXIgaW5zdGFuY2VzIGFib3V0IGRlYWN0aXZhdGluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYWN0aXZhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBEZWFjdGl2YXRlIGFsbCBpbnN0YW5jZXNcbiAgICAgICQoXCIuZmFuY3lib3gtY29udGFpbmVyXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9ICQodGhpcykuZGF0YShcIkZhbmN5Qm94XCIpO1xuXG4gICAgICAgIC8vIFNraXAgc2VsZiBhbmQgY2xvc2luZyBpbnN0YW5jZXNcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlkICE9PSBzZWxmLmlkICYmICFpbnN0YW5jZS5pc0Nsb3NpbmcpIHtcbiAgICAgICAgICBpbnN0YW5jZS50cmlnZ2VyKFwib25EZWFjdGl2YXRlXCIpO1xuXG4gICAgICAgICAgaW5zdGFuY2UucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgICBpbnN0YW5jZS5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuaXNWaXNpYmxlID0gdHJ1ZTtcblxuICAgICAgaWYgKHNlbGYuY3VycmVudCB8fCBzZWxmLmlzSWRsZSkge1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuXG4gICAgICAgIHNlbGYudXBkYXRlQ29udHJvbHMoKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi50cmlnZ2VyKFwib25BY3RpdmF0ZVwiKTtcblxuICAgICAgc2VsZi5hZGRFdmVudHMoKTtcbiAgICB9LFxuXG4gICAgLy8gU3RhcnQgY2xvc2luZyBwcm9jZWR1cmVcbiAgICAvLyBUaGlzIHdpbGwgc3RhcnQgXCJ6b29tLW91dFwiIGFuaW1hdGlvbiBpZiBuZWVkZWQgYW5kIGNsZWFuIGV2ZXJ5dGhpbmcgdXAgYWZ0ZXJ3YXJkc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY2xvc2U6IGZ1bmN0aW9uKGUsIGQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgJGNvbnRlbnQsXG4gICAgICAgIGRvbVJlY3QsXG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmQ7XG5cbiAgICAgIHZhciBkb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuY2xlYW5VcChlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChzZWxmLmlzQ2xvc2luZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuaXNDbG9zaW5nID0gdHJ1ZTtcblxuICAgICAgLy8gSWYgYmVmb3JlQ2xvc2UgY2FsbGJhY2sgcHJldmVudHMgY2xvc2luZywgbWFrZSBzdXJlIGNvbnRlbnQgaXMgY2VudGVyZWRcbiAgICAgIGlmIChzZWxmLnRyaWdnZXIoXCJiZWZvcmVDbG9zZVwiLCBlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2VsZi5pc0Nsb3NpbmcgPSBmYWxzZTtcblxuICAgICAgICByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGFsbCBldmVudHNcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBpbnN0YW5jZXMsIHRoZXkgd2lsbCBiZSBzZXQgYWdhaW4gYnkgXCJhY3RpdmF0ZVwiIG1ldGhvZFxuICAgICAgc2VsZi5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgaWYgKGN1cnJlbnQudGltb3V0cykge1xuICAgICAgICBjbGVhclRpbWVvdXQoY3VycmVudC50aW1vdXRzKTtcbiAgICAgIH1cblxuICAgICAgJGNvbnRlbnQgPSBjdXJyZW50LiRjb250ZW50O1xuICAgICAgZWZmZWN0ID0gY3VycmVudC5vcHRzLmFuaW1hdGlvbkVmZmVjdDtcbiAgICAgIGR1cmF0aW9uID0gJC5pc051bWVyaWMoZCkgPyBkIDogZWZmZWN0ID8gY3VycmVudC5vcHRzLmFuaW1hdGlvbkR1cmF0aW9uIDogMDtcblxuICAgICAgLy8gUmVtb3ZlIG90aGVyIHNsaWRlc1xuICAgICAgY3VycmVudC4kc2xpZGVcbiAgICAgICAgLm9mZih0cmFuc2l0aW9uRW5kKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY29tcGxldGUgZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzIGZhbmN5Ym94LWFuaW1hdGVkXCIpO1xuXG4gICAgICBjdXJyZW50LiRzbGlkZVxuICAgICAgICAuc2libGluZ3MoKVxuICAgICAgICAudHJpZ2dlcihcIm9uUmVzZXRcIilcbiAgICAgICAgLnJlbW92ZSgpO1xuXG4gICAgICAvLyBUcmlnZ2VyIGFuaW1hdGlvbnNcbiAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLW9wZW5cIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1jbG9zaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgc2VsZi5oaWRlTG9hZGluZyhjdXJyZW50KTtcblxuICAgICAgc2VsZi5oaWRlQ29udHJvbHMoKTtcblxuICAgICAgc2VsZi51cGRhdGVDdXJzb3IoKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgcG9zc2libGUgdG8gem9vbS1vdXRcbiAgICAgIGlmIChcbiAgICAgICAgZWZmZWN0ID09PSBcInpvb21cIiAmJlxuICAgICAgICAhKGUgIT09IHRydWUgJiYgJGNvbnRlbnQgJiYgZHVyYXRpb24gJiYgY3VycmVudC50eXBlID09PSBcImltYWdlXCIgJiYgIWN1cnJlbnQuaGFzRXJyb3IgJiYgKGVuZCA9IHNlbGYuZ2V0VGh1bWJQb3MoY3VycmVudCkpKVxuICAgICAgKSB7XG4gICAgICAgIGVmZmVjdCA9IFwiZmFkZVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0ID09PSBcInpvb21cIikge1xuICAgICAgICAkLmZhbmN5Ym94LnN0b3AoJGNvbnRlbnQpO1xuXG4gICAgICAgIGRvbVJlY3QgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSgkY29udGVudCk7XG5cbiAgICAgICAgc3RhcnQgPSB7XG4gICAgICAgICAgdG9wOiBkb21SZWN0LnRvcCxcbiAgICAgICAgICBsZWZ0OiBkb21SZWN0LmxlZnQsXG4gICAgICAgICAgc2NhbGVYOiBkb21SZWN0LndpZHRoIC8gZW5kLndpZHRoLFxuICAgICAgICAgIHNjYWxlWTogZG9tUmVjdC5oZWlnaHQgLyBlbmQuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiBlbmQud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBlbmQuaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBhbmltYXRlIG9wYWNpdHlcbiAgICAgICAgb3BhY2l0eSA9IGN1cnJlbnQub3B0cy56b29tT3BhY2l0eTtcblxuICAgICAgICBpZiAob3BhY2l0eSA9PSBcImF1dG9cIikge1xuICAgICAgICAgIG9wYWNpdHkgPSBNYXRoLmFicyhjdXJyZW50LndpZHRoIC8gY3VycmVudC5oZWlnaHQgLSBlbmQud2lkdGggLyBlbmQuaGVpZ2h0KSA+IDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGFjaXR5KSB7XG4gICAgICAgICAgZW5kLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoJGNvbnRlbnQsIHN0YXJ0KTtcblxuICAgICAgICBmb3JjZVJlZHJhdygkY29udGVudCk7XG5cbiAgICAgICAgJC5mYW5jeWJveC5hbmltYXRlKCRjb250ZW50LCBlbmQsIGR1cmF0aW9uLCBkb25lKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVmZmVjdCAmJiBkdXJhdGlvbikge1xuICAgICAgICAvLyBJZiBza2lwIGFuaW1hdGlvblxuICAgICAgICBpZiAoZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZG9uZSwgZHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQuZmFuY3lib3guYW5pbWF0ZShcbiAgICAgICAgICAgIGN1cnJlbnQuJHNsaWRlLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIiksXG4gICAgICAgICAgICBcImZhbmN5Ym94LWFuaW1hdGVkIGZhbmN5Ym94LXNsaWRlLS1wcmV2aW91cyBmYW5jeWJveC1meC1cIiArIGVmZmVjdCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgZG9uZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8vIEZpbmFsIGFkanVzdG1lbnRzIGFmdGVyIHJlbW92aW5nIHRoZSBpbnN0YW5jZVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY2xlYW5VcDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAkYm9keSA9ICQoXCJib2R5XCIpLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgc2Nyb2xsVG9wO1xuXG4gICAgICBzZWxmLmN1cnJlbnQuJHNsaWRlLnRyaWdnZXIoXCJvblJlc2V0XCIpO1xuXG4gICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci5lbXB0eSgpLnJlbW92ZSgpO1xuXG4gICAgICBzZWxmLnRyaWdnZXIoXCJhZnRlckNsb3NlXCIsIGUpO1xuXG4gICAgICAvLyBQbGFjZSBiYWNrIGZvY3VzXG4gICAgICBpZiAoc2VsZi4kbGFzdEZvY3VzICYmICEhc2VsZi5jdXJyZW50Lm9wdHMuYmFja0ZvY3VzKSB7XG4gICAgICAgIHNlbGYuJGxhc3RGb2N1cy50cmlnZ2VyKFwiZm9jdXNcIik7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuY3VycmVudCA9IG51bGw7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBvdGhlciBpbnN0YW5jZXNcbiAgICAgIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UuYWN0aXZhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRib2R5LnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYWN0aXZlIGNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhclwiKTtcblxuICAgICAgICAkKFwiI2ZhbmN5Ym94LXN0eWxlLW5vc2Nyb2xsXCIpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDYWxsIGNhbGxiYWNrIGFuZCB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdHJpZ2dlcjogZnVuY3Rpb24obmFtZSwgc2xpZGUpIHtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9iaiA9IHNsaWRlICYmIHNsaWRlLm9wdHMgPyBzbGlkZSA6IHNlbGYuY3VycmVudCxcbiAgICAgICAgcmV6O1xuXG4gICAgICBpZiAob2JqKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChvYmopO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0gc2VsZjtcbiAgICAgIH1cblxuICAgICAgYXJncy51bnNoaWZ0KHNlbGYpO1xuXG4gICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9iai5vcHRzW25hbWVdKSkge1xuICAgICAgICByZXogPSBvYmoub3B0c1tuYW1lXS5hcHBseShvYmosIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV6ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gcmV6O1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZSA9PT0gXCJhZnRlckNsb3NlXCIgfHwgIXNlbGYuJHJlZnMpIHtcbiAgICAgICAgJEQudHJpZ2dlcihuYW1lICsgXCIuZmJcIiwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKG5hbWUgKyBcIi5mYlwiLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gVXBkYXRlIGluZm9iYXIgdmFsdWVzLCBuYXZpZ2F0aW9uIGJ1dHRvbiBzdGF0ZXMgYW5kIHJldmVhbCBjYXB0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB1cGRhdGVDb250cm9sczogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuY3VycmVudCxcbiAgICAgICAgaW5kZXggPSBjdXJyZW50LmluZGV4LFxuICAgICAgICBjYXB0aW9uID0gY3VycmVudC5vcHRzLmNhcHRpb24sXG4gICAgICAgICRjb250YWluZXIgPSBzZWxmLiRyZWZzLmNvbnRhaW5lcixcbiAgICAgICAgJGNhcHRpb24gPSBzZWxmLiRyZWZzLmNhcHRpb247XG5cbiAgICAgIC8vIFJlY2FsY3VsYXRlIGNvbnRlbnQgZGltZW5zaW9uc1xuICAgICAgY3VycmVudC4kc2xpZGUudHJpZ2dlcihcInJlZnJlc2hcIik7XG5cbiAgICAgIHNlbGYuJGNhcHRpb24gPSBjYXB0aW9uICYmIGNhcHRpb24ubGVuZ3RoID8gJGNhcHRpb24uaHRtbChjYXB0aW9uKSA6IG51bGw7XG5cbiAgICAgIGlmICghc2VsZi5pc0hpZGRlbkNvbnRyb2xzICYmICFzZWxmLmlzSWRsZSkge1xuICAgICAgICBzZWxmLnNob3dDb250cm9scygpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgaW5mbyBhbmQgbmF2aWdhdGlvbiBlbGVtZW50c1xuICAgICAgJGNvbnRhaW5lci5maW5kKFwiW2RhdGEtZmFuY3lib3gtY291bnRdXCIpLmh0bWwoc2VsZi5ncm91cC5sZW5ndGgpO1xuICAgICAgJGNvbnRhaW5lci5maW5kKFwiW2RhdGEtZmFuY3lib3gtaW5kZXhdXCIpLmh0bWwoaW5kZXggKyAxKTtcblxuICAgICAgJGNvbnRhaW5lci5maW5kKFwiW2RhdGEtZmFuY3lib3gtcHJldl1cIikudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLCAhY3VycmVudC5vcHRzLmxvb3AgJiYgaW5kZXggPD0gMCk7XG4gICAgICAkY29udGFpbmVyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1uZXh0XVwiKS50b2dnbGVDbGFzcyhcImRpc2FibGVkXCIsICFjdXJyZW50Lm9wdHMubG9vcCAmJiBpbmRleCA+PSBzZWxmLmdyb3VwLmxlbmd0aCAtIDEpO1xuXG4gICAgICBpZiAoY3VycmVudC50eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgLy8gUmUtZW5hYmxlIGJ1dHRvbnM7IHVwZGF0ZSBkb3dubG9hZCBidXR0b24gc291cmNlXG4gICAgICAgICRjb250YWluZXJcbiAgICAgICAgICAuZmluZChcIltkYXRhLWZhbmN5Ym94LXpvb21dXCIpXG4gICAgICAgICAgLnNob3coKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKFwiW2RhdGEtZmFuY3lib3gtZG93bmxvYWRdXCIpXG4gICAgICAgICAgLmF0dHIoXCJocmVmXCIsIGN1cnJlbnQub3B0cy5pbWFnZS5zcmMgfHwgY3VycmVudC5zcmMpXG4gICAgICAgICAgLnNob3coKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5vcHRzLnRvb2xiYXIpIHtcbiAgICAgICAgJGNvbnRhaW5lci5maW5kKFwiW2RhdGEtZmFuY3lib3gtZG93bmxvYWRdLFtkYXRhLWZhbmN5Ym94LXpvb21dXCIpLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gSGlkZSB0b29sYmFyIGFuZCBjYXB0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBoaWRlQ29udHJvbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc0hpZGRlbkNvbnRyb2xzID0gdHJ1ZTtcblxuICAgICAgdGhpcy4kcmVmcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zaG93LWluZm9iYXIgZmFuY3lib3gtc2hvdy10b29sYmFyIGZhbmN5Ym94LXNob3ctY2FwdGlvbiBmYW5jeWJveC1zaG93LW5hdlwiKTtcbiAgICB9LFxuXG4gICAgc2hvd0NvbnRyb2xzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgb3B0cyA9IHNlbGYuY3VycmVudCA/IHNlbGYuY3VycmVudC5vcHRzIDogc2VsZi5vcHRzLFxuICAgICAgICAkY29udGFpbmVyID0gc2VsZi4kcmVmcy5jb250YWluZXI7XG5cbiAgICAgIHNlbGYuaXNIaWRkZW5Db250cm9scyA9IGZhbHNlO1xuICAgICAgc2VsZi5pZGxlU2Vjb25kc0NvdW50ZXIgPSAwO1xuXG4gICAgICAkY29udGFpbmVyXG4gICAgICAgIC50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctdG9vbGJhclwiLCAhIShvcHRzLnRvb2xiYXIgJiYgb3B0cy5idXR0b25zKSlcbiAgICAgICAgLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1pbmZvYmFyXCIsICEhKG9wdHMuaW5mb2JhciAmJiBzZWxmLmdyb3VwLmxlbmd0aCA+IDEpKVxuICAgICAgICAudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LW5hdlwiLCAhIShvcHRzLmFycm93cyAmJiBzZWxmLmdyb3VwLmxlbmd0aCA+IDEpKVxuICAgICAgICAudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy1tb2RhbFwiLCAhIW9wdHMubW9kYWwpO1xuXG4gICAgICBpZiAoc2VsZi4kY2FwdGlvbikge1xuICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtc2hvdy1jYXB0aW9uIFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zaG93LWNhcHRpb25cIik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFRvZ2dsZSB0b29sYmFyIGFuZCBjYXB0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHRvZ2dsZUNvbnRyb2xzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzSGlkZGVuQ29udHJvbHMpIHtcbiAgICAgICAgdGhpcy5zaG93Q29udHJvbHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZUNvbnRyb2xzKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAkLmZhbmN5Ym94ID0ge1xuICAgIHZlcnNpb246IFwiMy4zLjVcIixcbiAgICBkZWZhdWx0czogZGVmYXVsdHMsXG5cbiAgICAvLyBHZXQgY3VycmVudCBpbnN0YW5jZSBhbmQgZXhlY3V0ZSBhIGNvbW1hbmQuXG4gICAgLy9cbiAgICAvLyBFeGFtcGxlcyBvZiB1c2FnZTpcbiAgICAvL1xuICAgIC8vICAgJGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xuICAgIC8vICAgJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpLmp1bXBUbyggMSApO1xuICAgIC8vICAgJC5mYW5jeWJveC5nZXRJbnN0YW5jZSggJ2p1bXBUbycsIDEgKTtcbiAgICAvLyAgICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICAgIGNvbnNvbGUuaW5mbyggdGhpcy5jdXJySW5kZXggKTtcbiAgICAvLyAgIH0pO1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9ICQoJy5mYW5jeWJveC1jb250YWluZXI6bm90KFwiLmZhbmN5Ym94LWlzLWNsb3NpbmdcIik6bGFzdCcpLmRhdGEoXCJGYW5jeUJveFwiKSxcbiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIEZhbmN5Qm94KSB7XG4gICAgICAgIGlmICgkLnR5cGUoY29tbWFuZCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBpbnN0YW5jZVtjb21tYW5kXS5hcHBseShpbnN0YW5jZSwgYXJncyk7XG4gICAgICAgIH0gZWxzZSBpZiAoJC50eXBlKGNvbW1hbmQpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb21tYW5kLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBDcmVhdGUgbmV3IGluc3RhbmNlXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICAgb3BlbjogZnVuY3Rpb24oaXRlbXMsIG9wdHMsIGluZGV4KSB7XG4gICAgICByZXR1cm4gbmV3IEZhbmN5Qm94KGl0ZW1zLCBvcHRzLCBpbmRleCk7XG4gICAgfSxcblxuICAgIC8vIENsb3NlIGN1cnJlbnQgb3IgYWxsIGluc3RhbmNlc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgY2xvc2U6IGZ1bmN0aW9uKGFsbCkge1xuICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcblxuICAgICAgICAvLyBUcnkgdG8gZmluZCBhbmQgY2xvc2UgbmV4dCBpbnN0YW5jZVxuXG4gICAgICAgIGlmIChhbGwgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ2xvc2UgYWxsIGluc3RhbmNlcyBhbmQgdW5iaW5kIGFsbCBldmVudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsb3NlKHRydWUpO1xuXG4gICAgICAkRC5hZGQoXCJib2R5XCIpLm9mZihcImNsaWNrLmZiLXN0YXJ0XCIsIFwiKipcIik7XG4gICAgfSxcblxuICAgIC8vIFRyeSB0byBkZXRlY3QgbW9iaWxlIGRldmljZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpc01vYmlsZTpcbiAgICAgIGRvY3VtZW50LmNyZWF0ZVRvdWNoICE9PSB1bmRlZmluZWQgJiYgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuXG4gICAgLy8gRGV0ZWN0IGlmICd0cmFuc2xhdGUzZCcgc3VwcG9ydCBpcyBhdmFpbGFibGVcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdXNlM2Q6IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAmJlxuICAgICAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYpICYmXG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRpdikuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKSAmJlxuICAgICAgICAhKGRvY3VtZW50LmRvY3VtZW50TW9kZSAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCAxMSlcbiAgICAgICk7XG4gICAgfSkoKSxcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgY3VycmVudCB2aXN1YWwgc3RhdGUgb2YgYW4gZWxlbWVudFxuICAgIC8vIHJldHVybnMgYXJyYXlbIHRvcCwgbGVmdCwgaG9yaXpvbnRhbC1zY2FsZSwgdmVydGljYWwtc2NhbGUsIG9wYWNpdHkgXVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZ2V0VHJhbnNsYXRlOiBmdW5jdGlvbigkZWwpIHtcbiAgICAgIHZhciBkb21SZWN0O1xuXG4gICAgICBpZiAoISRlbCB8fCAhJGVsLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGRvbVJlY3QgPSAkZWxbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogZG9tUmVjdC50b3AgfHwgMCxcbiAgICAgICAgbGVmdDogZG9tUmVjdC5sZWZ0IHx8IDAsXG4gICAgICAgIHdpZHRoOiBkb21SZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LFxuICAgICAgICBvcGFjaXR5OiBwYXJzZUZsb2F0KCRlbC5jc3MoXCJvcGFjaXR5XCIpKVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLy8gU2hvcnRjdXQgZm9yIHNldHRpbmcgXCJ0cmFuc2xhdGUzZFwiIHByb3BlcnRpZXMgZm9yIGVsZW1lbnRcbiAgICAvLyBDYW4gc2V0IGJlIHVzZWQgdG8gc2V0IG9wYWNpdHksIHRvb1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uKCRlbCwgcHJvcHMpIHtcbiAgICAgIHZhciBzdHIgPSBcIlwiLFxuICAgICAgICBjc3MgPSB7fTtcblxuICAgICAgaWYgKCEkZWwgfHwgIXByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLmxlZnQgIT09IHVuZGVmaW5lZCB8fCBwcm9wcy50b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHIgPVxuICAgICAgICAgIChwcm9wcy5sZWZ0ID09PSB1bmRlZmluZWQgPyAkZWwucG9zaXRpb24oKS5sZWZ0IDogcHJvcHMubGVmdCkgK1xuICAgICAgICAgIFwicHgsIFwiICtcbiAgICAgICAgICAocHJvcHMudG9wID09PSB1bmRlZmluZWQgPyAkZWwucG9zaXRpb24oKS50b3AgOiBwcm9wcy50b3ApICtcbiAgICAgICAgICBcInB4XCI7XG5cbiAgICAgICAgaWYgKHRoaXMudXNlM2QpIHtcbiAgICAgICAgICBzdHIgPSBcInRyYW5zbGF0ZTNkKFwiICsgc3RyICsgXCIsIDBweClcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSBcInRyYW5zbGF0ZShcIiArIHN0ciArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5zY2FsZVggIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5zY2FsZVkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHIgPSAoc3RyLmxlbmd0aCA/IHN0ciArIFwiIFwiIDogXCJcIikgKyBcInNjYWxlKFwiICsgcHJvcHMuc2NhbGVYICsgXCIsIFwiICsgcHJvcHMuc2NhbGVZICsgXCIpXCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdHIubGVuZ3RoKSB7XG4gICAgICAgIGNzcy50cmFuc2Zvcm0gPSBzdHI7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vcGFjaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3NzLm9wYWNpdHkgPSBwcm9wcy5vcGFjaXR5O1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjc3Mud2lkdGggPSBwcm9wcy53aWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNzcy5oZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkZWwuY3NzKGNzcyk7XG4gICAgfSxcblxuICAgIC8vIFNpbXBsZSBDU1MgdHJhbnNpdGlvbiBoYW5kbGVyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGFuaW1hdGU6IGZ1bmN0aW9uKCRlbCwgdG8sIGR1cmF0aW9uLCBjYWxsYmFjaywgbGVhdmVBbmltYXRpb25OYW1lKSB7XG4gICAgICB2YXIgZmluYWwgPSBmYWxzZTtcblxuICAgICAgaWYgKCQuaXNGdW5jdGlvbihkdXJhdGlvbikpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBkdXJhdGlvbjtcbiAgICAgICAgZHVyYXRpb24gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoISQuaXNQbGFpbk9iamVjdCh0bykpIHtcbiAgICAgICAgJGVsLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgIH1cblxuICAgICAgJC5mYW5jeWJveC5zdG9wKCRlbCk7XG5cbiAgICAgICRlbC5vbih0cmFuc2l0aW9uRW5kLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIFNraXAgZXZlbnRzIGZyb20gY2hpbGQgZWxlbWVudHMgYW5kIHotaW5kZXggY2hhbmdlXG4gICAgICAgIGlmIChlICYmIGUub3JpZ2luYWxFdmVudCAmJiAoISRlbC5pcyhlLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSB8fCBlLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lID09IFwiei1pbmRleFwiKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICQuZmFuY3lib3guc3RvcCgkZWwpO1xuXG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKCRlbCwgZmluYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdCh0bykpIHtcbiAgICAgICAgICBpZiAobGVhdmVBbmltYXRpb25OYW1lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgJGVsLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGVhdmVBbmltYXRpb25OYW1lICE9PSB0cnVlKSB7XG4gICAgICAgICAgJGVsLnJlbW92ZUNsYXNzKHRvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoJC5pc051bWVyaWMoZHVyYXRpb24pKSB7XG4gICAgICAgICRlbC5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsIGR1cmF0aW9uICsgXCJtc1wiKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uIGJ5IGNoYW5naW5nIENTUyBwcm9wZXJ0aWVzIG9yIGNsYXNzIG5hbWVcbiAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QodG8pKSB7XG4gICAgICAgIGlmICh0by5zY2FsZVggIT09IHVuZGVmaW5lZCAmJiB0by5zY2FsZVkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZpbmFsID0gJC5leHRlbmQoe30sIHRvLCB7XG4gICAgICAgICAgICB3aWR0aDogJGVsLndpZHRoKCkgKiB0by5zY2FsZVgsXG4gICAgICAgICAgICBoZWlnaHQ6ICRlbC5oZWlnaHQoKSAqIHRvLnNjYWxlWSxcbiAgICAgICAgICAgIHNjYWxlWDogMSxcbiAgICAgICAgICAgIHNjYWxlWTogMVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZGVsZXRlIHRvLndpZHRoO1xuICAgICAgICAgIGRlbGV0ZSB0by5oZWlnaHQ7XG5cbiAgICAgICAgICBpZiAoJGVsLnBhcmVudCgpLmhhc0NsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWltYWdlXCIpKSB7XG4gICAgICAgICAgICAkZWwucGFyZW50KCkuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1zY2FsaW5nXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKCRlbCwgdG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsLmFkZENsYXNzKHRvKTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgYHRyYW5zaXRpb25lbmRgIGNhbGxiYWNrIGdldHMgZmlyZWRcbiAgICAgICRlbC5kYXRhKFxuICAgICAgICBcInRpbWVyXCIsXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGVsLnRyaWdnZXIoXCJ0cmFuc2l0aW9uZW5kXCIpO1xuICAgICAgICB9LCBkdXJhdGlvbiArIDE2KVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oJGVsKSB7XG4gICAgICBpZiAoJGVsICYmICRlbC5sZW5ndGgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KCRlbC5kYXRhKFwidGltZXJcIikpO1xuXG4gICAgICAgICRlbC5vZmYoXCJ0cmFuc2l0aW9uZW5kXCIpLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIiwgXCJcIik7XG5cbiAgICAgICAgJGVsLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtc2NhbGluZ1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gRGVmYXVsdCBjbGljayBoYW5kbGVyIGZvciBcImZhbmN5Ym94ZWRcIiBsaW5rc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIF9ydW4oZSwgb3B0cykge1xuICAgIHZhciBpdGVtcyA9IFtdLFxuICAgICAgaW5kZXggPSAwLFxuICAgICAgJHRhcmdldCxcbiAgICAgIHZhbHVlO1xuXG4gICAgLy8gQXZvaWQgb3BlbmluZyBtdWx0aXBsZSB0aW1lc1xuICAgIGlmIChlICYmIGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBvcHRzID0gZSAmJiBlLmRhdGEgPyBlLmRhdGEub3B0aW9ucyA6IG9wdHMgfHwge307XG5cbiAgICAkdGFyZ2V0ID0gb3B0cy4kdGFyZ2V0IHx8ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICB2YWx1ZSA9ICR0YXJnZXQuYXR0cihcImRhdGEtZmFuY3lib3hcIikgfHwgXCJcIjtcblxuICAgIC8vIEdldCBhbGwgcmVsYXRlZCBpdGVtcyBhbmQgZmluZCBpbmRleCBmb3IgY2xpY2tlZCBvbmVcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGl0ZW1zID0gb3B0cy5zZWxlY3RvciA/ICQob3B0cy5zZWxlY3RvcikgOiBlLmRhdGEgPyBlLmRhdGEuaXRlbXMgOiBbXTtcbiAgICAgIGl0ZW1zID0gaXRlbXMubGVuZ3RoID8gaXRlbXMuZmlsdGVyKCdbZGF0YS1mYW5jeWJveD1cIicgKyB2YWx1ZSArICdcIl0nKSA6ICQoJ1tkYXRhLWZhbmN5Ym94PVwiJyArIHZhbHVlICsgJ1wiXScpO1xuXG4gICAgICBpbmRleCA9IGl0ZW1zLmluZGV4KCR0YXJnZXQpO1xuXG4gICAgICAvLyBTb21ldGltZXMgY3VycmVudCBpdGVtIGNhbiBub3QgYmUgZm91bmQgKGZvciBleGFtcGxlLCBpZiBzb21lIHNjcmlwdCBjbG9uZXMgaXRlbXMpXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbXMgPSBbJHRhcmdldF07XG4gICAgfVxuXG4gICAgJC5mYW5jeWJveC5vcGVuKGl0ZW1zLCBvcHRzLCBpbmRleCk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBqUXVlcnkgcGx1Z2luXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmZhbmN5Ym94ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBzZWxlY3RvcjtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvciB8fCBmYWxzZTtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgLy8gVXNlIGJvZHkgZWxlbWVudCBpbnN0ZWFkIG9mIGRvY3VtZW50IHNvIGl0IGV4ZWN1dGVzIGZpcnN0XG4gICAgICAkKFwiYm9keVwiKVxuICAgICAgICAub2ZmKFwiY2xpY2suZmItc3RhcnRcIiwgc2VsZWN0b3IpXG4gICAgICAgIC5vbihcImNsaWNrLmZiLXN0YXJ0XCIsIHNlbGVjdG9yLCB7b3B0aW9uczogb3B0aW9uc30sIF9ydW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9mZihcImNsaWNrLmZiLXN0YXJ0XCIpLm9uKFxuICAgICAgICBcImNsaWNrLmZiLXN0YXJ0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpdGVtczogdGhpcyxcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH0sXG4gICAgICAgIF9ydW5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gU2VsZiBpbml0aWFsaXppbmcgcGx1Z2luIGZvciBhbGwgZWxlbWVudHMgaGF2aW5nIGBkYXRhLWZhbmN5Ym94YCBhdHRyaWJ1dGVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkRC5vbihcImNsaWNrLmZiLXN0YXJ0XCIsIFwiW2RhdGEtZmFuY3lib3hdXCIsIF9ydW4pO1xuXG4gIC8vIEVuYWJsZSBcInRyaWdnZXIgZWxlbWVudHNcIlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgJEQub24oXCJjbGljay5mYi1zdGFydFwiLCBcIltkYXRhLXRyaWdnZXJdXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBfcnVuKGUsIHtcbiAgICAgICR0YXJnZXQ6ICQoJ1tkYXRhLWZhbmN5Ym94PVwiJyArICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKFwiZGF0YS10cmlnZ2VyXCIpICsgJ1wiXScpLmVxKCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKFwiZGF0YS1pbmRleFwiKSB8fCAwKSxcbiAgICAgICR0cmlnZ2VyOiAkKHRoaXMpXG4gICAgfSk7XG4gIH0pO1xufSkod2luZG93LCBkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIE1lZGlhXG4vLyBBZGRzIGFkZGl0aW9uYWwgbWVkaWEgdHlwZSBzdXBwb3J0XG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbigkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEZvcm1hdHMgbWF0Y2hpbmcgdXJsIHRvIGZpbmFsIGZvcm1cblxuICB2YXIgZm9ybWF0ID0gZnVuY3Rpb24odXJsLCByZXosIHBhcmFtcykge1xuICAgIGlmICghdXJsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IFwiXCI7XG5cbiAgICBpZiAoJC50eXBlKHBhcmFtcykgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHBhcmFtcyA9ICQucGFyYW0ocGFyYW1zLCB0cnVlKTtcbiAgICB9XG5cbiAgICAkLmVhY2gocmV6LCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB1cmwgPSB1cmwucmVwbGFjZShcIiRcIiArIGtleSwgdmFsdWUgfHwgXCJcIik7XG4gICAgfSk7XG5cbiAgICBpZiAocGFyYW1zLmxlbmd0aCkge1xuICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZihcIj9cIikgPiAwID8gXCImXCIgOiBcIj9cIikgKyBwYXJhbXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICAvLyBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIGZvciBlYWNoIG1lZGlhIHR5cGVcblxuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgeW91dHViZToge1xuICAgICAgbWF0Y2hlcjogLyh5b3V0dWJlXFwuY29tfHlvdXR1XFwuYmV8eW91dHViZVxcLW5vY29va2llXFwuY29tKVxcLyh3YXRjaFxcPyguKiYpP3Y9fHZcXC98dVxcL3xlbWJlZFxcLz8pPyh2aWRlb3Nlcmllc1xcP2xpc3Q9KC4qKXxbXFx3LV17MTF9fFxcP2xpc3RUeXBlPSguKikmbGlzdD0oLiopKSguKikvaSxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBhdXRvcGxheTogMSxcbiAgICAgICAgYXV0b2hpZGU6IDEsXG4gICAgICAgIGZzOiAxLFxuICAgICAgICByZWw6IDAsXG4gICAgICAgIGhkOiAxLFxuICAgICAgICB3bW9kZTogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBlbmFibGVqc2FwaTogMSxcbiAgICAgICAgaHRtbDU6IDFcbiAgICAgIH0sXG4gICAgICBwYXJhbVBsYWNlOiA4LFxuICAgICAgdHlwZTogXCJpZnJhbWVcIixcbiAgICAgIHVybDogXCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8kNFwiLFxuICAgICAgdGh1bWI6IFwiLy9pbWcueW91dHViZS5jb20vdmkvJDQvaHFkZWZhdWx0LmpwZ1wiXG4gICAgfSxcblxuICAgIHZpbWVvOiB7XG4gICAgICBtYXRjaGVyOiAvXi4rdmltZW8uY29tXFwvKC4qXFwvKT8oW1xcZF0rKSguKik/LyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBhdXRvcGxheTogMSxcbiAgICAgICAgaGQ6IDEsXG4gICAgICAgIHNob3dfdGl0bGU6IDEsXG4gICAgICAgIHNob3dfYnlsaW5lOiAxLFxuICAgICAgICBzaG93X3BvcnRyYWl0OiAwLFxuICAgICAgICBmdWxsc2NyZWVuOiAxLFxuICAgICAgICBhcGk6IDFcbiAgICAgIH0sXG4gICAgICBwYXJhbVBsYWNlOiAzLFxuICAgICAgdHlwZTogXCJpZnJhbWVcIixcbiAgICAgIHVybDogXCIvL3BsYXllci52aW1lby5jb20vdmlkZW8vJDJcIlxuICAgIH0sXG5cbiAgICBpbnN0YWdyYW06IHtcbiAgICAgIG1hdGNoZXI6IC8oaW5zdGFnclxcLmFtfGluc3RhZ3JhbVxcLmNvbSlcXC9wXFwvKFthLXpBLVowLTlfXFwtXSspXFwvPy9pLFxuICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgdXJsOiBcIi8vJDEvcC8kMi9tZWRpYS8/c2l6ZT1sXCJcbiAgICB9LFxuXG4gICAgLy8gRXhhbXBsZXM6XG4gICAgLy8gaHR0cDovL21hcHMuZ29vZ2xlLmNvbS8/bGw9NDguODU3OTk1LDIuMjk0Mjk3JnNwbj0wLjAwNzY2NiwwLjAyMTEzNiZ0PW0mej0xNlxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9AMzcuNzg1MjAwNiwtMTIyLjQxNDYzNTUsMTQuNjV6XG4gICAgLy8gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL0A1Mi4yMTExMTIzLDIuOTIzNzU0Miw2LjYxej9obD1lblxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9wbGFjZS9Hb29nbGVwbGV4L0AzNy40MjIwMDQxLC0xMjIuMDgzMzQ5NCwxN3ovZGF0YT0hNG01ITNtNCExczB4MDoweDZjMjk2YzY2NjE5MzY3ZTAhOG0yITNkMzcuNDIxOTk5OCE0ZC0xMjIuMDg0MDU3MlxuICAgIGdtYXBfcGxhY2U6IHtcbiAgICAgIG1hdGNoZXI6IC8obWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oXFwuW2Etel17Mn0pPylcXC8oKChtYXBzXFwvKHBsYWNlXFwvKC4qKVxcLyk/XFxAKC4qKSwoXFxkKy4/XFxkKz8peikpfChcXD9sbD0pKSguKik/L2ksXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxuICAgICAgdXJsOiBmdW5jdGlvbihyZXopIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi8vbWFwcy5nb29nbGUuXCIgK1xuICAgICAgICAgIHJlelsyXSArXG4gICAgICAgICAgXCIvP2xsPVwiICtcbiAgICAgICAgICAocmV6WzldID8gcmV6WzldICsgXCImej1cIiArIE1hdGguZmxvb3IocmV6WzEwXSkgKyAocmV6WzEyXSA/IHJlelsxMl0ucmVwbGFjZSgvXlxcLy8sIFwiJlwiKSA6IFwiXCIpIDogcmV6WzEyXSArIFwiXCIpLnJlcGxhY2UoL1xcPy8sIFwiJlwiKSArXG4gICAgICAgICAgXCImb3V0cHV0PVwiICtcbiAgICAgICAgICAocmV6WzEyXSAmJiByZXpbMTJdLmluZGV4T2YoXCJsYXllcj1jXCIpID4gMCA/IFwic3ZlbWJlZFwiIDogXCJlbWJlZFwiKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBFeGFtcGxlczpcbiAgICAvLyBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvc2VhcmNoL0VtcGlyZStTdGF0ZStCdWlsZGluZy9cbiAgICAvLyBodHRwczovL3d3dy5nb29nbGUuY29tL21hcHMvc2VhcmNoLz9hcGk9MSZxdWVyeT1jZW50dXJ5bGluaytmaWVsZFxuICAgIC8vIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9zZWFyY2gvP2FwaT0xJnF1ZXJ5PTQ3LjU5NTE1MTgsLTEyMi4zMzE2MzkzXG4gICAgZ21hcF9zZWFyY2g6IHtcbiAgICAgIG1hdGNoZXI6IC8obWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oXFwuW2Etel17Mn0pPylcXC8obWFwc1xcL3NlYXJjaFxcLykoLiopL2ksXG4gICAgICB0eXBlOiBcImlmcmFtZVwiLFxuICAgICAgdXJsOiBmdW5jdGlvbihyZXopIHtcbiAgICAgICAgcmV0dXJuIFwiLy9tYXBzLmdvb2dsZS5cIiArIHJlelsyXSArIFwiL21hcHM/cT1cIiArIHJlels1XS5yZXBsYWNlKFwicXVlcnk9XCIsIFwicT1cIikucmVwbGFjZShcImFwaT0xXCIsIFwiXCIpICsgXCImb3V0cHV0PWVtYmVkXCI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICQoZG9jdW1lbnQpLm9uKFwib2JqZWN0TmVlZHNUeXBlLmZiXCIsIGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBpdGVtKSB7XG4gICAgdmFyIHVybCA9IGl0ZW0uc3JjIHx8IFwiXCIsXG4gICAgICB0eXBlID0gZmFsc2UsXG4gICAgICBtZWRpYSxcbiAgICAgIHRodW1iLFxuICAgICAgcmV6LFxuICAgICAgcGFyYW1zLFxuICAgICAgdXJsUGFyYW1zLFxuICAgICAgcGFyYW1PYmosXG4gICAgICBwcm92aWRlcjtcblxuICAgIG1lZGlhID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRzLCBpdGVtLm9wdHMubWVkaWEpO1xuXG4gICAgLy8gTG9vayBmb3IgYW55IG1hdGNoaW5nIG1lZGlhIHR5cGVcbiAgICAkLmVhY2gobWVkaWEsIGZ1bmN0aW9uKHByb3ZpZGVyTmFtZSwgcHJvdmlkZXJPcHRzKSB7XG4gICAgICByZXogPSB1cmwubWF0Y2gocHJvdmlkZXJPcHRzLm1hdGNoZXIpO1xuXG4gICAgICBpZiAoIXJleikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHR5cGUgPSBwcm92aWRlck9wdHMudHlwZTtcbiAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJOYW1lO1xuICAgICAgcGFyYW1PYmogPSB7fTtcblxuICAgICAgaWYgKHByb3ZpZGVyT3B0cy5wYXJhbVBsYWNlICYmIHJleltwcm92aWRlck9wdHMucGFyYW1QbGFjZV0pIHtcbiAgICAgICAgdXJsUGFyYW1zID0gcmV6W3Byb3ZpZGVyT3B0cy5wYXJhbVBsYWNlXTtcblxuICAgICAgICBpZiAodXJsUGFyYW1zWzBdID09IFwiP1wiKSB7XG4gICAgICAgICAgdXJsUGFyYW1zID0gdXJsUGFyYW1zLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcmFtcyA9IHVybFBhcmFtcy5zcGxpdChcIiZcIik7XG5cbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCB1cmxQYXJhbXMubGVuZ3RoOyArK20pIHtcbiAgICAgICAgICB2YXIgcCA9IHVybFBhcmFtc1ttXS5zcGxpdChcIj1cIiwgMik7XG5cbiAgICAgICAgICBpZiAocC5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgcGFyYW1PYmpbcFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocFsxXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcGFyYW1zID0gJC5leHRlbmQodHJ1ZSwge30sIHByb3ZpZGVyT3B0cy5wYXJhbXMsIGl0ZW0ub3B0c1twcm92aWRlck5hbWVdLCBwYXJhbU9iaik7XG5cbiAgICAgIHVybCA9XG4gICAgICAgICQudHlwZShwcm92aWRlck9wdHMudXJsKSA9PT0gXCJmdW5jdGlvblwiID8gcHJvdmlkZXJPcHRzLnVybC5jYWxsKHRoaXMsIHJleiwgcGFyYW1zLCBpdGVtKSA6IGZvcm1hdChwcm92aWRlck9wdHMudXJsLCByZXosIHBhcmFtcyk7XG5cbiAgICAgIHRodW1iID1cbiAgICAgICAgJC50eXBlKHByb3ZpZGVyT3B0cy50aHVtYikgPT09IFwiZnVuY3Rpb25cIiA/IHByb3ZpZGVyT3B0cy50aHVtYi5jYWxsKHRoaXMsIHJleiwgcGFyYW1zLCBpdGVtKSA6IGZvcm1hdChwcm92aWRlck9wdHMudGh1bWIsIHJleik7XG5cbiAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IFwieW91dHViZVwiKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8mdD0oKFxcZCspbSk/KFxcZCspcy8sIGZ1bmN0aW9uKG1hdGNoLCBwMSwgbSwgcykge1xuICAgICAgICAgIHJldHVybiBcIiZzdGFydD1cIiArICgobSA/IHBhcnNlSW50KG0sIDEwKSAqIDYwIDogMCkgKyBwYXJzZUludChzLCAxMCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXJOYW1lID09PSBcInZpbWVvXCIpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoXCImJTIzXCIsIFwiI1wiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgaXQgaXMgZm91bmQsIHRoZW4gY2hhbmdlIGNvbnRlbnQgdHlwZSBhbmQgdXBkYXRlIHRoZSB1cmxcblxuICAgIGlmICh0eXBlKSB7XG4gICAgICBpZiAoIWl0ZW0ub3B0cy50aHVtYiAmJiAhKGl0ZW0ub3B0cy4kdGh1bWIgJiYgaXRlbS5vcHRzLiR0aHVtYi5sZW5ndGgpKSB7XG4gICAgICAgIGl0ZW0ub3B0cy50aHVtYiA9IHRodW1iO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZSA9PT0gXCJpZnJhbWVcIikge1xuICAgICAgICBpdGVtLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCBpdGVtLm9wdHMsIHtcbiAgICAgICAgICBpZnJhbWU6IHtcbiAgICAgICAgICAgIHByZWxvYWQ6IGZhbHNlLFxuICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICBzY3JvbGxpbmc6IFwibm9cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICQuZXh0ZW5kKGl0ZW0sIHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgIG9yaWdTcmM6IGl0ZW0uc3JjLFxuICAgICAgICBjb250ZW50U291cmNlOiBwcm92aWRlcixcbiAgICAgICAgY29udGVudFR5cGU6IHR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VcIiA6IHByb3ZpZGVyID09IFwiZ21hcF9wbGFjZVwiIHx8IHByb3ZpZGVyID09IFwiZ21hcF9zZWFyY2hcIiA/IFwibWFwXCIgOiBcInZpZGVvXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodXJsKSB7XG4gICAgICBpdGVtLnR5cGUgPSBpdGVtLm9wdHMuZGVmYXVsdFR5cGU7XG4gICAgfVxuICB9KTtcbn0pKHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBHdWVzdHVyZXNcbi8vIEFkZHMgdG91Y2ggZ3Vlc3R1cmVzLCBoYW5kbGVzIGNsaWNrIGFuZCB0YXAgZXZlbnRzXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCAkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciByZXF1ZXN0QUZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgLy8gaWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBzZXRUaW1lb3V0XG4gICAgICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSkoKTtcblxuICB2YXIgY2FuY2VsQUZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICB3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICBmdW5jdGlvbihpZCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH1cbiAgICApO1xuICB9KSgpO1xuXG4gIHZhciBnZXRQb2ludGVyWFkgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgZSA9IGUub3JpZ2luYWxFdmVudCB8fCBlIHx8IHdpbmRvdy5lO1xuICAgIGUgPSBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA/IGUudG91Y2hlcyA6IGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBlLmNoYW5nZWRUb3VjaGVzIDogW2VdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIGUpIHtcbiAgICAgIGlmIChlW2tleV0ucGFnZVgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHg6IGVba2V5XS5wYWdlWCxcbiAgICAgICAgICB5OiBlW2tleV0ucGFnZVlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVba2V5XS5jbGllbnRYKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICB4OiBlW2tleV0uY2xpZW50WCxcbiAgICAgICAgICB5OiBlW2tleV0uY2xpZW50WVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBkaXN0YW5jZSA9IGZ1bmN0aW9uKHBvaW50MiwgcG9pbnQxLCB3aGF0KSB7XG4gICAgaWYgKCFwb2ludDEgfHwgIXBvaW50Mikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgaWYgKHdoYXQgPT09IFwieFwiKSB7XG4gICAgICByZXR1cm4gcG9pbnQyLnggLSBwb2ludDEueDtcbiAgICB9IGVsc2UgaWYgKHdoYXQgPT09IFwieVwiKSB7XG4gICAgICByZXR1cm4gcG9pbnQyLnkgLSBwb2ludDEueTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50Mi54IC0gcG9pbnQxLngsIDIpICsgTWF0aC5wb3cocG9pbnQyLnkgLSBwb2ludDEueSwgMikpO1xuICB9O1xuXG4gIHZhciBpc0NsaWNrYWJsZSA9IGZ1bmN0aW9uKCRlbCkge1xuICAgIGlmIChcbiAgICAgICRlbC5pcygnYSxhcmVhLGJ1dHRvbixbcm9sZT1cImJ1dHRvblwiXSxpbnB1dCxsYWJlbCxzZWxlY3Qsc3VtbWFyeSx0ZXh0YXJlYSx2aWRlbyxhdWRpbycpIHx8XG4gICAgICAkLmlzRnVuY3Rpb24oJGVsLmdldCgwKS5vbmNsaWNrKSB8fFxuICAgICAgJGVsLmRhdGEoXCJzZWxlY3RhYmxlXCIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYXR0cmlidXRlcyBsaWtlIGRhdGEtZmFuY3lib3gtbmV4dCBvciBkYXRhLWZhbmN5Ym94LWNsb3NlXG4gICAgZm9yICh2YXIgaSA9IDAsIGF0dHMgPSAkZWxbMF0uYXR0cmlidXRlcywgbiA9IGF0dHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBpZiAoYXR0c1tpXS5ub2RlTmFtZS5zdWJzdHIoMCwgMTQpID09PSBcImRhdGEtZmFuY3lib3gtXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBoYXNTY3JvbGxiYXJzID0gZnVuY3Rpb24oZWwpIHtcbiAgICB2YXIgb3ZlcmZsb3dZID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW1wib3ZlcmZsb3cteVwiXSxcbiAgICAgIG92ZXJmbG93WCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVtcIm92ZXJmbG93LXhcIl0sXG4gICAgICB2ZXJ0aWNhbCA9IChvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHwgb3ZlcmZsb3dZID09PSBcImF1dG9cIikgJiYgZWwuc2Nyb2xsSGVpZ2h0ID4gZWwuY2xpZW50SGVpZ2h0LFxuICAgICAgaG9yaXpvbnRhbCA9IChvdmVyZmxvd1ggPT09IFwic2Nyb2xsXCIgfHwgb3ZlcmZsb3dYID09PSBcImF1dG9cIikgJiYgZWwuc2Nyb2xsV2lkdGggPiBlbC5jbGllbnRXaWR0aDtcblxuICAgIHJldHVybiB2ZXJ0aWNhbCB8fCBob3Jpem9udGFsO1xuICB9O1xuXG4gIHZhciBpc1Njcm9sbGFibGUgPSBmdW5jdGlvbigkZWwpIHtcbiAgICB2YXIgcmV6ID0gZmFsc2U7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgcmV6ID0gaGFzU2Nyb2xsYmFycygkZWwuZ2V0KDApKTtcblxuICAgICAgaWYgKHJleikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgJGVsID0gJGVsLnBhcmVudCgpO1xuXG4gICAgICBpZiAoISRlbC5sZW5ndGggfHwgJGVsLmhhc0NsYXNzKFwiZmFuY3lib3gtc3RhZ2VcIikgfHwgJGVsLmlzKFwiYm9keVwiKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV6O1xuICB9O1xuXG4gIHZhciBHdWVzdHVyZXMgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuaW5zdGFuY2UgPSBpbnN0YW5jZTtcblxuICAgIHNlbGYuJGJnID0gaW5zdGFuY2UuJHJlZnMuYmc7XG4gICAgc2VsZi4kc3RhZ2UgPSBpbnN0YW5jZS4kcmVmcy5zdGFnZTtcbiAgICBzZWxmLiRjb250YWluZXIgPSBpbnN0YW5jZS4kcmVmcy5jb250YWluZXI7XG5cbiAgICBzZWxmLmRlc3Ryb3koKTtcblxuICAgIHNlbGYuJGNvbnRhaW5lci5vbihcInRvdWNoc3RhcnQuZmIudG91Y2ggbW91c2Vkb3duLmZiLnRvdWNoXCIsICQucHJveHkoc2VsZiwgXCJvbnRvdWNoc3RhcnRcIikpO1xuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGNvbnRhaW5lci5vZmYoXCIuZmIudG91Y2hcIik7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgJHRhcmdldCA9ICQoZS50YXJnZXQpLFxuICAgICAgaW5zdGFuY2UgPSBzZWxmLmluc3RhbmNlLFxuICAgICAgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQsXG4gICAgICAkY29udGVudCA9IGN1cnJlbnQuJGNvbnRlbnQsXG4gICAgICBpc1RvdWNoRGV2aWNlID0gZS50eXBlID09IFwidG91Y2hzdGFydFwiO1xuXG4gICAgLy8gRG8gbm90IHJlc3BvbmQgdG8gYm90aCAodG91Y2ggYW5kIG1vdXNlKSBldmVudHNcbiAgICBpZiAoaXNUb3VjaERldmljZSkge1xuICAgICAgc2VsZi4kY29udGFpbmVyLm9mZihcIm1vdXNlZG93bi5mYi50b3VjaFwiKTtcbiAgICB9XG5cbiAgICAvLyBJZ25vcmUgcmlnaHQgY2xpY2tcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5idXR0b24gPT0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSB0YXBpbmcgb24gbGlua3MsIGJ1dHRvbnMsIGlucHV0IGVsZW1lbnRzXG4gICAgaWYgKCEkdGFyZ2V0Lmxlbmd0aCB8fCBpc0NsaWNrYWJsZSgkdGFyZ2V0KSB8fCBpc0NsaWNrYWJsZSgkdGFyZ2V0LnBhcmVudCgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSBjbGlja3Mgb24gdGhlIHNjcm9sbGJhclxuICAgIGlmICghJHRhcmdldC5pcyhcImltZ1wiKSAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WCA+ICR0YXJnZXRbMF0uY2xpZW50V2lkdGggKyAkdGFyZ2V0Lm9mZnNldCgpLmxlZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZ25vcmUgY2xpY2tzIHdoaWxlIHpvb21pbmcgb3IgY2xvc2luZ1xuICAgIGlmICghY3VycmVudCB8fCBpbnN0YW5jZS5pc0FuaW1hdGluZyB8fCBpbnN0YW5jZS5pc0Nsb3NpbmcpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLnJlYWxQb2ludHMgPSBzZWxmLnN0YXJ0UG9pbnRzID0gZ2V0UG9pbnRlclhZKGUpO1xuXG4gICAgaWYgKCFzZWxmLnN0YXJ0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBzZWxmLnN0YXJ0RXZlbnQgPSBlO1xuXG4gICAgc2VsZi5jYW5UYXAgPSB0cnVlO1xuICAgIHNlbGYuJHRhcmdldCA9ICR0YXJnZXQ7XG4gICAgc2VsZi4kY29udGVudCA9ICRjb250ZW50O1xuICAgIHNlbGYub3B0cyA9IGN1cnJlbnQub3B0cy50b3VjaDtcblxuICAgIHNlbGYuaXNQYW5uaW5nID0gZmFsc2U7XG4gICAgc2VsZi5pc1N3aXBpbmcgPSBmYWxzZTtcbiAgICBzZWxmLmlzWm9vbWluZyA9IGZhbHNlO1xuICAgIHNlbGYuaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuICAgIHNlbGYuc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgc2VsZi5kaXN0YW5jZVggPSBzZWxmLmRpc3RhbmNlWSA9IHNlbGYuZGlzdGFuY2UgPSAwO1xuXG4gICAgc2VsZi5jYW52YXNXaWR0aCA9IE1hdGgucm91bmQoY3VycmVudC4kc2xpZGVbMF0uY2xpZW50V2lkdGgpO1xuICAgIHNlbGYuY2FudmFzSGVpZ2h0ID0gTWF0aC5yb3VuZChjdXJyZW50LiRzbGlkZVswXS5jbGllbnRIZWlnaHQpO1xuXG4gICAgc2VsZi5jb250ZW50TGFzdFBvcyA9IG51bGw7XG4gICAgc2VsZi5jb250ZW50U3RhcnRQb3MgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzZWxmLiRjb250ZW50KSB8fCB7dG9wOiAwLCBsZWZ0OiAwfTtcbiAgICBzZWxmLnNsaWRlclN0YXJ0UG9zID0gc2VsZi5zbGlkZXJMYXN0UG9zIHx8ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGN1cnJlbnQuJHNsaWRlKTtcblxuICAgIC8vIFNpbmNlIHBvc2l0aW9uIHdpbGwgYmUgYWJzb2x1dGUsIGJ1dCB3ZSBuZWVkIHRvIG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHN0YWdlXG4gICAgc2VsZi5zdGFnZVBvcyA9ICQuZmFuY3lib3guZ2V0VHJhbnNsYXRlKGluc3RhbmNlLiRyZWZzLnN0YWdlKTtcblxuICAgIHNlbGYuc2xpZGVyU3RhcnRQb3MudG9wIC09IHNlbGYuc3RhZ2VQb3MudG9wO1xuICAgIHNlbGYuc2xpZGVyU3RhcnRQb3MubGVmdCAtPSBzZWxmLnN0YWdlUG9zLmxlZnQ7XG5cbiAgICBzZWxmLmNvbnRlbnRTdGFydFBvcy50b3AgLT0gc2VsZi5zdGFnZVBvcy50b3A7XG4gICAgc2VsZi5jb250ZW50U3RhcnRQb3MubGVmdCAtPSBzZWxmLnN0YWdlUG9zLmxlZnQ7XG5cbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9mZihcIi5mYi50b3VjaFwiKVxuICAgICAgLm9uKGlzVG91Y2hEZXZpY2UgPyBcInRvdWNoZW5kLmZiLnRvdWNoIHRvdWNoY2FuY2VsLmZiLnRvdWNoXCIgOiBcIm1vdXNldXAuZmIudG91Y2ggbW91c2VsZWF2ZS5mYi50b3VjaFwiLCAkLnByb3h5KHNlbGYsIFwib250b3VjaGVuZFwiKSlcbiAgICAgIC5vbihpc1RvdWNoRGV2aWNlID8gXCJ0b3VjaG1vdmUuZmIudG91Y2hcIiA6IFwibW91c2Vtb3ZlLmZiLnRvdWNoXCIsICQucHJveHkoc2VsZiwgXCJvbnRvdWNobW92ZVwiKSk7XG5cbiAgICBpZiAoJC5mYW5jeWJveC5pc01vYmlsZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzZWxmLm9uc2Nyb2xsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoIShzZWxmLm9wdHMgfHwgaW5zdGFuY2UuY2FuUGFuKCkpIHx8ICEoJHRhcmdldC5pcyhzZWxmLiRzdGFnZSkgfHwgc2VsZi4kc3RhZ2UuZmluZCgkdGFyZ2V0KS5sZW5ndGgpKSB7XG4gICAgICBpZiAoJHRhcmdldC5pcyhcIi5mYW5jeWJveC1pbWFnZVwiKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoISgkLmZhbmN5Ym94LmlzTW9iaWxlICYmIChpc1Njcm9sbGFibGUoJHRhcmdldCkgfHwgaXNTY3JvbGxhYmxlKCR0YXJnZXQucGFyZW50KCkpKSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5zdGFydFBvaW50cy5sZW5ndGggPT09IDEgfHwgY3VycmVudC5oYXNFcnJvcikge1xuICAgICAgaWYgKHNlbGYuaW5zdGFuY2UuY2FuUGFuKCkpIHtcbiAgICAgICAgJC5mYW5jeWJveC5zdG9wKHNlbGYuJGNvbnRlbnQpO1xuXG4gICAgICAgIHNlbGYuJGNvbnRlbnQuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcIlwiKTtcblxuICAgICAgICBzZWxmLmlzUGFubmluZyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmlzU3dpcGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWNvbnRyb2xzLS1pc0dyYWJiaW5nXCIpO1xuICAgIH1cblxuICAgIGlmIChzZWxmLnN0YXJ0UG9pbnRzLmxlbmd0aCA9PT0gMiAmJiBjdXJyZW50LnR5cGUgPT09IFwiaW1hZ2VcIiAmJiAoY3VycmVudC5pc0xvYWRlZCB8fCBjdXJyZW50LiRnaG9zdCkpIHtcbiAgICAgIHNlbGYuY2FuVGFwID0gZmFsc2U7XG4gICAgICBzZWxmLmlzU3dpcGluZyA9IGZhbHNlO1xuICAgICAgc2VsZi5pc1Bhbm5pbmcgPSBmYWxzZTtcblxuICAgICAgc2VsZi5pc1pvb21pbmcgPSB0cnVlO1xuXG4gICAgICAkLmZhbmN5Ym94LnN0b3Aoc2VsZi4kY29udGVudCk7XG5cbiAgICAgIHNlbGYuJGNvbnRlbnQuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBcIlwiKTtcblxuICAgICAgc2VsZi5jZW50ZXJQb2ludFN0YXJ0WCA9IChzZWxmLnN0YXJ0UG9pbnRzWzBdLnggKyBzZWxmLnN0YXJ0UG9pbnRzWzFdLngpICogMC41IC0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKTtcbiAgICAgIHNlbGYuY2VudGVyUG9pbnRTdGFydFkgPSAoc2VsZi5zdGFydFBvaW50c1swXS55ICsgc2VsZi5zdGFydFBvaW50c1sxXS55KSAqIDAuNSAtICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgICAgc2VsZi5wZXJjZW50YWdlT2ZJbWFnZUF0UGluY2hQb2ludFggPSAoc2VsZi5jZW50ZXJQb2ludFN0YXJ0WCAtIHNlbGYuY29udGVudFN0YXJ0UG9zLmxlZnQpIC8gc2VsZi5jb250ZW50U3RhcnRQb3Mud2lkdGg7XG4gICAgICBzZWxmLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WSA9IChzZWxmLmNlbnRlclBvaW50U3RhcnRZIC0gc2VsZi5jb250ZW50U3RhcnRQb3MudG9wKSAvIHNlbGYuY29udGVudFN0YXJ0UG9zLmhlaWdodDtcblxuICAgICAgc2VsZi5zdGFydERpc3RhbmNlQmV0d2VlbkZpbmdlcnMgPSBkaXN0YW5jZShzZWxmLnN0YXJ0UG9pbnRzWzBdLCBzZWxmLnN0YXJ0UG9pbnRzWzFdKTtcbiAgICB9XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vbnNjcm9sbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmlzU2Nyb2xsaW5nID0gdHJ1ZTtcblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2VsZi5vbnNjcm9sbCwgdHJ1ZSk7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdXNlciBoYXMgbm90IHJlbGVhc2VkIG92ZXIgaWZyYW1lIG9yIGRpc2FibGVkIGVsZW1lbnRcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50LmJ1dHRvbnMgIT09IHVuZGVmaW5lZCAmJiBlLm9yaWdpbmFsRXZlbnQuYnV0dG9ucyA9PT0gMCkge1xuICAgICAgc2VsZi5vbnRvdWNoZW5kKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWxmLmlzU2Nyb2xsaW5nIHx8ICEoJHRhcmdldC5pcyhzZWxmLiRzdGFnZSkgfHwgc2VsZi4kc3RhZ2UuZmluZCgkdGFyZ2V0KS5sZW5ndGgpKSB7XG4gICAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5uZXdQb2ludHMgPSBnZXRQb2ludGVyWFkoZSk7XG5cbiAgICBpZiAoIShzZWxmLm9wdHMgfHwgc2VsZi5pbnN0YW5jZS5jYW5QYW4oKSkgfHwgIXNlbGYubmV3UG9pbnRzLmxlbmd0aCB8fCAhc2VsZi5uZXdQb2ludHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEoc2VsZi5pc1N3aXBpbmcgJiYgc2VsZi5pc1N3aXBpbmcgPT09IHRydWUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgc2VsZi5kaXN0YW5jZVggPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSwgXCJ4XCIpO1xuICAgIHNlbGYuZGlzdGFuY2VZID0gZGlzdGFuY2Uoc2VsZi5uZXdQb2ludHNbMF0sIHNlbGYuc3RhcnRQb2ludHNbMF0sIFwieVwiKTtcblxuICAgIHNlbGYuZGlzdGFuY2UgPSBkaXN0YW5jZShzZWxmLm5ld1BvaW50c1swXSwgc2VsZi5zdGFydFBvaW50c1swXSk7XG5cbiAgICAvLyBTa2lwIGZhbHNlIG9udG91Y2htb3ZlIGV2ZW50cyAoQ2hyb21lKVxuICAgIGlmIChzZWxmLmRpc3RhbmNlID4gMCkge1xuICAgICAgaWYgKHNlbGYuaXNTd2lwaW5nKSB7XG4gICAgICAgIHNlbGYub25Td2lwZShlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc1Bhbm5pbmcpIHtcbiAgICAgICAgc2VsZi5vblBhbigpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzWm9vbWluZykge1xuICAgICAgICBzZWxmLm9uWm9vbSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9uU3dpcGUgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgc3dpcGluZyA9IHNlbGYuaXNTd2lwaW5nLFxuICAgICAgbGVmdCA9IHNlbGYuc2xpZGVyU3RhcnRQb3MubGVmdCB8fCAwLFxuICAgICAgYW5nbGU7XG5cbiAgICAvLyBJZiBkaXJlY3Rpb24gaXMgbm90IHlldCBkZXRlcm1pbmVkXG4gICAgaWYgKHN3aXBpbmcgPT09IHRydWUpIHtcbiAgICAgIC8vIFdlIG5lZWQgYXQgbGVhc3QgMTBweCBkaXN0YW5jZSB0byBjb3JyZWN0bHkgY2FsY3VsYXRlIGFuIGFuZ2xlXG4gICAgICBpZiAoTWF0aC5hYnMoc2VsZi5kaXN0YW5jZSkgPiAxMCkge1xuICAgICAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aCA8IDIgJiYgc2VsZi5vcHRzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgc2VsZi5pc1N3aXBpbmcgPSBcInlcIjtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmluc3RhbmNlLmlzRHJhZ2dpbmcgfHwgc2VsZi5vcHRzLnZlcnRpY2FsID09PSBmYWxzZSB8fCAoc2VsZi5vcHRzLnZlcnRpY2FsID09PSBcImF1dG9cIiAmJiAkKHdpbmRvdykud2lkdGgoKSA+IDgwMCkpIHtcbiAgICAgICAgICBzZWxmLmlzU3dpcGluZyA9IFwieFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuZ2xlID0gTWF0aC5hYnMoTWF0aC5hdGFuMihzZWxmLmRpc3RhbmNlWSwgc2VsZi5kaXN0YW5jZVgpICogMTgwIC8gTWF0aC5QSSk7XG5cbiAgICAgICAgICBzZWxmLmlzU3dpcGluZyA9IGFuZ2xlID4gNDUgJiYgYW5nbGUgPCAxMzUgPyBcInlcIiA6IFwieFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5jYW5UYXAgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc2VsZi5pc1N3aXBpbmcgPT09IFwieVwiICYmICQuZmFuY3lib3guaXNNb2JpbGUgJiYgKGlzU2Nyb2xsYWJsZShzZWxmLiR0YXJnZXQpIHx8IGlzU2Nyb2xsYWJsZShzZWxmLiR0YXJnZXQucGFyZW50KCkpKSkge1xuICAgICAgICAgIHNlbGYuaXNTY3JvbGxpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5pbnN0YW5jZS5pc0RyYWdnaW5nID0gc2VsZi5pc1N3aXBpbmc7XG5cbiAgICAgICAgLy8gUmVzZXQgcG9pbnRzIHRvIGF2b2lkIGp1bXBpbmcsIGJlY2F1c2Ugd2UgZHJvcHBlZCBmaXJzdCBzd2lwZXMgdG8gY2FsY3VsYXRlIHRoZSBhbmdsZVxuICAgICAgICBzZWxmLnN0YXJ0UG9pbnRzID0gc2VsZi5uZXdQb2ludHM7XG5cbiAgICAgICAgJC5lYWNoKHNlbGYuaW5zdGFuY2Uuc2xpZGVzLCBmdW5jdGlvbihpbmRleCwgc2xpZGUpIHtcbiAgICAgICAgICAkLmZhbmN5Ym94LnN0b3Aoc2xpZGUuJHNsaWRlKTtcblxuICAgICAgICAgIHNsaWRlLiRzbGlkZS5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsIFwiXCIpO1xuXG4gICAgICAgICAgc2xpZGUuaW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoc2xpZGUucG9zID09PSBzZWxmLmluc3RhbmNlLmN1cnJlbnQucG9zKSB7XG4gICAgICAgICAgICBzZWxmLnNsaWRlclN0YXJ0UG9zLmxlZnQgPSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzbGlkZS4kc2xpZGUpLmxlZnQgLSAkLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzZWxmLmluc3RhbmNlLiRyZWZzLnN0YWdlKS5sZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RvcCBzbGlkZXNob3dcbiAgICAgICAgaWYgKHNlbGYuaW5zdGFuY2UuU2xpZGVTaG93ICYmIHNlbGYuaW5zdGFuY2UuU2xpZGVTaG93LmlzQWN0aXZlKSB7XG4gICAgICAgICAgc2VsZi5pbnN0YW5jZS5TbGlkZVNob3cuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdGlja3kgZWRnZXNcbiAgICBpZiAoc3dpcGluZyA9PSBcInhcIikge1xuICAgICAgaWYgKFxuICAgICAgICBzZWxmLmRpc3RhbmNlWCA+IDAgJiZcbiAgICAgICAgKHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fCAoc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4ID09PSAwICYmICFzZWxmLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wKSlcbiAgICAgICkge1xuICAgICAgICBsZWZ0ID0gbGVmdCArIE1hdGgucG93KHNlbGYuZGlzdGFuY2VYLCAwLjgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgc2VsZi5kaXN0YW5jZVggPCAwICYmXG4gICAgICAgIChzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aCA8IDIgfHxcbiAgICAgICAgICAoc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4ID09PSBzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aCAtIDEgJiYgIXNlbGYuaW5zdGFuY2UuY3VycmVudC5vcHRzLmxvb3ApKVxuICAgICAgKSB7XG4gICAgICAgIGxlZnQgPSBsZWZ0IC0gTWF0aC5wb3coLXNlbGYuZGlzdGFuY2VYLCAwLjgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVmdCA9IGxlZnQgKyBzZWxmLmRpc3RhbmNlWDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLnNsaWRlckxhc3RQb3MgPSB7XG4gICAgICB0b3A6IHN3aXBpbmcgPT0gXCJ4XCIgPyAwIDogc2VsZi5zbGlkZXJTdGFydFBvcy50b3AgKyBzZWxmLmRpc3RhbmNlWSxcbiAgICAgIGxlZnQ6IGxlZnRcbiAgICB9O1xuXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xuXG4gICAgICBzZWxmLnJlcXVlc3RJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2VsZi5yZXF1ZXN0SWQgPSByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuc2xpZGVyTGFzdFBvcykge1xuICAgICAgICAkLmVhY2goc2VsZi5pbnN0YW5jZS5zbGlkZXMsIGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xuICAgICAgICAgIHZhciBwb3MgPSBzbGlkZS5wb3MgLSBzZWxmLmluc3RhbmNlLmN1cnJQb3M7XG5cbiAgICAgICAgICAkLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShzbGlkZS4kc2xpZGUsIHtcbiAgICAgICAgICAgIHRvcDogc2VsZi5zbGlkZXJMYXN0UG9zLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHNlbGYuc2xpZGVyTGFzdFBvcy5sZWZ0ICsgcG9zICogc2VsZi5jYW52YXNXaWR0aCArIHBvcyAqIHNsaWRlLm9wdHMuZ3V0dGVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGYuJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLXNsaWRpbmdcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5vblBhbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFByZXZlbnQgYWNjaWRlbnRhbCBtb3ZlbWVudCAoc29tZXRpbWVzLCB3aGVuIHRhcHBpbmcgY2FzdWFsbHksIGZpbmdlciBjYW4gbW92ZSBhIGJpdClcbiAgICBpZiAoZGlzdGFuY2Uoc2VsZi5uZXdQb2ludHNbMF0sIHNlbGYucmVhbFBvaW50c1swXSkgPCAoJC5mYW5jeWJveC5pc01vYmlsZSA/IDEwIDogNSkpIHtcbiAgICAgIHNlbGYuc3RhcnRQb2ludHMgPSBzZWxmLm5ld1BvaW50cztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xuXG4gICAgc2VsZi5jb250ZW50TGFzdFBvcyA9IHNlbGYubGltaXRNb3ZlbWVudCgpO1xuXG4gICAgaWYgKHNlbGYucmVxdWVzdElkKSB7XG4gICAgICBjYW5jZWxBRnJhbWUoc2VsZi5yZXF1ZXN0SWQpO1xuXG4gICAgICBzZWxmLnJlcXVlc3RJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgc2VsZi5yZXF1ZXN0SWQgPSByZXF1ZXN0QUZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCwgc2VsZi5jb250ZW50TGFzdFBvcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gTWFrZSBwYW5uaW5nIHN0aWNreSB0byB0aGUgZWRnZXNcbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5saW1pdE1vdmVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIGNhbnZhc1dpZHRoID0gc2VsZi5jYW52YXNXaWR0aDtcbiAgICB2YXIgY2FudmFzSGVpZ2h0ID0gc2VsZi5jYW52YXNIZWlnaHQ7XG5cbiAgICB2YXIgZGlzdGFuY2VYID0gc2VsZi5kaXN0YW5jZVg7XG4gICAgdmFyIGRpc3RhbmNlWSA9IHNlbGYuZGlzdGFuY2VZO1xuXG4gICAgdmFyIGNvbnRlbnRTdGFydFBvcyA9IHNlbGYuY29udGVudFN0YXJ0UG9zO1xuXG4gICAgdmFyIGN1cnJlbnRPZmZzZXRYID0gY29udGVudFN0YXJ0UG9zLmxlZnQ7XG4gICAgdmFyIGN1cnJlbnRPZmZzZXRZID0gY29udGVudFN0YXJ0UG9zLnRvcDtcblxuICAgIHZhciBjdXJyZW50V2lkdGggPSBjb250ZW50U3RhcnRQb3Mud2lkdGg7XG4gICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBjb250ZW50U3RhcnRQb3MuaGVpZ2h0O1xuXG4gICAgdmFyIG1pblRyYW5zbGF0ZVgsIG1pblRyYW5zbGF0ZVksIG1heFRyYW5zbGF0ZVgsIG1heFRyYW5zbGF0ZVksIG5ld09mZnNldFgsIG5ld09mZnNldFk7XG5cbiAgICBpZiAoY3VycmVudFdpZHRoID4gY2FudmFzV2lkdGgpIHtcbiAgICAgIG5ld09mZnNldFggPSBjdXJyZW50T2Zmc2V0WCArIGRpc3RhbmNlWDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3T2Zmc2V0WCA9IGN1cnJlbnRPZmZzZXRYO1xuICAgIH1cblxuICAgIG5ld09mZnNldFkgPSBjdXJyZW50T2Zmc2V0WSArIGRpc3RhbmNlWTtcblxuICAgIC8vIFNsb3cgZG93biBwcm9wb3J0aW9uYWxseSB0byB0cmF2ZWxlZCBkaXN0YW5jZVxuICAgIG1pblRyYW5zbGF0ZVggPSBNYXRoLm1heCgwLCBjYW52YXNXaWR0aCAqIDAuNSAtIGN1cnJlbnRXaWR0aCAqIDAuNSk7XG4gICAgbWluVHJhbnNsYXRlWSA9IE1hdGgubWF4KDAsIGNhbnZhc0hlaWdodCAqIDAuNSAtIGN1cnJlbnRIZWlnaHQgKiAwLjUpO1xuXG4gICAgbWF4VHJhbnNsYXRlWCA9IE1hdGgubWluKGNhbnZhc1dpZHRoIC0gY3VycmVudFdpZHRoLCBjYW52YXNXaWR0aCAqIDAuNSAtIGN1cnJlbnRXaWR0aCAqIDAuNSk7XG4gICAgbWF4VHJhbnNsYXRlWSA9IE1hdGgubWluKGNhbnZhc0hlaWdodCAtIGN1cnJlbnRIZWlnaHQsIGNhbnZhc0hlaWdodCAqIDAuNSAtIGN1cnJlbnRIZWlnaHQgKiAwLjUpO1xuXG4gICAgLy8gICAtPlxuICAgIGlmIChkaXN0YW5jZVggPiAwICYmIG5ld09mZnNldFggPiBtaW5UcmFuc2xhdGVYKSB7XG4gICAgICBuZXdPZmZzZXRYID0gbWluVHJhbnNsYXRlWCAtIDEgKyBNYXRoLnBvdygtbWluVHJhbnNsYXRlWCArIGN1cnJlbnRPZmZzZXRYICsgZGlzdGFuY2VYLCAwLjgpIHx8IDA7XG4gICAgfVxuXG4gICAgLy8gICAgPC1cbiAgICBpZiAoZGlzdGFuY2VYIDwgMCAmJiBuZXdPZmZzZXRYIDwgbWF4VHJhbnNsYXRlWCkge1xuICAgICAgbmV3T2Zmc2V0WCA9IG1heFRyYW5zbGF0ZVggKyAxIC0gTWF0aC5wb3cobWF4VHJhbnNsYXRlWCAtIGN1cnJlbnRPZmZzZXRYIC0gZGlzdGFuY2VYLCAwLjgpIHx8IDA7XG4gICAgfVxuXG4gICAgLy8gICBcXC9cbiAgICBpZiAoZGlzdGFuY2VZID4gMCAmJiBuZXdPZmZzZXRZID4gbWluVHJhbnNsYXRlWSkge1xuICAgICAgbmV3T2Zmc2V0WSA9IG1pblRyYW5zbGF0ZVkgLSAxICsgTWF0aC5wb3coLW1pblRyYW5zbGF0ZVkgKyBjdXJyZW50T2Zmc2V0WSArIGRpc3RhbmNlWSwgMC44KSB8fCAwO1xuICAgIH1cblxuICAgIC8vICAgL1xcXG4gICAgaWYgKGRpc3RhbmNlWSA8IDAgJiYgbmV3T2Zmc2V0WSA8IG1heFRyYW5zbGF0ZVkpIHtcbiAgICAgIG5ld09mZnNldFkgPSBtYXhUcmFuc2xhdGVZICsgMSAtIE1hdGgucG93KG1heFRyYW5zbGF0ZVkgLSBjdXJyZW50T2Zmc2V0WSAtIGRpc3RhbmNlWSwgMC44KSB8fCAwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IG5ld09mZnNldFksXG4gICAgICBsZWZ0OiBuZXdPZmZzZXRYXG4gICAgfTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLmxpbWl0UG9zaXRpb24gPSBmdW5jdGlvbihuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIGNhbnZhc1dpZHRoID0gc2VsZi5jYW52YXNXaWR0aDtcbiAgICB2YXIgY2FudmFzSGVpZ2h0ID0gc2VsZi5jYW52YXNIZWlnaHQ7XG5cbiAgICBpZiAobmV3V2lkdGggPiBjYW52YXNXaWR0aCkge1xuICAgICAgbmV3T2Zmc2V0WCA9IG5ld09mZnNldFggPiAwID8gMCA6IG5ld09mZnNldFg7XG4gICAgICBuZXdPZmZzZXRYID0gbmV3T2Zmc2V0WCA8IGNhbnZhc1dpZHRoIC0gbmV3V2lkdGggPyBjYW52YXNXaWR0aCAtIG5ld1dpZHRoIDogbmV3T2Zmc2V0WDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2VudGVyIGhvcml6b250YWxseVxuICAgICAgbmV3T2Zmc2V0WCA9IE1hdGgubWF4KDAsIGNhbnZhc1dpZHRoIC8gMiAtIG5ld1dpZHRoIC8gMik7XG4gICAgfVxuXG4gICAgaWYgKG5ld0hlaWdodCA+IGNhbnZhc0hlaWdodCkge1xuICAgICAgbmV3T2Zmc2V0WSA9IG5ld09mZnNldFkgPiAwID8gMCA6IG5ld09mZnNldFk7XG4gICAgICBuZXdPZmZzZXRZID0gbmV3T2Zmc2V0WSA8IGNhbnZhc0hlaWdodCAtIG5ld0hlaWdodCA/IGNhbnZhc0hlaWdodCAtIG5ld0hlaWdodCA6IG5ld09mZnNldFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENlbnRlciB2ZXJ0aWNhbGx5XG4gICAgICBuZXdPZmZzZXRZID0gTWF0aC5tYXgoMCwgY2FudmFzSGVpZ2h0IC8gMiAtIG5ld0hlaWdodCAvIDIpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IG5ld09mZnNldFksXG4gICAgICBsZWZ0OiBuZXdPZmZzZXRYXG4gICAgfTtcbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9uWm9vbSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhbGN1bGF0ZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRvIGdldCBwaW5jaCByYXRpbyBhbmQgbmV3IHdpZHRoIGFuZCBoZWlnaHRcbiAgICB2YXIgY29udGVudFN0YXJ0UG9zID0gc2VsZi5jb250ZW50U3RhcnRQb3M7XG5cbiAgICB2YXIgY3VycmVudFdpZHRoID0gY29udGVudFN0YXJ0UG9zLndpZHRoO1xuICAgIHZhciBjdXJyZW50SGVpZ2h0ID0gY29udGVudFN0YXJ0UG9zLmhlaWdodDtcblxuICAgIHZhciBjdXJyZW50T2Zmc2V0WCA9IGNvbnRlbnRTdGFydFBvcy5sZWZ0O1xuICAgIHZhciBjdXJyZW50T2Zmc2V0WSA9IGNvbnRlbnRTdGFydFBvcy50b3A7XG5cbiAgICB2YXIgZW5kRGlzdGFuY2VCZXR3ZWVuRmluZ2VycyA9IGRpc3RhbmNlKHNlbGYubmV3UG9pbnRzWzBdLCBzZWxmLm5ld1BvaW50c1sxXSk7XG5cbiAgICB2YXIgcGluY2hSYXRpbyA9IGVuZERpc3RhbmNlQmV0d2VlbkZpbmdlcnMgLyBzZWxmLnN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycztcblxuICAgIHZhciBuZXdXaWR0aCA9IE1hdGguZmxvb3IoY3VycmVudFdpZHRoICogcGluY2hSYXRpbyk7XG4gICAgdmFyIG5ld0hlaWdodCA9IE1hdGguZmxvb3IoY3VycmVudEhlaWdodCAqIHBpbmNoUmF0aW8pO1xuXG4gICAgLy8gVGhpcyBpcyB0aGUgdHJhbnNsYXRpb24gZHVlIHRvIHBpbmNoLXpvb21pbmdcbiAgICB2YXIgdHJhbnNsYXRlRnJvbVpvb21pbmdYID0gKGN1cnJlbnRXaWR0aCAtIG5ld1dpZHRoKSAqIHNlbGYucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYO1xuICAgIHZhciB0cmFuc2xhdGVGcm9tWm9vbWluZ1kgPSAoY3VycmVudEhlaWdodCAtIG5ld0hlaWdodCkgKiBzZWxmLnBlcmNlbnRhZ2VPZkltYWdlQXRQaW5jaFBvaW50WTtcblxuICAgIC8vIFBvaW50IGJldHdlZW4gdGhlIHR3byB0b3VjaGVzXG4gICAgdmFyIGNlbnRlclBvaW50RW5kWCA9IChzZWxmLm5ld1BvaW50c1swXS54ICsgc2VsZi5uZXdQb2ludHNbMV0ueCkgLyAyIC0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKTtcbiAgICB2YXIgY2VudGVyUG9pbnRFbmRZID0gKHNlbGYubmV3UG9pbnRzWzBdLnkgKyBzZWxmLm5ld1BvaW50c1sxXS55KSAvIDIgLSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG5cbiAgICAvLyBBbmQgdGhpcyBpcyB0aGUgdHJhbnNsYXRpb24gZHVlIHRvIHRyYW5zbGF0aW9uIG9mIHRoZSBjZW50ZXJwb2ludFxuICAgIC8vIGJldHdlZW4gdGhlIHR3byBmaW5nZXJzXG4gICAgdmFyIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1ggPSBjZW50ZXJQb2ludEVuZFggLSBzZWxmLmNlbnRlclBvaW50U3RhcnRYO1xuICAgIHZhciB0cmFuc2xhdGVGcm9tVHJhbnNsYXRpbmdZID0gY2VudGVyUG9pbnRFbmRZIC0gc2VsZi5jZW50ZXJQb2ludFN0YXJ0WTtcblxuICAgIC8vIFRoZSBuZXcgb2Zmc2V0IGlzIHRoZSBvbGQvY3VycmVudCBvbmUgcGx1cyB0aGUgdG90YWwgdHJhbnNsYXRpb25cbiAgICB2YXIgbmV3T2Zmc2V0WCA9IGN1cnJlbnRPZmZzZXRYICsgKHRyYW5zbGF0ZUZyb21ab29taW5nWCArIHRyYW5zbGF0ZUZyb21UcmFuc2xhdGluZ1gpO1xuICAgIHZhciBuZXdPZmZzZXRZID0gY3VycmVudE9mZnNldFkgKyAodHJhbnNsYXRlRnJvbVpvb21pbmdZICsgdHJhbnNsYXRlRnJvbVRyYW5zbGF0aW5nWSk7XG5cbiAgICB2YXIgbmV3UG9zID0ge1xuICAgICAgdG9wOiBuZXdPZmZzZXRZLFxuICAgICAgbGVmdDogbmV3T2Zmc2V0WCxcbiAgICAgIHNjYWxlWDogcGluY2hSYXRpbyxcbiAgICAgIHNjYWxlWTogcGluY2hSYXRpb1xuICAgIH07XG5cbiAgICBzZWxmLmNhblRhcCA9IGZhbHNlO1xuXG4gICAgc2VsZi5uZXdXaWR0aCA9IG5ld1dpZHRoO1xuICAgIHNlbGYubmV3SGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXG4gICAgc2VsZi5jb250ZW50TGFzdFBvcyA9IG5ld1BvcztcblxuICAgIGlmIChzZWxmLnJlcXVlc3RJZCkge1xuICAgICAgY2FuY2VsQUZyYW1lKHNlbGYucmVxdWVzdElkKTtcblxuICAgICAgc2VsZi5yZXF1ZXN0SWQgPSBudWxsO1xuICAgIH1cblxuICAgIHNlbGYucmVxdWVzdElkID0gcmVxdWVzdEFGcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICQuZmFuY3lib3guc2V0VHJhbnNsYXRlKHNlbGYuJGNvbnRlbnQsIHNlbGYuY29udGVudExhc3RQb3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUub250b3VjaGVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRNcyA9IE1hdGgubWF4KG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc2VsZi5zdGFydFRpbWUsIDEpO1xuXG4gICAgdmFyIHN3aXBpbmcgPSBzZWxmLmlzU3dpcGluZztcbiAgICB2YXIgcGFubmluZyA9IHNlbGYuaXNQYW5uaW5nO1xuICAgIHZhciB6b29taW5nID0gc2VsZi5pc1pvb21pbmc7XG4gICAgdmFyIHNjcm9sbGluZyA9IHNlbGYuaXNTY3JvbGxpbmc7XG5cbiAgICBzZWxmLmVuZFBvaW50cyA9IGdldFBvaW50ZXJYWShlKTtcblxuICAgIHNlbGYuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWNvbnRyb2xzLS1pc0dyYWJiaW5nXCIpO1xuXG4gICAgJChkb2N1bWVudCkub2ZmKFwiLmZiLnRvdWNoXCIpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzZWxmLm9uc2Nyb2xsLCB0cnVlKTtcblxuICAgIGlmIChzZWxmLnJlcXVlc3RJZCkge1xuICAgICAgY2FuY2VsQUZyYW1lKHNlbGYucmVxdWVzdElkKTtcblxuICAgICAgc2VsZi5yZXF1ZXN0SWQgPSBudWxsO1xuICAgIH1cblxuICAgIHNlbGYuaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgc2VsZi5pc1Bhbm5pbmcgPSBmYWxzZTtcbiAgICBzZWxmLmlzWm9vbWluZyA9IGZhbHNlO1xuICAgIHNlbGYuaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuICAgIHNlbGYuaW5zdGFuY2UuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKHNlbGYuY2FuVGFwKSB7XG4gICAgICByZXR1cm4gc2VsZi5vblRhcChlKTtcbiAgICB9XG5cbiAgICBzZWxmLnNwZWVkID0gMzY2O1xuXG4gICAgLy8gU3BlZWQgaW4gcHgvbXNcbiAgICBzZWxmLnZlbG9jaXR5WCA9IHNlbGYuZGlzdGFuY2VYIC8gZE1zICogMC41O1xuICAgIHNlbGYudmVsb2NpdHlZID0gc2VsZi5kaXN0YW5jZVkgLyBkTXMgKiAwLjU7XG5cbiAgICBzZWxmLnNwZWVkWCA9IE1hdGgubWF4KHNlbGYuc3BlZWQgKiAwLjUsIE1hdGgubWluKHNlbGYuc3BlZWQgKiAxLjUsIDEgLyBNYXRoLmFicyhzZWxmLnZlbG9jaXR5WCkgKiBzZWxmLnNwZWVkKSk7XG5cbiAgICBpZiAocGFubmluZykge1xuICAgICAgc2VsZi5lbmRQYW5uaW5nKCk7XG4gICAgfSBlbHNlIGlmICh6b29taW5nKSB7XG4gICAgICBzZWxmLmVuZFpvb21pbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbmRTd2lwaW5nKHN3aXBpbmcsIHNjcm9sbGluZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIEd1ZXN0dXJlcy5wcm90b3R5cGUuZW5kU3dpcGluZyA9IGZ1bmN0aW9uKHN3aXBpbmcsIHNjcm9sbGluZykge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIHJldCA9IGZhbHNlLFxuICAgICAgbGVuID0gc2VsZi5pbnN0YW5jZS5ncm91cC5sZW5ndGg7XG5cbiAgICBzZWxmLnNsaWRlckxhc3RQb3MgPSBudWxsO1xuXG4gICAgLy8gQ2xvc2UgaWYgc3dpcGVkIHZlcnRpY2FsbHkgLyBuYXZpZ2F0ZSBpZiBob3Jpem9udGFsbHlcbiAgICBpZiAoc3dpcGluZyA9PSBcInlcIiAmJiAhc2Nyb2xsaW5nICYmIE1hdGguYWJzKHNlbGYuZGlzdGFuY2VZKSA+IDUwKSB7XG4gICAgICAvLyBDb250aW51ZSB2ZXJ0aWNhbCBtb3ZlbWVudFxuICAgICAgJC5mYW5jeWJveC5hbmltYXRlKFxuICAgICAgICBzZWxmLmluc3RhbmNlLmN1cnJlbnQuJHNsaWRlLFxuICAgICAgICB7XG4gICAgICAgICAgdG9wOiBzZWxmLnNsaWRlclN0YXJ0UG9zLnRvcCArIHNlbGYuZGlzdGFuY2VZICsgc2VsZi52ZWxvY2l0eVkgKiAxNTAsXG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9LFxuICAgICAgICAyMDBcbiAgICAgICk7XG5cbiAgICAgIHJldCA9IHNlbGYuaW5zdGFuY2UuY2xvc2UodHJ1ZSwgMjAwKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBpbmcgPT0gXCJ4XCIgJiYgc2VsZi5kaXN0YW5jZVggPiA1MCAmJiBsZW4gPiAxKSB7XG4gICAgICByZXQgPSBzZWxmLmluc3RhbmNlLnByZXZpb3VzKHNlbGYuc3BlZWRYKTtcbiAgICB9IGVsc2UgaWYgKHN3aXBpbmcgPT0gXCJ4XCIgJiYgc2VsZi5kaXN0YW5jZVggPCAtNTAgJiYgbGVuID4gMSkge1xuICAgICAgcmV0ID0gc2VsZi5pbnN0YW5jZS5uZXh0KHNlbGYuc3BlZWRYKTtcbiAgICB9XG5cbiAgICBpZiAocmV0ID09PSBmYWxzZSAmJiAoc3dpcGluZyA9PSBcInhcIiB8fCBzd2lwaW5nID09IFwieVwiKSkge1xuICAgICAgaWYgKHNjcm9sbGluZyB8fCBsZW4gPCAyKSB7XG4gICAgICAgIHNlbGYuaW5zdGFuY2UuY2VudGVyU2xpZGUoc2VsZi5pbnN0YW5jZS5jdXJyZW50LCAxNTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5qdW1wVG8oc2VsZi5pbnN0YW5jZS5jdXJyZW50LmluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1zbGlkaW5nXCIpO1xuICB9O1xuXG4gIC8vIExpbWl0IHBhbm5pbmcgZnJvbSBlZGdlc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5lbmRQYW5uaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBuZXdPZmZzZXRYLCBuZXdPZmZzZXRZLCBuZXdQb3M7XG5cbiAgICBpZiAoIXNlbGYuY29udGVudExhc3RQb3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5vcHRzLm1vbWVudHVtID09PSBmYWxzZSkge1xuICAgICAgbmV3T2Zmc2V0WCA9IHNlbGYuY29udGVudExhc3RQb3MubGVmdDtcbiAgICAgIG5ld09mZnNldFkgPSBzZWxmLmNvbnRlbnRMYXN0UG9zLnRvcDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udGludWUgbW92ZW1lbnRcbiAgICAgIG5ld09mZnNldFggPSBzZWxmLmNvbnRlbnRMYXN0UG9zLmxlZnQgKyBzZWxmLnZlbG9jaXR5WCAqIHNlbGYuc3BlZWQ7XG4gICAgICBuZXdPZmZzZXRZID0gc2VsZi5jb250ZW50TGFzdFBvcy50b3AgKyBzZWxmLnZlbG9jaXR5WSAqIHNlbGYuc3BlZWQ7XG4gICAgfVxuXG4gICAgbmV3UG9zID0gc2VsZi5saW1pdFBvc2l0aW9uKG5ld09mZnNldFgsIG5ld09mZnNldFksIHNlbGYuY29udGVudFN0YXJ0UG9zLndpZHRoLCBzZWxmLmNvbnRlbnRTdGFydFBvcy5oZWlnaHQpO1xuXG4gICAgbmV3UG9zLndpZHRoID0gc2VsZi5jb250ZW50U3RhcnRQb3Mud2lkdGg7XG4gICAgbmV3UG9zLmhlaWdodCA9IHNlbGYuY29udGVudFN0YXJ0UG9zLmhlaWdodDtcblxuICAgICQuZmFuY3lib3guYW5pbWF0ZShzZWxmLiRjb250ZW50LCBuZXdQb3MsIDMzMCk7XG4gIH07XG5cbiAgR3Vlc3R1cmVzLnByb3RvdHlwZS5lbmRab29taW5nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIGN1cnJlbnQgPSBzZWxmLmluc3RhbmNlLmN1cnJlbnQ7XG5cbiAgICB2YXIgbmV3T2Zmc2V0WCwgbmV3T2Zmc2V0WSwgbmV3UG9zLCByZXNldDtcblxuICAgIHZhciBuZXdXaWR0aCA9IHNlbGYubmV3V2lkdGg7XG4gICAgdmFyIG5ld0hlaWdodCA9IHNlbGYubmV3SGVpZ2h0O1xuXG4gICAgaWYgKCFzZWxmLmNvbnRlbnRMYXN0UG9zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmV3T2Zmc2V0WCA9IHNlbGYuY29udGVudExhc3RQb3MubGVmdDtcbiAgICBuZXdPZmZzZXRZID0gc2VsZi5jb250ZW50TGFzdFBvcy50b3A7XG5cbiAgICByZXNldCA9IHtcbiAgICAgIHRvcDogbmV3T2Zmc2V0WSxcbiAgICAgIGxlZnQ6IG5ld09mZnNldFgsXG4gICAgICB3aWR0aDogbmV3V2lkdGgsXG4gICAgICBoZWlnaHQ6IG5ld0hlaWdodCxcbiAgICAgIHNjYWxlWDogMSxcbiAgICAgIHNjYWxlWTogMVxuICAgIH07XG5cbiAgICAvLyBSZXNldCBzY2FsZXgvc2NhbGVZIHZhbHVlczsgdGhpcyBoZWxwcyBmb3IgcGVyZm9tYW5jZSBhbmQgZG9lcyBub3QgYnJlYWsgYW5pbWF0aW9uXG4gICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCwgcmVzZXQpO1xuXG4gICAgaWYgKG5ld1dpZHRoIDwgc2VsZi5jYW52YXNXaWR0aCAmJiBuZXdIZWlnaHQgPCBzZWxmLmNhbnZhc0hlaWdodCkge1xuICAgICAgc2VsZi5pbnN0YW5jZS5zY2FsZVRvRml0KDE1MCk7XG4gICAgfSBlbHNlIGlmIChuZXdXaWR0aCA+IGN1cnJlbnQud2lkdGggfHwgbmV3SGVpZ2h0ID4gY3VycmVudC5oZWlnaHQpIHtcbiAgICAgIHNlbGYuaW5zdGFuY2Uuc2NhbGVUb0FjdHVhbChzZWxmLmNlbnRlclBvaW50U3RhcnRYLCBzZWxmLmNlbnRlclBvaW50U3RhcnRZLCAxNTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQb3MgPSBzZWxmLmxpbWl0UG9zaXRpb24obmV3T2Zmc2V0WCwgbmV3T2Zmc2V0WSwgbmV3V2lkdGgsIG5ld0hlaWdodCk7XG5cbiAgICAgIC8vIFN3aXRjaCBmcm9tIHNjYWxlKCkgdG8gd2lkdGgvaGVpZ2h0IG9yIGFuaW1hdGlvbiB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseVxuICAgICAgJC5mYW5jeWJveC5zZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCwgJC5mYW5jeWJveC5nZXRUcmFuc2xhdGUoc2VsZi4kY29udGVudCkpO1xuXG4gICAgICAkLmZhbmN5Ym94LmFuaW1hdGUoc2VsZi4kY29udGVudCwgbmV3UG9zLCAxNTApO1xuICAgIH1cbiAgfTtcblxuICBHdWVzdHVyZXMucHJvdG90eXBlLm9uVGFwID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuXG4gICAgdmFyIGluc3RhbmNlID0gc2VsZi5pbnN0YW5jZTtcbiAgICB2YXIgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQ7XG5cbiAgICB2YXIgZW5kUG9pbnRzID0gKGUgJiYgZ2V0UG9pbnRlclhZKGUpKSB8fCBzZWxmLnN0YXJ0UG9pbnRzO1xuXG4gICAgdmFyIHRhcFggPSBlbmRQb2ludHNbMF0gPyBlbmRQb2ludHNbMF0ueCAtICQod2luZG93KS5zY3JvbGxMZWZ0KCkgLSBzZWxmLnN0YWdlUG9zLmxlZnQgOiAwO1xuICAgIHZhciB0YXBZID0gZW5kUG9pbnRzWzBdID8gZW5kUG9pbnRzWzBdLnkgLSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSBzZWxmLnN0YWdlUG9zLnRvcCA6IDA7XG5cbiAgICB2YXIgd2hlcmU7XG5cbiAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgdmFyIGFjdGlvbiA9IGN1cnJlbnQub3B0c1twcmVmaXhdO1xuXG4gICAgICBpZiAoJC5pc0Z1bmN0aW9uKGFjdGlvbikpIHtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uLmFwcGx5KGluc3RhbmNlLCBbY3VycmVudCwgZV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJjbG9zZVwiOlxuICAgICAgICAgIGluc3RhbmNlLmNsb3NlKHNlbGYuc3RhcnRFdmVudCk7XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwidG9nZ2xlQ29udHJvbHNcIjpcbiAgICAgICAgICBpbnN0YW5jZS50b2dnbGVDb250cm9scyh0cnVlKTtcblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJuZXh0XCI6XG4gICAgICAgICAgaW5zdGFuY2UubmV4dCgpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIm5leHRPckNsb3NlXCI6XG4gICAgICAgICAgaWYgKGluc3RhbmNlLmdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLm5leHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2UuY2xvc2Uoc2VsZi5zdGFydEV2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiem9vbVwiOlxuICAgICAgICAgIGlmIChjdXJyZW50LnR5cGUgPT0gXCJpbWFnZVwiICYmIChjdXJyZW50LmlzTG9hZGVkIHx8IGN1cnJlbnQuJGdob3N0KSkge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmNhblBhbigpKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLnNjYWxlVG9GaXQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuaXNTY2FsZWREb3duKCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc2NhbGVUb0FjdHVhbCh0YXBYLCB0YXBZKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICBpbnN0YW5jZS5jbG9zZShzZWxmLnN0YXJ0RXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBJZ25vcmUgcmlnaHQgY2xpY2tcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50ICYmIGUub3JpZ2luYWxFdmVudC5idXR0b24gPT0gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNraXAgaWYgY2xpY2tlZCBvbiB0aGUgc2Nyb2xsYmFyXG4gICAgaWYgKCEkdGFyZ2V0LmlzKFwiaW1nXCIpICYmIHRhcFggPiAkdGFyZ2V0WzBdLmNsaWVudFdpZHRoICsgJHRhcmdldC5vZmZzZXQoKS5sZWZ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2hlcmUgaXMgY2xpY2tlZFxuICAgIGlmICgkdGFyZ2V0LmlzKFwiLmZhbmN5Ym94LWJnLC5mYW5jeWJveC1pbm5lciwuZmFuY3lib3gtb3V0ZXIsLmZhbmN5Ym94LWNvbnRhaW5lclwiKSkge1xuICAgICAgd2hlcmUgPSBcIk91dHNpZGVcIjtcbiAgICB9IGVsc2UgaWYgKCR0YXJnZXQuaXMoXCIuZmFuY3lib3gtc2xpZGVcIikpIHtcbiAgICAgIHdoZXJlID0gXCJTbGlkZVwiO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBpbnN0YW5jZS5jdXJyZW50LiRjb250ZW50ICYmXG4gICAgICBpbnN0YW5jZS5jdXJyZW50LiRjb250ZW50XG4gICAgICAgIC5maW5kKCR0YXJnZXQpXG4gICAgICAgIC5hZGRCYWNrKClcbiAgICAgICAgLmZpbHRlcigkdGFyZ2V0KS5sZW5ndGhcbiAgICApIHtcbiAgICAgIHdoZXJlID0gXCJDb250ZW50XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZG91YmxlIHRhcFxuICAgIGlmIChzZWxmLnRhcHBlZCkge1xuICAgICAgLy8gU3RvcCBwcmV2aW91c2x5IGNyZWF0ZWQgc2luZ2xlIHRhcFxuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYudGFwcGVkKTtcbiAgICAgIHNlbGYudGFwcGVkID0gbnVsbDtcblxuICAgICAgLy8gU2tpcCBpZiBkaXN0YW5jZSBiZXR3ZWVuIHRhcHMgaXMgdG9vIGJpZ1xuICAgICAgaWYgKE1hdGguYWJzKHRhcFggLSBzZWxmLnRhcFgpID4gNTAgfHwgTWF0aC5hYnModGFwWSAtIHNlbGYudGFwWSkgPiA1MCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gT0ssIG5vdyB3ZSBhc3N1bWUgdGhhdCB0aGlzIGlzIGEgZG91YmxlLXRhcFxuICAgICAgcHJvY2VzcyhcImRibGNsaWNrXCIgKyB3aGVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNpbmdsZSB0YXAgd2lsbCBiZSBwcm9jZXNzZWQgaWYgdXNlciBoYXMgbm90IGNsaWNrZWQgc2Vjb25kIHRpbWUgd2l0aGluIDMwMG1zXG4gICAgICAvLyBvciB0aGVyZSBpcyBubyBuZWVkIHRvIHdhaXQgZm9yIGRvdWJsZS10YXBcbiAgICAgIHNlbGYudGFwWCA9IHRhcFg7XG4gICAgICBzZWxmLnRhcFkgPSB0YXBZO1xuXG4gICAgICBpZiAoY3VycmVudC5vcHRzW1wiZGJsY2xpY2tcIiArIHdoZXJlXSAmJiBjdXJyZW50Lm9wdHNbXCJkYmxjbGlja1wiICsgd2hlcmVdICE9PSBjdXJyZW50Lm9wdHNbXCJjbGlja1wiICsgd2hlcmVdKSB7XG4gICAgICAgIHNlbGYudGFwcGVkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnRhcHBlZCA9IG51bGw7XG5cbiAgICAgICAgICBwcm9jZXNzKFwiY2xpY2tcIiArIHdoZXJlKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MoXCJjbGlja1wiICsgd2hlcmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gICQoZG9jdW1lbnQpLm9uKFwib25BY3RpdmF0ZS5mYlwiLCBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgIGlmIChpbnN0YW5jZSAmJiAhaW5zdGFuY2UuR3Vlc3R1cmVzKSB7XG4gICAgICBpbnN0YW5jZS5HdWVzdHVyZXMgPSBuZXcgR3Vlc3R1cmVzKGluc3RhbmNlKTtcbiAgICB9XG4gIH0pO1xufSkod2luZG93LCBkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy9cbi8vIFNsaWRlU2hvd1xuLy8gRW5hYmxlcyBzbGlkZXNob3cgZnVuY3Rpb25hbGl0eVxuLy9cbi8vIEV4YW1wbGUgb2YgdXNhZ2U6XG4vLyAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCkuU2xpZGVTaG93LnN0YXJ0KClcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKGRvY3VtZW50LCAkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICQuZXh0ZW5kKHRydWUsICQuZmFuY3lib3guZGVmYXVsdHMsIHtcbiAgICBidG5UcGw6IHtcbiAgICAgIHNsaWRlU2hvdzpcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1wbGF5IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiIHRpdGxlPVwie3tQTEFZX1NUQVJUfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA0MCA0MFwiPicgK1xuICAgICAgICAnPHBhdGggZD1cIk0xMywxMiBMMjcsMjAgTDEzLDI3IFpcIiAvPicgK1xuICAgICAgICAnPHBhdGggZD1cIk0xNSwxMCB2MTkgTTIzLDEwIHYxOVwiIC8+JyArXG4gICAgICAgIFwiPC9zdmc+XCIgK1xuICAgICAgICBcIjwvYnV0dG9uPlwiXG4gICAgfSxcbiAgICBzbGlkZVNob3c6IHtcbiAgICAgIGF1dG9TdGFydDogZmFsc2UsXG4gICAgICBzcGVlZDogMzAwMFxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIFNsaWRlU2hvdyA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuXG4gICQuZXh0ZW5kKFNsaWRlU2hvdy5wcm90b3R5cGUsIHtcbiAgICB0aW1lcjogbnVsbCxcbiAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgJGJ1dHRvbjogbnVsbCxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLiRidXR0b24gPSBzZWxmLmluc3RhbmNlLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LXBsYXldXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYudG9nZ2xlKCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fCAhc2VsZi5pbnN0YW5jZS5ncm91cFtzZWxmLmluc3RhbmNlLmN1cnJJbmRleF0ub3B0cy5zbGlkZVNob3cpIHtcbiAgICAgICAgc2VsZi4kYnV0dG9uLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBDaGVjayBpZiByZWFjaGVkIGxhc3QgZWxlbWVudFxuICAgICAgaWYgKFxuICAgICAgICBzZWxmLmluc3RhbmNlICYmXG4gICAgICAgIHNlbGYuaW5zdGFuY2UuY3VycmVudCAmJlxuICAgICAgICAoZm9yY2UgPT09IHRydWUgfHwgc2VsZi5pbnN0YW5jZS5jdXJyZW50Lm9wdHMubG9vcCB8fCBzZWxmLmluc3RhbmNlLmN1cnJJbmRleCA8IHNlbGYuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIC0gMSlcbiAgICAgICkge1xuICAgICAgICBzZWxmLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoc2VsZi5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgc2VsZi5pbnN0YW5jZS5qdW1wVG8oKHNlbGYuaW5zdGFuY2UuY3VyckluZGV4ICsgMSkgJSBzZWxmLmluc3RhbmNlLmdyb3VwLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBzZWxmLmluc3RhbmNlLmN1cnJlbnQub3B0cy5zbGlkZVNob3cuc3BlZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zdG9wKCk7XG4gICAgICAgIHNlbGYuaW5zdGFuY2UuaWRsZVNlY29uZHNDb3VudGVyID0gMDtcbiAgICAgICAgc2VsZi5pbnN0YW5jZS5zaG93Q29udHJvbHMoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lcik7XG5cbiAgICAgIHNlbGYudGltZXIgPSBudWxsO1xuICAgIH0sXG5cbiAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgY3VycmVudCA9IHNlbGYuaW5zdGFuY2UuY3VycmVudDtcblxuICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgc2VsZi5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgc2VsZi4kYnV0dG9uXG4gICAgICAgICAgLmF0dHIoXCJ0aXRsZVwiLCBjdXJyZW50Lm9wdHMuaTE4bltjdXJyZW50Lm9wdHMubGFuZ10uUExBWV9TVE9QKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiKVxuICAgICAgICAgIC5hZGRDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGF1c2VcIik7XG5cbiAgICAgICAgc2VsZi5zZXQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGN1cnJlbnQgPSBzZWxmLmluc3RhbmNlLmN1cnJlbnQ7XG5cbiAgICAgIHNlbGYuY2xlYXIoKTtcblxuICAgICAgc2VsZi4kYnV0dG9uXG4gICAgICAgIC5hdHRyKFwidGl0bGVcIiwgY3VycmVudC5vcHRzLmkxOG5bY3VycmVudC5vcHRzLmxhbmddLlBMQVlfU1RBUlQpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWJ1dHRvbi0tcGF1c2VcIilcbiAgICAgICAgLmFkZENsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIpO1xuXG4gICAgICBzZWxmLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLmlzQWN0aXZlKSB7XG4gICAgICAgIHNlbGYuc3RvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zdGFydCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oe1xuICAgIFwib25Jbml0LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgIWluc3RhbmNlLlNsaWRlU2hvdykge1xuICAgICAgICBpbnN0YW5jZS5TbGlkZVNob3cgPSBuZXcgU2xpZGVTaG93KGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBmaXJzdFJ1bikge1xuICAgICAgdmFyIFNsaWRlU2hvdyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlNsaWRlU2hvdztcblxuICAgICAgaWYgKGZpcnN0UnVuKSB7XG4gICAgICAgIGlmIChTbGlkZVNob3cgJiYgY3VycmVudC5vcHRzLnNsaWRlU2hvdy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICBTbGlkZVNob3cuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChTbGlkZVNob3cgJiYgU2xpZGVTaG93LmlzQWN0aXZlKSB7XG4gICAgICAgIFNsaWRlU2hvdy5jbGVhcigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImFmdGVyU2hvdy5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xuICAgICAgdmFyIFNsaWRlU2hvdyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlNsaWRlU2hvdztcblxuICAgICAgaWYgKFNsaWRlU2hvdyAmJiBTbGlkZVNob3cuaXNBY3RpdmUpIHtcbiAgICAgICAgU2xpZGVTaG93LnNldCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImFmdGVyS2V5ZG93bi5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCwga2V5cHJlc3MsIGtleWNvZGUpIHtcbiAgICAgIHZhciBTbGlkZVNob3cgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5TbGlkZVNob3c7XG5cbiAgICAgIC8vIFwiUFwiIG9yIFNwYWNlYmFyXG4gICAgICBpZiAoU2xpZGVTaG93ICYmIGN1cnJlbnQub3B0cy5zbGlkZVNob3cgJiYgKGtleWNvZGUgPT09IDgwIHx8IGtleWNvZGUgPT09IDMyKSAmJiAhJChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhcImJ1dHRvbixhLGlucHV0XCIpKSB7XG4gICAgICAgIGtleXByZXNzLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgU2xpZGVTaG93LnRvZ2dsZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImJlZm9yZUNsb3NlLmZiIG9uRGVhY3RpdmF0ZS5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgdmFyIFNsaWRlU2hvdyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlNsaWRlU2hvdztcblxuICAgICAgaWYgKFNsaWRlU2hvdykge1xuICAgICAgICBTbGlkZVNob3cuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gUGFnZSBWaXNpYmlsaXR5IEFQSSB0byBwYXVzZSBzbGlkZXNob3cgd2hlbiB3aW5kb3cgaXMgbm90IGFjdGl2ZVxuICAkKGRvY3VtZW50KS5vbihcInZpc2liaWxpdHljaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpO1xuICAgIHZhciBTbGlkZVNob3cgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5TbGlkZVNob3c7XG5cbiAgICBpZiAoU2xpZGVTaG93ICYmIFNsaWRlU2hvdy5pc0FjdGl2ZSkge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBTbGlkZVNob3cuY2xlYXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNsaWRlU2hvdy5zZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoZG9jdW1lbnQsIHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBGdWxsU2NyZWVuXG4vLyBBZGRzIGZ1bGxzY3JlZW4gZnVuY3Rpb25hbGl0eVxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gQ29sbGVjdGlvbiBvZiBtZXRob2RzIHN1cHBvcnRlZCBieSB1c2VyIGJyb3dzZXJcbiAgdmFyIGZuID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbk1hcCA9IFtcbiAgICAgIFtcInJlcXVlc3RGdWxsc2NyZWVuXCIsIFwiZXhpdEZ1bGxzY3JlZW5cIiwgXCJmdWxsc2NyZWVuRWxlbWVudFwiLCBcImZ1bGxzY3JlZW5FbmFibGVkXCIsIFwiZnVsbHNjcmVlbmNoYW5nZVwiLCBcImZ1bGxzY3JlZW5lcnJvclwiXSxcbiAgICAgIC8vIG5ldyBXZWJLaXRcbiAgICAgIFtcbiAgICAgICAgXCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiLFxuICAgICAgICBcIndlYmtpdEV4aXRGdWxsc2NyZWVuXCIsXG4gICAgICAgIFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcbiAgICAgICAgXCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFwiLFxuICAgICAgICBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIlxuICAgICAgXSxcbiAgICAgIC8vIG9sZCBXZWJLaXQgKFNhZmFyaSA1LjEpXG4gICAgICBbXG4gICAgICAgIFwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcbiAgICAgICAgXCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCIsXG4gICAgICAgIFwid2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50XCIsXG4gICAgICAgIFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFxuICAgICAgICBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixcbiAgICAgICAgXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIlxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLFxuICAgICAgICBcIm1vekNhbmNlbEZ1bGxTY3JlZW5cIixcbiAgICAgICAgXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiLFxuICAgICAgICBcIm1vekZ1bGxTY3JlZW5FbmFibGVkXCIsXG4gICAgICAgIFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICAgICAgICBcIm1vemZ1bGxzY3JlZW5lcnJvclwiXG4gICAgICBdLFxuICAgICAgW1wibXNSZXF1ZXN0RnVsbHNjcmVlblwiLCBcIm1zRXhpdEZ1bGxzY3JlZW5cIiwgXCJtc0Z1bGxzY3JlZW5FbGVtZW50XCIsIFwibXNGdWxsc2NyZWVuRW5hYmxlZFwiLCBcIk1TRnVsbHNjcmVlbkNoYW5nZVwiLCBcIk1TRnVsbHNjcmVlbkVycm9yXCJdXG4gICAgXTtcblxuICAgIHZhciByZXQgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5NYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWwgPSBmbk1hcFtpXTtcblxuICAgICAgaWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWwubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICByZXRbZm5NYXBbMF1bal1dID0gdmFsW2pdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pKCk7XG5cbiAgLy8gSWYgYnJvd3NlciBkb2VzIG5vdCBoYXZlIEZ1bGwgU2NyZWVuIEFQSSwgdGhlbiBzaW1wbHkgdW5zZXQgZGVmYXVsdCBidXR0b24gdGVtcGxhdGUgYW5kIHN0b3BcbiAgaWYgKCFmbikge1xuICAgIGlmICgkICYmICQuZmFuY3lib3gpIHtcbiAgICAgICQuZmFuY3lib3guZGVmYXVsdHMuYnRuVHBsLmZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgRnVsbFNjcmVlbiA9IHtcbiAgICByZXF1ZXN0OiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICBlbGVtID0gZWxlbSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICAgIGVsZW1bZm4ucmVxdWVzdEZ1bGxzY3JlZW5dKGVsZW0uQUxMT1dfS0VZQk9BUkRfSU5QVVQpO1xuICAgIH0sXG4gICAgZXhpdDogZnVuY3Rpb24oKSB7XG4gICAgICBkb2N1bWVudFtmbi5leGl0RnVsbHNjcmVlbl0oKTtcbiAgICB9LFxuICAgIHRvZ2dsZTogZnVuY3Rpb24oZWxlbSkge1xuICAgICAgZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVxdWVzdChlbGVtKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzRnVsbHNjcmVlbjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF0pO1xuICAgIH0sXG4gICAgZW5hYmxlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRW5hYmxlZF0pO1xuICAgIH1cbiAgfTtcblxuICAkLmV4dGVuZCh0cnVlLCAkLmZhbmN5Ym94LmRlZmF1bHRzLCB7XG4gICAgYnRuVHBsOiB7XG4gICAgICBmdWxsU2NyZWVuOlxuICAgICAgICAnPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW4gY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1mdWxsc2NyZWVuXCIgdGl0bGU9XCJ7e0ZVTExfU0NSRUVOfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA0MCA0MFwiPicgK1xuICAgICAgICAnPHBhdGggZD1cIk05LDEyIHYxNiBoMjIgdi0xNiBoLTIyIHY4XCIgLz4nICtcbiAgICAgICAgXCI8L3N2Zz5cIiArXG4gICAgICAgIFwiPC9idXR0b24+XCJcbiAgICB9LFxuICAgIGZ1bGxTY3JlZW46IHtcbiAgICAgIGF1dG9TdGFydDogZmFsc2VcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKHtcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgdmFyICRjb250YWluZXI7XG5cbiAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5ncm91cFtpbnN0YW5jZS5jdXJySW5kZXhdLm9wdHMuZnVsbFNjcmVlbikge1xuICAgICAgICAkY29udGFpbmVyID0gaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyO1xuXG4gICAgICAgICRjb250YWluZXIub24oXCJjbGljay5mYi1mdWxsc2NyZWVuXCIsIFwiW2RhdGEtZmFuY3lib3gtZnVsbHNjcmVlbl1cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgRnVsbFNjcmVlbi50b2dnbGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluc3RhbmNlLm9wdHMuZnVsbFNjcmVlbiAmJiBpbnN0YW5jZS5vcHRzLmZ1bGxTY3JlZW4uYXV0b1N0YXJ0ID09PSB0cnVlKSB7XG4gICAgICAgICAgRnVsbFNjcmVlbi5yZXF1ZXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeHBvc2UgQVBJXG4gICAgICAgIGluc3RhbmNlLkZ1bGxTY3JlZW4gPSBGdWxsU2NyZWVuO1xuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBpbnN0YW5jZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXVwiKS5oaWRlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiYWZ0ZXJLZXlkb3duLmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBjdXJyZW50LCBrZXlwcmVzcywga2V5Y29kZSkge1xuICAgICAgLy8gXCJGXCJcbiAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5GdWxsU2NyZWVuICYmIGtleWNvZGUgPT09IDcwKSB7XG4gICAgICAgIGtleXByZXNzLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaW5zdGFuY2UuRnVsbFNjcmVlbi50b2dnbGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJiZWZvcmVDbG9zZS5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLkZ1bGxTY3JlZW4gJiYgaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyLmhhc0NsYXNzKFwiZmFuY3lib3gtaXMtZnVsbHNjcmVlblwiKSkge1xuICAgICAgICBGdWxsU2NyZWVuLmV4aXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKGZuLmZ1bGxzY3JlZW5jaGFuZ2UsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpc0Z1bGxzY3JlZW4gPSBGdWxsU2NyZWVuLmlzRnVsbHNjcmVlbigpLFxuICAgICAgaW5zdGFuY2UgPSAkLmZhbmN5Ym94LmdldEluc3RhbmNlKCk7XG5cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIC8vIElmIGltYWdlIGlzIHpvb21pbmcsIHRoZW4gZm9yY2UgdG8gc3RvcCBhbmQgcmVwb3NpdGlvbiBwcm9wZXJseVxuICAgICAgaWYgKGluc3RhbmNlLmN1cnJlbnQgJiYgaW5zdGFuY2UuY3VycmVudC50eXBlID09PSBcImltYWdlXCIgJiYgaW5zdGFuY2UuaXNBbmltYXRpbmcpIHtcbiAgICAgICAgaW5zdGFuY2UuY3VycmVudC4kY29udGVudC5jc3MoXCJ0cmFuc2l0aW9uXCIsIFwibm9uZVwiKTtcblxuICAgICAgICBpbnN0YW5jZS5pc0FuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSh0cnVlLCB0cnVlLCAwKTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UudHJpZ2dlcihcIm9uRnVsbHNjcmVlbkNoYW5nZVwiLCBpc0Z1bGxzY3JlZW4pO1xuXG4gICAgICBpbnN0YW5jZS4kcmVmcy5jb250YWluZXIudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1pcy1mdWxsc2NyZWVuXCIsIGlzRnVsbHNjcmVlbik7XG4gICAgfVxuICB9KTtcbn0pKGRvY3VtZW50LCB3aW5kb3cualF1ZXJ5IHx8IGpRdWVyeSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gVGh1bWJzXG4vLyBEaXNwbGF5cyB0aHVtYm5haWxzIGluIGEgZ3JpZFxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24oZG9jdW1lbnQsICQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIENMQVNTID0gXCJmYW5jeWJveC10aHVtYnNcIixcbiAgICBDTEFTU19BQ1RJVkUgPSBDTEFTUyArIFwiLWFjdGl2ZVwiLFxuICAgIENMQVNTX0xPQUQgPSBDTEFTUyArIFwiLWxvYWRpbmdcIjtcblxuICAvLyBNYWtlIHN1cmUgdGhlcmUgYXJlIGRlZmF1bHQgdmFsdWVzXG4gICQuZmFuY3lib3guZGVmYXVsdHMgPSAkLmV4dGVuZChcbiAgICB0cnVlLFxuICAgIHtcbiAgICAgIGJ0blRwbDoge1xuICAgICAgICB0aHVtYnM6XG4gICAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC10aHVtYnMgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS10aHVtYnNcIiB0aXRsZT1cInt7VEhVTUJTfX1cIj4nICtcbiAgICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDEyMCAxMjBcIj4nICtcbiAgICAgICAgICAnPHBhdGggZD1cIk0zMCwzMCBoMTQgdjE0IGgtMTQgWiBNNTAsMzAgaDE0IHYxNCBoLTE0IFogTTcwLDMwIGgxNCB2MTQgaC0xNCBaIE0zMCw1MCBoMTQgdjE0IGgtMTQgWiBNNTAsNTAgaDE0IHYxNCBoLTE0IFogTTcwLDUwIGgxNCB2MTQgaC0xNCBaIE0zMCw3MCBoMTQgdjE0IGgtMTQgWiBNNTAsNzAgaDE0IHYxNCBoLTE0IFogTTcwLDcwIGgxNCB2MTQgaC0xNCBaXCIgLz4nICtcbiAgICAgICAgICBcIjwvc3ZnPlwiICtcbiAgICAgICAgICBcIjwvYnV0dG9uPlwiXG4gICAgICB9LFxuICAgICAgdGh1bWJzOiB7XG4gICAgICAgIGF1dG9TdGFydDogZmFsc2UsIC8vIERpc3BsYXkgdGh1bWJuYWlscyBvbiBvcGVuaW5nXG4gICAgICAgIGhpZGVPbkNsb3NlOiB0cnVlLCAvLyBIaWRlIHRodW1ibmFpbCBncmlkIHdoZW4gY2xvc2luZyBhbmltYXRpb24gc3RhcnRzXG4gICAgICAgIHBhcmVudEVsOiBcIi5mYW5jeWJveC1jb250YWluZXJcIiwgLy8gQ29udGFpbmVyIGlzIGluamVjdGVkIGludG8gdGhpcyBlbGVtZW50XG4gICAgICAgIGF4aXM6IFwieVwiIC8vIFZlcnRpY2FsICh5KSBvciBob3Jpem9udGFsICh4KSBzY3JvbGxpbmdcbiAgICAgIH1cbiAgICB9LFxuICAgICQuZmFuY3lib3guZGVmYXVsdHNcbiAgKTtcblxuICB2YXIgRmFuY3lUaHVtYnMgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHRoaXMuaW5pdChpbnN0YW5jZSk7XG4gIH07XG5cbiAgJC5leHRlbmQoRmFuY3lUaHVtYnMucHJvdG90eXBlLCB7XG4gICAgJGJ1dHRvbjogbnVsbCxcbiAgICAkZ3JpZDogbnVsbCxcbiAgICAkbGlzdDogbnVsbCxcbiAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIGlzQWN0aXZlOiBmYWxzZSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGZpcnN0LFxuICAgICAgICBzZWNvbmQ7XG5cbiAgICAgIHNlbGYuaW5zdGFuY2UgPSBpbnN0YW5jZTtcblxuICAgICAgaW5zdGFuY2UuVGh1bWJzID0gc2VsZjtcblxuICAgICAgc2VsZi5vcHRzID0gaW5zdGFuY2UuZ3JvdXBbaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLnRodW1icztcblxuICAgICAgLy8gRW5hYmxlIHRodW1icyBpZiBhdCBsZWFzdCB0d28gZ3JvdXAgaXRlbXMgaGF2ZSB0aHVtYm5haWxzXG4gICAgICBmaXJzdCA9IGluc3RhbmNlLmdyb3VwWzBdO1xuICAgICAgZmlyc3QgPSBmaXJzdC5vcHRzLnRodW1iIHx8IChmaXJzdC5vcHRzLiR0aHVtYiAmJiBmaXJzdC5vcHRzLiR0aHVtYi5sZW5ndGggPyBmaXJzdC5vcHRzLiR0aHVtYi5hdHRyKFwic3JjXCIpIDogZmFsc2UpO1xuXG4gICAgICBpZiAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoID4gMSkge1xuICAgICAgICBzZWNvbmQgPSBpbnN0YW5jZS5ncm91cFsxXTtcbiAgICAgICAgc2Vjb25kID0gc2Vjb25kLm9wdHMudGh1bWIgfHwgKHNlY29uZC5vcHRzLiR0aHVtYiAmJiBzZWNvbmQub3B0cy4kdGh1bWIubGVuZ3RoID8gc2Vjb25kLm9wdHMuJHRodW1iLmF0dHIoXCJzcmNcIikgOiBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuJGJ1dHRvbiA9IGluc3RhbmNlLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LXRodW1ic11cIik7XG5cbiAgICAgIGlmIChzZWxmLm9wdHMgJiYgZmlyc3QgJiYgc2Vjb25kICYmIGZpcnN0ICYmIHNlY29uZCkge1xuICAgICAgICBzZWxmLiRidXR0b24uc2hvdygpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi50b2dnbGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLiRidXR0b24uaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBpbnN0YW5jZSA9IHNlbGYuaW5zdGFuY2UsXG4gICAgICAgIHBhcmVudEVsID0gc2VsZi5vcHRzLnBhcmVudEVsLFxuICAgICAgICBsaXN0ID0gW10sXG4gICAgICAgIHNyYztcblxuICAgICAgaWYgKCFzZWxmLiRncmlkKSB7XG4gICAgICAgIC8vIENyZWF0ZSBtYWluIGVsZW1lbnRcbiAgICAgICAgc2VsZi4kZ3JpZCA9ICQoJzxkaXYgY2xhc3M9XCInICsgQ0xBU1MgKyBcIiBcIiArIENMQVNTICsgXCItXCIgKyBzZWxmLm9wdHMuYXhpcyArICdcIj48L2Rpdj4nKS5hcHBlbmRUbyhcbiAgICAgICAgICBpbnN0YW5jZS4kcmVmcy5jb250YWluZXJcbiAgICAgICAgICAgIC5maW5kKHBhcmVudEVsKVxuICAgICAgICAgICAgLmFkZEJhY2soKVxuICAgICAgICAgICAgLmZpbHRlcihwYXJlbnRFbClcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBZGQgXCJjbGlja1wiIGV2ZW50IHRoYXQgcGVyZm9ybXMgZ2FsbGVyeSBuYXZpZ2F0aW9uXG4gICAgICAgIHNlbGYuJGdyaWQub24oXCJjbGlja1wiLCBcImxpXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGluc3RhbmNlLmp1bXBUbygkKHRoaXMpLmF0dHIoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEJ1aWxkIHRoZSBsaXN0XG4gICAgICBpZiAoIXNlbGYuJGxpc3QpIHtcbiAgICAgICAgc2VsZi4kbGlzdCA9ICQoXCI8dWw+XCIpLmFwcGVuZFRvKHNlbGYuJGdyaWQpO1xuICAgICAgfVxuXG4gICAgICAkLmVhY2goaW5zdGFuY2UuZ3JvdXAsIGZ1bmN0aW9uKGksIGl0ZW0pIHtcbiAgICAgICAgc3JjID0gaXRlbS5vcHRzLnRodW1iIHx8IChpdGVtLm9wdHMuJHRodW1iID8gaXRlbS5vcHRzLiR0aHVtYi5hdHRyKFwic3JjXCIpIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKCFzcmMgJiYgaXRlbS50eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBzcmMgPSBpdGVtLnNyYztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChcbiAgICAgICAgICAnPGxpIGRhdGEtaW5kZXg9XCInICtcbiAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgJ1wiIHRhYmluZGV4PVwiMFwiIGNsYXNzPVwiJyArXG4gICAgICAgICAgICBDTEFTU19MT0FEICtcbiAgICAgICAgICAgICdcIicgK1xuICAgICAgICAgICAgKHNyYyAmJiBzcmMubGVuZ3RoID8gJyBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBzcmMgKyAnKVwiIC8+JyA6IFwiXCIpICtcbiAgICAgICAgICAgIFwiPjwvbGk+XCJcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLiRsaXN0WzBdLmlubmVySFRNTCA9IGxpc3Quam9pbihcIlwiKTtcblxuICAgICAgaWYgKHNlbGYub3B0cy5heGlzID09PSBcInhcIikge1xuICAgICAgICAvLyBTZXQgZml4ZWQgd2lkdGggZm9yIGxpc3QgZWxlbWVudCB0byBlbmFibGUgaG9yaXpvbnRhbCBzY3JvbGxpbmdcbiAgICAgICAgc2VsZi4kbGlzdC53aWR0aChcbiAgICAgICAgICBwYXJzZUludChzZWxmLiRncmlkLmNzcyhcInBhZGRpbmctcmlnaHRcIiksIDEwKSArXG4gICAgICAgICAgICBpbnN0YW5jZS5ncm91cC5sZW5ndGggKlxuICAgICAgICAgICAgICBzZWxmLiRsaXN0XG4gICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICAuZXEoMClcbiAgICAgICAgICAgICAgICAub3V0ZXJXaWR0aCh0cnVlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmb2N1czogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgJGxpc3QgPSBzZWxmLiRsaXN0LFxuICAgICAgICAkZ3JpZCA9IHNlbGYuJGdyaWQsXG4gICAgICAgIHRodW1iLFxuICAgICAgICB0aHVtYlBvcztcblxuICAgICAgaWYgKCFzZWxmLmluc3RhbmNlLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aHVtYiA9ICRsaXN0XG4gICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgIC5yZW1vdmVDbGFzcyhDTEFTU19BQ1RJVkUpXG4gICAgICAgIC5maWx0ZXIoJ1tkYXRhLWluZGV4PVwiJyArIHNlbGYuaW5zdGFuY2UuY3VycmVudC5pbmRleCArICdcIl0nKVxuICAgICAgICAuYWRkQ2xhc3MoQ0xBU1NfQUNUSVZFKTtcblxuICAgICAgdGh1bWJQb3MgPSB0aHVtYi5wb3NpdGlvbigpO1xuXG4gICAgICAvLyBDaGVjayBpZiBuZWVkIHRvIHNjcm9sbCB0byBtYWtlIGN1cnJlbnQgdGh1bWIgdmlzaWJsZVxuICAgICAgaWYgKHNlbGYub3B0cy5heGlzID09PSBcInlcIiAmJiAodGh1bWJQb3MudG9wIDwgMCB8fCB0aHVtYlBvcy50b3AgPiAkbGlzdC5oZWlnaHQoKSAtIHRodW1iLm91dGVySGVpZ2h0KCkpKSB7XG4gICAgICAgICRsaXN0LnN0b3AoKS5hbmltYXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJGxpc3Quc2Nyb2xsVG9wKCkgKyB0aHVtYlBvcy50b3BcbiAgICAgICAgICB9LFxuICAgICAgICAgIGR1cmF0aW9uXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWxmLm9wdHMuYXhpcyA9PT0gXCJ4XCIgJiZcbiAgICAgICAgKHRodW1iUG9zLmxlZnQgPCAkZ3JpZC5zY3JvbGxMZWZ0KCkgfHwgdGh1bWJQb3MubGVmdCA+ICRncmlkLnNjcm9sbExlZnQoKSArICgkZ3JpZC53aWR0aCgpIC0gdGh1bWIub3V0ZXJXaWR0aCgpKSlcbiAgICAgICkge1xuICAgICAgICAkbGlzdFxuICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgIC5zdG9wKClcbiAgICAgICAgICAuYW5pbWF0ZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc2Nyb2xsTGVmdDogdGh1bWJQb3MubGVmdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHRoYXQuaW5zdGFuY2UuJHJlZnMuY29udGFpbmVyLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy10aHVtYnNcIiwgdGhpcy5pc1Zpc2libGUpO1xuXG4gICAgICBpZiAodGhhdC5pc1Zpc2libGUpIHtcbiAgICAgICAgaWYgKCF0aGF0LiRncmlkKSB7XG4gICAgICAgICAgdGhhdC5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoYXQuaW5zdGFuY2UudHJpZ2dlcihcIm9uVGh1bWJzU2hvd1wiKTtcblxuICAgICAgICB0aGF0LmZvY3VzKDApO1xuICAgICAgfSBlbHNlIGlmICh0aGF0LiRncmlkKSB7XG4gICAgICAgIHRoYXQuaW5zdGFuY2UudHJpZ2dlcihcIm9uVGh1bWJzSGlkZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGNvbnRlbnQgcG9zaXRpb25cbiAgICAgIHRoYXQuaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfSxcblxuICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNWaXNpYmxlID0gIXRoaXMuaXNWaXNpYmxlO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKHtcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgdmFyIFRodW1icztcblxuICAgICAgaWYgKGluc3RhbmNlICYmICFpbnN0YW5jZS5UaHVtYnMpIHtcbiAgICAgICAgVGh1bWJzID0gbmV3IEZhbmN5VGh1bWJzKGluc3RhbmNlKTtcblxuICAgICAgICBpZiAoVGh1bWJzLmlzQWN0aXZlICYmIFRodW1icy5vcHRzLmF1dG9TdGFydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIFRodW1icy5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJiZWZvcmVTaG93LmZiXCI6IGZ1bmN0aW9uKGUsIGluc3RhbmNlLCBpdGVtLCBmaXJzdFJ1bikge1xuICAgICAgdmFyIFRodW1icyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlRodW1icztcblxuICAgICAgaWYgKFRodW1icyAmJiBUaHVtYnMuaXNWaXNpYmxlKSB7XG4gICAgICAgIFRodW1icy5mb2N1cyhmaXJzdFJ1biA/IDAgOiAyNTApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImFmdGVyS2V5ZG93bi5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCwga2V5cHJlc3MsIGtleWNvZGUpIHtcbiAgICAgIHZhciBUaHVtYnMgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5UaHVtYnM7XG5cbiAgICAgIC8vIFwiR1wiXG4gICAgICBpZiAoVGh1bWJzICYmIFRodW1icy5pc0FjdGl2ZSAmJiBrZXljb2RlID09PSA3MSkge1xuICAgICAgICBrZXlwcmVzcy5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIFRodW1icy50b2dnbGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJiZWZvcmVDbG9zZS5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSkge1xuICAgICAgdmFyIFRodW1icyA9IGluc3RhbmNlICYmIGluc3RhbmNlLlRodW1icztcblxuICAgICAgaWYgKFRodW1icyAmJiBUaHVtYnMuaXNWaXNpYmxlICYmIFRodW1icy5vcHRzLmhpZGVPbkNsb3NlICE9PSBmYWxzZSkge1xuICAgICAgICBUaHVtYnMuJGdyaWQuaGlkZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KShkb2N1bWVudCwgd2luZG93LmpRdWVyeSB8fCBqUXVlcnkpO1xuXG4vLy8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gU2hhcmVcbi8vIERpc3BsYXlzIHNpbXBsZSBmb3JtIGZvciBzaGFyaW5nIGN1cnJlbnQgdXJsXG4vL1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbihkb2N1bWVudCwgJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAkLmV4dGVuZCh0cnVlLCAkLmZhbmN5Ym94LmRlZmF1bHRzLCB7XG4gICAgYnRuVHBsOiB7XG4gICAgICBzaGFyZTpcbiAgICAgICAgJzxidXR0b24gZGF0YS1mYW5jeWJveC1zaGFyZSBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXNoYXJlXCIgdGl0bGU9XCJ7e1NIQVJFfX1cIj4nICtcbiAgICAgICAgJzxzdmcgdmlld0JveD1cIjAgMCA0MCA0MFwiPicgK1xuICAgICAgICAnPHBhdGggZD1cIk02LDMwIEM4LDE4IDE5LDE2IDIzLDE2IEwyMywxNiBMMjMsMTAgTDMzLDIwIEwyMywyOSBMMjMsMjQgQzE5LDI0IDgsMjcgNiwzMCBaXCI+JyArXG4gICAgICAgIFwiPC9zdmc+XCIgK1xuICAgICAgICBcIjwvYnV0dG9uPlwiXG4gICAgfSxcbiAgICBzaGFyZToge1xuICAgICAgdXJsOiBmdW5jdGlvbihpbnN0YW5jZSwgaXRlbSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICghaW5zdGFuY2UuY3VycmVudEhhc2ggJiYgIShpdGVtLnR5cGUgPT09IFwiaW5saW5lXCIgfHwgaXRlbS50eXBlID09PSBcImh0bWxcIikgPyBpdGVtLm9yaWdTcmMgfHwgaXRlbS5zcmMgOiBmYWxzZSkgfHwgd2luZG93LmxvY2F0aW9uXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdHBsOlxuICAgICAgICAnPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNoYXJlXCI+JyArXG4gICAgICAgIFwiPGgxPnt7U0hBUkV9fTwvaDE+XCIgK1xuICAgICAgICBcIjxwPlwiICtcbiAgICAgICAgJzxhIGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS1mYlwiIGhyZWY9XCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT17e3VybH19XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTI4NyA0NTZ2LTI5OWMwLTIxIDYtMzUgMzUtMzVoMzh2LTYzYy03LTEtMjktMy01NS0zLTU0IDAtOTEgMzMtOTEgOTR2MzA2bTE0My0yNTRoLTIwNXY3MmgxOTZcIiAvPjwvc3ZnPicgK1xuICAgICAgICBcIjxzcGFuPkZhY2Vib29rPC9zcGFuPlwiICtcbiAgICAgICAgXCI8L2E+XCIgK1xuICAgICAgICAnPGEgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLXR3XCIgaHJlZj1cImh0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P3VybD17e3VybH19JnRleHQ9e3tkZXNjcn19XCI+JyArXG4gICAgICAgICc8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTQ1NiAxMzNjLTE0IDctMzEgMTEtNDcgMTMgMTctMTAgMzAtMjcgMzctNDYtMTUgMTAtMzQgMTYtNTIgMjAtNjEtNjItMTU3LTctMTQxIDc1LTY4LTMtMTI5LTM1LTE2OS04NS0yMiAzNy0xMSA4NiAyNiAxMDktMTMgMC0yNi00LTM3LTkgMCAzOSAyOCA3MiA2NSA4MC0xMiAzLTI1IDQtMzcgMiAxMCAzMyA0MSA1NyA3NyA1Ny00MiAzMC03NyAzOC0xMjIgMzQgMTcwIDExMSAzNzgtMzIgMzU5LTIwOCAxNi0xMSAzMC0yNSA0MS00MnpcIiAvPjwvc3ZnPicgK1xuICAgICAgICBcIjxzcGFuPlR3aXR0ZXI8L3NwYW4+XCIgK1xuICAgICAgICBcIjwvYT5cIiArXG4gICAgICAgICc8YSBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tcHRcIiBocmVmPVwiaHR0cHM6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPXt7dXJsfX0mZGVzY3JpcHRpb249e3tkZXNjcn19Jm1lZGlhPXt7bWVkaWF9fVwiPicgK1xuICAgICAgICAnPHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIm0yNjUgNTZjLTEwOSAwLTE2NCA3OC0xNjQgMTQ0IDAgMzkgMTUgNzQgNDcgODcgNSAyIDEwIDAgMTItNWw0LTE5YzItNiAxLTgtMy0xMy05LTExLTE1LTI1LTE1LTQ1IDAtNTggNDMtMTEwIDExMy0xMTAgNjIgMCA5NiAzOCA5NiA4OCAwIDY3LTMwIDEyMi03MyAxMjItMjQgMC00Mi0xOS0zNi00NCA2LTI5IDIwLTYwIDIwLTgxIDAtMTktMTAtMzUtMzEtMzUtMjUgMC00NCAyNi00NCA2MCAwIDIxIDcgMzYgNyAzNmwtMzAgMTI1Yy04IDM3LTEgODMgMCA4NyAwIDMgNCA0IDUgMiAyLTMgMzItMzkgNDItNzVsMTYtNjRjOCAxNiAzMSAyOSA1NiAyOSA3NCAwIDEyNC02NyAxMjQtMTU3IDAtNjktNTgtMTMyLTE0Ni0xMzJ6XCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+JyArXG4gICAgICAgIFwiPHNwYW4+UGludGVyZXN0PC9zcGFuPlwiICtcbiAgICAgICAgXCI8L2E+XCIgK1xuICAgICAgICBcIjwvcD5cIiArXG4gICAgICAgICc8cD48aW5wdXQgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9faW5wdXRcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwie3t1cmxfcmF3fX1cIiAvPjwvcD4nICtcbiAgICAgICAgXCI8L2Rpdj5cIlxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcbiAgICB2YXIgZW50aXR5TWFwID0ge1xuICAgICAgXCImXCI6IFwiJmFtcDtcIixcbiAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAgICdcIic6IFwiJnF1b3Q7XCIsXG4gICAgICBcIidcIjogXCImIzM5O1wiLFxuICAgICAgXCIvXCI6IFwiJiN4MkY7XCIsXG4gICAgICBcImBcIjogXCImI3g2MDtcIixcbiAgICAgIFwiPVwiOiBcIiYjeDNEO1wiXG4gICAgfTtcblxuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC9bJjw+XCInYD1cXC9dL2csIGZ1bmN0aW9uKHMpIHtcbiAgICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gICAgfSk7XG4gIH1cblxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiW2RhdGEtZmFuY3lib3gtc2hhcmVdXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0YW5jZSA9ICQuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSxcbiAgICAgIGN1cnJlbnQgPSBpbnN0YW5jZS5jdXJyZW50IHx8IG51bGwsXG4gICAgICB1cmwsXG4gICAgICB0cGw7XG5cbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoJC50eXBlKGN1cnJlbnQub3B0cy5zaGFyZS51cmwpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHVybCA9IGN1cnJlbnQub3B0cy5zaGFyZS51cmwuYXBwbHkoY3VycmVudCwgW2luc3RhbmNlLCBjdXJyZW50XSk7XG4gICAgfVxuXG4gICAgdHBsID0gY3VycmVudC5vcHRzLnNoYXJlLnRwbFxuICAgICAgLnJlcGxhY2UoL1xce1xce21lZGlhXFx9XFx9L2csIGN1cnJlbnQudHlwZSA9PT0gXCJpbWFnZVwiID8gZW5jb2RlVVJJQ29tcG9uZW50KGN1cnJlbnQuc3JjKSA6IFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFx7XFx7dXJsXFx9XFx9L2csIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpKVxuICAgICAgLnJlcGxhY2UoL1xce1xce3VybF9yYXdcXH1cXH0vZywgZXNjYXBlSHRtbCh1cmwpKVxuICAgICAgLnJlcGxhY2UoL1xce1xce2Rlc2NyXFx9XFx9L2csIGluc3RhbmNlLiRjYXB0aW9uID8gZW5jb2RlVVJJQ29tcG9uZW50KGluc3RhbmNlLiRjYXB0aW9uLnRleHQoKSkgOiBcIlwiKTtcblxuICAgICQuZmFuY3lib3gub3Blbih7XG4gICAgICBzcmM6IGluc3RhbmNlLnRyYW5zbGF0ZShpbnN0YW5jZSwgdHBsKSxcbiAgICAgIHR5cGU6IFwiaHRtbFwiLFxuICAgICAgb3B0czoge1xuICAgICAgICBhbmltYXRpb25FZmZlY3Q6IGZhbHNlLFxuICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKHNoYXJlSW5zdGFuY2UsIHNoYXJlQ3VycmVudCkge1xuICAgICAgICAgIC8vIENsb3NlIHNlbGYgaWYgcGFyZW50IGluc3RhbmNlIGlzIGNsb3NpbmdcbiAgICAgICAgICBpbnN0YW5jZS4kcmVmcy5jb250YWluZXIub25lKFwiYmVmb3JlQ2xvc2UuZmJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzaGFyZUluc3RhbmNlLmNsb3NlKG51bGwsIDApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gT3BlbmluZyBsaW5rcyBpbiBhIHBvcHVwIHdpbmRvd1xuICAgICAgICAgIHNoYXJlQ3VycmVudC4kY29udGVudC5maW5kKFwiLmZhbmN5Ym94LXNoYXJlX19saW5rcyBhXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93Lm9wZW4odGhpcy5ocmVmLCBcIlNoYXJlXCIsIFwid2lkdGg9NTUwLCBoZWlnaHQ9NDUwXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoZG9jdW1lbnQsIHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vXG4vLyBIYXNoXG4vLyBFbmFibGVzIGxpbmtpbmcgdG8gZWFjaCBtb2RhbFxuLy9cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4oZnVuY3Rpb24oZG9jdW1lbnQsIHdpbmRvdywgJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBTaW1wbGUgJC5lc2NhcGVTZWxlY3RvciBwb2x5ZmlsbCAoZm9yIGpRdWVyeSBwcmlvciB2MylcbiAgaWYgKCEkLmVzY2FwZVNlbGVjdG9yKSB7XG4gICAgJC5lc2NhcGVTZWxlY3RvciA9IGZ1bmN0aW9uKHNlbCkge1xuICAgICAgdmFyIHJjc3Nlc2NhcGUgPSAvKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXHg4MC1cXHVGRkZGXFx3LV0vZztcbiAgICAgIHZhciBmY3NzZXNjYXBlID0gZnVuY3Rpb24oY2gsIGFzQ29kZVBvaW50KSB7XG4gICAgICAgIGlmIChhc0NvZGVQb2ludCkge1xuICAgICAgICAgIC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuICAgICAgICAgIGlmIChjaCA9PT0gXCJcXDBcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXFx1RkZGRFwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG4gICAgICAgICAgcmV0dXJuIGNoLnNsaWNlKDAsIC0xKSArIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdChjaC5sZW5ndGggLSAxKS50b1N0cmluZygxNikgKyBcIiBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcbiAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgY2g7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UocmNzc2VzY2FwZSwgZmNzc2VzY2FwZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIEdldCBpbmZvIGFib3V0IGdhbGxlcnkgbmFtZSBhbmQgY3VycmVudCBpbmRleCBmcm9tIHVybFxuICBmdW5jdGlvbiBwYXJzZVVybCgpIHtcbiAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKSxcbiAgICAgIHJleiA9IGhhc2guc3BsaXQoXCItXCIpLFxuICAgICAgaW5kZXggPSByZXoubGVuZ3RoID4gMSAmJiAvXlxcKz9cXGQrJC8udGVzdChyZXpbcmV6Lmxlbmd0aCAtIDFdKSA/IHBhcnNlSW50KHJlei5wb3AoLTEpLCAxMCkgfHwgMSA6IDEsXG4gICAgICBnYWxsZXJ5ID0gcmV6LmpvaW4oXCItXCIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc2g6IGhhc2gsXG4gICAgICAvKiBJbmRleCBpcyBzdGFydGluZyBmcm9tIDEgKi9cbiAgICAgIGluZGV4OiBpbmRleCA8IDEgPyAxIDogaW5kZXgsXG4gICAgICBnYWxsZXJ5OiBnYWxsZXJ5XG4gICAgfTtcbiAgfVxuXG4gIC8vIFRyaWdnZXIgY2xpY2sgZXZudCBvbiBsaW5rcyB0byBvcGVuIG5ldyBmYW5jeUJveCBpbnN0YW5jZVxuICBmdW5jdGlvbiB0cmlnZ2VyRnJvbVVybCh1cmwpIHtcbiAgICB2YXIgJGVsO1xuXG4gICAgaWYgKHVybC5nYWxsZXJ5ICE9PSBcIlwiKSB7XG4gICAgICAvLyBJZiB3ZSBjYW4gZmluZCBlbGVtZW50IG1hdGNoaW5nICdkYXRhLWZhbmN5Ym94JyBhdHJpYnV0ZSwgdGhlbiB0cmlnZ2VyIGNsaWNrIGV2ZW50IGZvciB0aGF0LlxuICAgICAgLy8gSXQgc2hvdWxkIHN0YXJ0IGZhbmN5Qm94XG4gICAgICAkZWwgPSAkKFwiW2RhdGEtZmFuY3lib3g9J1wiICsgJC5lc2NhcGVTZWxlY3Rvcih1cmwuZ2FsbGVyeSkgKyBcIiddXCIpXG4gICAgICAgIC5lcSh1cmwuaW5kZXggLSAxKVxuICAgICAgICAudHJpZ2dlcihcImNsaWNrLmZiLXN0YXJ0XCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBnYWxsZXJ5IG5hbWUgZnJvbSBjdXJyZW50IGluc3RhbmNlXG4gIGZ1bmN0aW9uIGdldEdhbGxlcnlJRChpbnN0YW5jZSkge1xuICAgIHZhciBvcHRzLCByZXQ7XG5cbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgb3B0cyA9IGluc3RhbmNlLmN1cnJlbnQgPyBpbnN0YW5jZS5jdXJyZW50Lm9wdHMgOiBpbnN0YW5jZS5vcHRzO1xuICAgIHJldCA9IG9wdHMuaGFzaCB8fCAob3B0cy4kb3JpZyA/IG9wdHMuJG9yaWcuZGF0YShcImZhbmN5Ym94XCIpIDogXCJcIik7XG5cbiAgICByZXR1cm4gcmV0ID09PSBcIlwiID8gZmFsc2UgOiByZXQ7XG4gIH1cblxuICAvLyBTdGFydCB3aGVuIERPTSBiZWNvbWVzIHJlYWR5XG4gICQoZnVuY3Rpb24oKSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgZGlzYWJsZWQgdGhpcyBtb2R1bGVcbiAgICBpZiAoJC5mYW5jeWJveC5kZWZhdWx0cy5oYXNoID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBoYXNoIHdoZW4gb3BlbmluZy9jbG9zaW5nIGZhbmN5Qm94XG4gICAgJChkb2N1bWVudCkub24oe1xuICAgICAgXCJvbkluaXQuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIHVybCwgZ2FsbGVyeTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UuZ3JvdXBbaW5zdGFuY2UuY3VyckluZGV4XS5vcHRzLmhhc2ggPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsID0gcGFyc2VVcmwoKTtcbiAgICAgICAgZ2FsbGVyeSA9IGdldEdhbGxlcnlJRChpbnN0YW5jZSk7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIGdhbGxlcnkgc3RhcnQgaW5kZXggbWF0Y2hlcyBpbmRleCBmcm9tIGhhc2hcbiAgICAgICAgaWYgKGdhbGxlcnkgJiYgdXJsLmdhbGxlcnkgJiYgZ2FsbGVyeSA9PSB1cmwuZ2FsbGVyeSkge1xuICAgICAgICAgIGluc3RhbmNlLmN1cnJJbmRleCA9IHVybC5pbmRleCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIFwiYmVmb3JlU2hvdy5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCwgZmlyc3RSdW4pIHtcbiAgICAgICAgdmFyIGdhbGxlcnk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQub3B0cy5oYXNoID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIG5lZWQgdG8gdXBkYXRlIHdpbmRvdyBoYXNoXG4gICAgICAgIGdhbGxlcnkgPSBnZXRHYWxsZXJ5SUQoaW5zdGFuY2UpO1xuXG4gICAgICAgIGlmICghZ2FsbGVyeSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFZhcmlhYmxlIGNvbnRhaW5pbmcgbGFzdCBoYXNoIHZhbHVlIHNldCBieSBmYW5jeUJveFxuICAgICAgICAvLyBJdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGZhbmN5Qm94IG5lZWRzIHRvIGNsb3NlIGFmdGVyIGhhc2ggY2hhbmdlIGlzIGRldGVjdGVkXG4gICAgICAgIGluc3RhbmNlLmN1cnJlbnRIYXNoID0gZ2FsbGVyeSArIChpbnN0YW5jZS5ncm91cC5sZW5ndGggPiAxID8gXCItXCIgKyAoY3VycmVudC5pbmRleCArIDEpIDogXCJcIik7XG5cbiAgICAgICAgLy8gSWYgY3VycmVudCBoYXNoIGlzIHRoZSBzYW1lICh0aGlzIGluc3RhbmNlIG1vc3QgbGlrZWx5IGlzIG9wZW5lZCBieSBoYXNoY2hhbmdlKSwgdGhlbiBkbyBub3RoaW5nXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gXCIjXCIgKyBpbnN0YW5jZS5jdXJyZW50SGFzaCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5zdGFuY2Uub3JpZ0hhc2gpIHtcbiAgICAgICAgICBpbnN0YW5jZS5vcmlnSGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluc3RhbmNlLmhhc2hUaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5oYXNoVGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGhhc2hcbiAgICAgICAgaW5zdGFuY2UuaGFzaFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoXCJyZXBsYWNlU3RhdGVcIiBpbiB3aW5kb3cuaGlzdG9yeSkge1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnlbZmlyc3RSdW4gPyBcInB1c2hTdGF0ZVwiIDogXCJyZXBsYWNlU3RhdGVcIl0oXG4gICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSxcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIFwiI1wiICsgaW5zdGFuY2UuY3VycmVudEhhc2hcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICAgICAgICBpbnN0YW5jZS5oYXNDcmVhdGVkSGlzdG9yeSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaW5zdGFuY2UuY3VycmVudEhhc2g7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5zdGFuY2UuaGFzaFRpbWVyID0gbnVsbDtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH0sXG5cbiAgICAgIFwiYmVmb3JlQ2xvc2UuZmJcIjogZnVuY3Rpb24oZSwgaW5zdGFuY2UsIGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGdhbGxlcnk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQub3B0cy5oYXNoID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdhbGxlcnkgPSBnZXRHYWxsZXJ5SUQoaW5zdGFuY2UpO1xuXG4gICAgICAgIC8vIEdvdG8gcHJldmlvdXMgaGlzdG9yeSBlbnRyeVxuICAgICAgICBpZiAoaW5zdGFuY2UuY3VycmVudEhhc2ggJiYgaW5zdGFuY2UuaGFzQ3JlYXRlZEhpc3RvcnkpIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuY3VycmVudEhhc2gpIHtcbiAgICAgICAgICBpZiAoXCJyZXBsYWNlU3RhdGVcIiBpbiB3aW5kb3cuaGlzdG9yeSkge1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIChpbnN0YW5jZS5vcmlnSGFzaCB8fCBcIlwiKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaW5zdGFuY2Uub3JpZ0hhc2g7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW5zdGFuY2UuY3VycmVudEhhc2ggPSBudWxsO1xuXG4gICAgICAgIGNsZWFyVGltZW91dChpbnN0YW5jZS5oYXNoVGltZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgaWYgbmVlZCB0byBzdGFydC9jbG9zZSBhZnRlciB1cmwgaGFzIGNoYW5nZWRcbiAgICAkKHdpbmRvdykub24oXCJoYXNoY2hhbmdlLmZiXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVybCA9IHBhcnNlVXJsKCksXG4gICAgICAgIGZiO1xuXG4gICAgICAvLyBGaW5kIGxhc3QgZmFuY3lCb3ggaW5zdGFuY2UgdGhhdCBoYXMgXCJoYXNoXCJcbiAgICAgICQuZWFjaChcbiAgICAgICAgJChcIi5mYW5jeWJveC1jb250YWluZXJcIilcbiAgICAgICAgICAuZ2V0KClcbiAgICAgICAgICAucmV2ZXJzZSgpLFxuICAgICAgICBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICB2YXIgdG1wID0gJCh2YWx1ZSkuZGF0YShcIkZhbmN5Qm94XCIpO1xuICAgICAgICAgIC8vaXNDbG9zaW5nXG4gICAgICAgICAgaWYgKHRtcC5jdXJyZW50SGFzaCkge1xuICAgICAgICAgICAgZmIgPSB0bXA7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBpZiAoZmIpIHtcbiAgICAgICAgLy8gTm93LCBjb21wYXJlIGhhc2ggdmFsdWVzXG4gICAgICAgIGlmIChmYi5jdXJyZW50SGFzaCAmJiBmYi5jdXJyZW50SGFzaCAhPT0gdXJsLmdhbGxlcnkgKyBcIi1cIiArIHVybC5pbmRleCAmJiAhKHVybC5pbmRleCA9PT0gMSAmJiBmYi5jdXJyZW50SGFzaCA9PSB1cmwuZ2FsbGVyeSkpIHtcbiAgICAgICAgICBmYi5jdXJyZW50SGFzaCA9IG51bGw7XG5cbiAgICAgICAgICBmYi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHVybC5nYWxsZXJ5ICE9PSBcIlwiKSB7XG4gICAgICAgIHRyaWdnZXJGcm9tVXJsKHVybCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBjdXJyZW50IGhhc2ggYW5kIHRyaWdnZXIgY2xpY2sgZXZlbnQgb24gbWF0Y2hpbmcgZWxlbWVudCB0byBzdGFydCBmYW5jeUJveCwgaWYgbmVlZGVkXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5mYW5jeWJveC5nZXRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHRyaWdnZXJGcm9tVXJsKHBhcnNlVXJsKCkpO1xuICAgICAgfVxuICAgIH0sIDUwKTtcbiAgfSk7XG59KShkb2N1bWVudCwgd2luZG93LCB3aW5kb3cualF1ZXJ5IHx8IGpRdWVyeSk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vL1xuLy8gV2hlZWxcbi8vIEJhc2ljIG1vdXNlIHdlaGVlbCBzdXBwb3J0IGZvciBnYWxsZXJ5IG5hdmlnYXRpb25cbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKGZ1bmN0aW9uKGRvY3VtZW50LCAkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmV2VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICQoZG9jdW1lbnQpLm9uKHtcbiAgICBcIm9uSW5pdC5mYlwiOiBmdW5jdGlvbihlLCBpbnN0YW5jZSwgY3VycmVudCkge1xuICAgICAgaW5zdGFuY2UuJHJlZnMuc3RhZ2Uub24oXCJtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsIHdoZWVsIE1vek1vdXNlUGl4ZWxTY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IGluc3RhbmNlLmN1cnJlbnQsXG4gICAgICAgICAgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UuZ3JvdXAubGVuZ3RoIDwgMiB8fCBjdXJyZW50Lm9wdHMud2hlZWwgPT09IGZhbHNlIHx8IChjdXJyZW50Lm9wdHMud2hlZWwgPT09IFwiYXV0b1wiICYmIGN1cnJlbnQudHlwZSAhPT0gXCJpbWFnZVwiKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAoY3VycmVudC4kc2xpZGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1hbmltYXRlZFwiKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZTtcblxuICAgICAgICBpZiAoY3VyclRpbWUgLSBwcmV2VGltZSA8IDI1MCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZUaW1lID0gY3VyclRpbWU7XG5cbiAgICAgICAgaW5zdGFuY2VbKC1lLmRlbHRhWSB8fCAtZS5kZWx0YVggfHwgZS53aGVlbERlbHRhIHx8IC1lLmRldGFpbCkgPCAwID8gXCJuZXh0XCIgOiBcInByZXZpb3VzXCJdKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufSkoZG9jdW1lbnQsIHdpbmRvdy5qUXVlcnkgfHwgalF1ZXJ5KTtcbiJdfQ==
